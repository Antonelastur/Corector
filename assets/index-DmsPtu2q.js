var a6=Object.defineProperty;var o6=(n,t,e)=>t in n?a6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Be=(n,t,e)=>o6(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var l6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _F(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function u6(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),e}var D1={exports:{}},Sd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function c6(){if(e_)return Sd;e_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return Sd.Fragment=t,Sd.jsx=e,Sd.jsxs=e,Sd}var n_;function h6(){return n_||(n_=1,D1.exports=c6()),D1.exports}var O=h6(),M1={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function f6(){if(i_)return Ue;i_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),_=Symbol.iterator;function y(tt){return tt===null||typeof tt!="object"?null:(tt=_&&tt[_]||tt["@@iterator"],typeof tt=="function"?tt:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function E(tt,M,Y){this.props=tt,this.context=M,this.refs=C,this.updater=Y||S}E.prototype.isReactComponent={},E.prototype.setState=function(tt,M){if(typeof tt!="object"&&typeof tt!="function"&&tt!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,tt,M,"setState")},E.prototype.forceUpdate=function(tt){this.updater.enqueueForceUpdate(this,tt,"forceUpdate")};function D(){}D.prototype=E.prototype;function j(tt,M,Y){this.props=tt,this.context=M,this.refs=C,this.updater=Y||S}var H=j.prototype=new D;H.constructor=j,T(H,E.prototype),H.isPureReactComponent=!0;var K=Array.isArray;function Z(){}var k={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function B(tt,M,Y){var nt=Y.ref;return{$$typeof:n,type:tt,key:M,ref:nt!==void 0?nt:null,props:Y}}function q(tt,M){return B(tt.type,M,tt.props)}function L(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===n}function P(tt){var M={"=":"=0",":":"=2"};return"$"+tt.replace(/[=:]/g,function(Y){return M[Y]})}var z=/\/+/g;function ot(tt,M){return typeof tt=="object"&&tt!==null&&tt.key!=null?P(""+tt.key):M.toString(36)}function mt(tt){switch(tt.status){case"fulfilled":return tt.value;case"rejected":throw tt.reason;default:switch(typeof tt.status=="string"?tt.then(Z,Z):(tt.status="pending",tt.then(function(M){tt.status==="pending"&&(tt.status="fulfilled",tt.value=M)},function(M){tt.status==="pending"&&(tt.status="rejected",tt.reason=M)})),tt.status){case"fulfilled":return tt.value;case"rejected":throw tt.reason}}throw tt}function $(tt,M,Y,nt,lt){var ht=typeof tt;(ht==="undefined"||ht==="boolean")&&(tt=null);var _t=!1;if(tt===null)_t=!0;else switch(ht){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(tt.$$typeof){case n:case t:_t=!0;break;case p:return _t=tt._init,$(_t(tt._payload),M,Y,nt,lt)}}if(_t)return lt=lt(tt),_t=nt===""?"."+ot(tt,0):nt,K(lt)?(Y="",_t!=null&&(Y=_t.replace(z,"$&/")+"/"),$(lt,M,Y,"",function(Qt){return Qt})):lt!=null&&(L(lt)&&(lt=q(lt,Y+(lt.key==null||tt&&tt.key===lt.key?"":(""+lt.key).replace(z,"$&/")+"/")+_t)),M.push(lt)),1;_t=0;var Nt=nt===""?".":nt+":";if(K(tt))for(var Rt=0;Rt<tt.length;Rt++)nt=tt[Rt],ht=Nt+ot(nt,Rt),_t+=$(nt,M,Y,ht,lt);else if(Rt=y(tt),typeof Rt=="function")for(tt=Rt.call(tt),Rt=0;!(nt=tt.next()).done;)nt=nt.value,ht=Nt+ot(nt,Rt++),_t+=$(nt,M,Y,ht,lt);else if(ht==="object"){if(typeof tt.then=="function")return $(mt(tt),M,Y,nt,lt);throw M=String(tt),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return _t}function J(tt,M,Y){if(tt==null)return tt;var nt=[],lt=0;return $(tt,nt,"","",function(ht){return M.call(Y,ht,lt++)}),nt}function et(tt){if(tt._status===-1){var M=tt._result;M=M(),M.then(function(Y){(tt._status===0||tt._status===-1)&&(tt._status=1,tt._result=Y)},function(Y){(tt._status===0||tt._status===-1)&&(tt._status=2,tt._result=Y)}),tt._status===-1&&(tt._status=0,tt._result=M)}if(tt._status===1)return tt._result.default;throw tt._result}var ut=typeof reportError=="function"?reportError:function(tt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof tt=="object"&&tt!==null&&typeof tt.message=="string"?String(tt.message):String(tt),error:tt});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",tt);return}console.error(tt)},pt={map:J,forEach:function(tt,M,Y){J(tt,function(){M.apply(this,arguments)},Y)},count:function(tt){var M=0;return J(tt,function(){M++}),M},toArray:function(tt){return J(tt,function(M){return M})||[]},only:function(tt){if(!L(tt))throw Error("React.Children.only expected to receive a single React element child.");return tt}};return Ue.Activity=m,Ue.Children=pt,Ue.Component=E,Ue.Fragment=e,Ue.Profiler=r,Ue.PureComponent=j,Ue.StrictMode=i,Ue.Suspense=h,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(tt){return k.H.useMemoCache(tt)}},Ue.cache=function(tt){return function(){return tt.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(tt,M,Y){if(tt==null)throw Error("The argument must be a React element, but you passed "+tt+".");var nt=T({},tt.props),lt=tt.key;if(M!=null)for(ht in M.key!==void 0&&(lt=""+M.key),M)!I.call(M,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&M.ref===void 0||(nt[ht]=M[ht]);var ht=arguments.length-2;if(ht===1)nt.children=Y;else if(1<ht){for(var _t=Array(ht),Nt=0;Nt<ht;Nt++)_t[Nt]=arguments[Nt+2];nt.children=_t}return B(tt.type,lt,nt)},Ue.createContext=function(tt){return tt={$$typeof:l,_currentValue:tt,_currentValue2:tt,_threadCount:0,Provider:null,Consumer:null},tt.Provider=tt,tt.Consumer={$$typeof:a,_context:tt},tt},Ue.createElement=function(tt,M,Y){var nt,lt={},ht=null;if(M!=null)for(nt in M.key!==void 0&&(ht=""+M.key),M)I.call(M,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(lt[nt]=M[nt]);var _t=arguments.length-2;if(_t===1)lt.children=Y;else if(1<_t){for(var Nt=Array(_t),Rt=0;Rt<_t;Rt++)Nt[Rt]=arguments[Rt+2];lt.children=Nt}if(tt&&tt.defaultProps)for(nt in _t=tt.defaultProps,_t)lt[nt]===void 0&&(lt[nt]=_t[nt]);return B(tt,ht,lt)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(tt){return{$$typeof:u,render:tt}},Ue.isValidElement=L,Ue.lazy=function(tt){return{$$typeof:p,_payload:{_status:-1,_result:tt},_init:et}},Ue.memo=function(tt,M){return{$$typeof:f,type:tt,compare:M===void 0?null:M}},Ue.startTransition=function(tt){var M=k.T,Y={};k.T=Y;try{var nt=tt(),lt=k.S;lt!==null&&lt(Y,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Z,ut)}catch(ht){ut(ht)}finally{M!==null&&Y.types!==null&&(M.types=Y.types),k.T=M}},Ue.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ue.use=function(tt){return k.H.use(tt)},Ue.useActionState=function(tt,M,Y){return k.H.useActionState(tt,M,Y)},Ue.useCallback=function(tt,M){return k.H.useCallback(tt,M)},Ue.useContext=function(tt){return k.H.useContext(tt)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(tt,M){return k.H.useDeferredValue(tt,M)},Ue.useEffect=function(tt,M){return k.H.useEffect(tt,M)},Ue.useEffectEvent=function(tt){return k.H.useEffectEvent(tt)},Ue.useId=function(){return k.H.useId()},Ue.useImperativeHandle=function(tt,M,Y){return k.H.useImperativeHandle(tt,M,Y)},Ue.useInsertionEffect=function(tt,M){return k.H.useInsertionEffect(tt,M)},Ue.useLayoutEffect=function(tt,M){return k.H.useLayoutEffect(tt,M)},Ue.useMemo=function(tt,M){return k.H.useMemo(tt,M)},Ue.useOptimistic=function(tt,M){return k.H.useOptimistic(tt,M)},Ue.useReducer=function(tt,M,Y){return k.H.useReducer(tt,M,Y)},Ue.useRef=function(tt){return k.H.useRef(tt)},Ue.useState=function(tt){return k.H.useState(tt)},Ue.useSyncExternalStore=function(tt,M,Y){return k.H.useSyncExternalStore(tt,M,Y)},Ue.useTransition=function(){return k.H.useTransition()},Ue.version="19.2.4",Ue}var r_;function _v(){return r_||(r_=1,M1.exports=f6()),M1.exports}var Tt=_v(),j1={exports:{}},Ad={},F1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function d6(){return s_||(s_=1,(function(n){function t($,J){var et=$.length;$.push(J);t:for(;0<et;){var ut=et-1>>>1,pt=$[ut];if(0<r(pt,J))$[ut]=J,$[et]=pt,et=ut;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var J=$[0],et=$.pop();if(et!==J){$[0]=et;t:for(var ut=0,pt=$.length,tt=pt>>>1;ut<tt;){var M=2*(ut+1)-1,Y=$[M],nt=M+1,lt=$[nt];if(0>r(Y,et))nt<pt&&0>r(lt,Y)?($[ut]=lt,$[nt]=et,ut=nt):($[ut]=Y,$[M]=et,ut=M);else if(nt<pt&&0>r(lt,et))$[ut]=lt,$[nt]=et,ut=nt;else break t}}return J}function r($,J){var et=$.sortIndex-J.sortIndex;return et!==0?et:$.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,m=null,_=3,y=!1,S=!1,T=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function H($){for(var J=e(f);J!==null;){if(J.callback===null)i(f);else if(J.startTime<=$)i(f),J.sortIndex=J.expirationTime,t(h,J);else break;J=e(f)}}function K($){if(T=!1,H($),!S)if(e(h)!==null)S=!0,Z||(Z=!0,P());else{var J=e(f);J!==null&&mt(K,J.startTime-$)}}var Z=!1,k=-1,I=5,B=-1;function q(){return C?!0:!(n.unstable_now()-B<I)}function L(){if(C=!1,Z){var $=n.unstable_now();B=$;var J=!0;try{t:{S=!1,T&&(T=!1,D(k),k=-1),y=!0;var et=_;try{e:{for(H($),m=e(h);m!==null&&!(m.expirationTime>$&&q());){var ut=m.callback;if(typeof ut=="function"){m.callback=null,_=m.priorityLevel;var pt=ut(m.expirationTime<=$);if($=n.unstable_now(),typeof pt=="function"){m.callback=pt,H($),J=!0;break e}m===e(h)&&i(h),H($)}else i(h);m=e(h)}if(m!==null)J=!0;else{var tt=e(f);tt!==null&&mt(K,tt.startTime-$),J=!1}}break t}finally{m=null,_=et,y=!1}J=void 0}}finally{J?P():Z=!1}}}var P;if(typeof j=="function")P=function(){j(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ot=z.port2;z.port1.onmessage=L,P=function(){ot.postMessage(null)}}else P=function(){E(L,0)};function mt($,J){k=E(function(){$(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var et=_;_=J;try{return $()}finally{_=et}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var et=_;_=$;try{return J()}finally{_=et}},n.unstable_scheduleCallback=function($,J,et){var ut=n.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?ut+et:ut):et=ut,$){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=et+pt,$={id:p++,callback:J,priorityLevel:$,startTime:et,expirationTime:pt,sortIndex:-1},et>ut?($.sortIndex=et,t(f,$),e(h)===null&&$===e(f)&&(T?(D(k),k=-1):T=!0,mt(K,et-ut))):($.sortIndex=pt,t(h,$),S||y||(S=!0,Z||(Z=!0,P()))),$},n.unstable_shouldYield=q,n.unstable_wrapCallback=function($){var J=_;return function(){var et=_;_=J;try{return $.apply(this,arguments)}finally{_=et}}}})(B1)),B1}var a_;function p6(){return a_||(a_=1,F1.exports=d6()),F1.exports}var V1={exports:{}},ts={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function g6(){if(o_)return ts;o_=1;var n=_v();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ts.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ts.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},ts.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},ts.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},ts.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ts.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:_,fetchPriority:y}):p==="script"&&i.d.X(h,{crossOrigin:m,integrity:_,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ts.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},ts.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ts.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},ts.requestFormReset=function(h){i.d.r(h)},ts.unstable_batchedUpdates=function(h,f){return h(f)},ts.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},ts.useFormStatus=function(){return l.H.useHostTransitionStatus()},ts.version="19.2.4",ts}var l_;function m6(){if(l_)return V1.exports;l_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),V1.exports=g6(),V1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function v6(){if(u_)return Ad;u_=1;var n=p6(),t=_v(),e=m6();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,d=o;;){var b=c.return;if(b===null)break;var x=b.alternate;if(x===null){if(d=b.return,d!==null){c=d;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===c)return h(b),s;if(x===d)return h(b),o;x=x.sibling}throw Error(i(188))}if(c.return!==d.return)c=b,d=x;else{for(var U=!1,st=b.child;st;){if(st===c){U=!0,c=b,d=x;break}if(st===d){U=!0,d=b,c=x;break}st=st.sibling}if(!U){for(st=x.child;st;){if(st===c){U=!0,c=x,d=b;break}if(st===d){U=!0,d=x,c=b;break}st=st.sibling}if(!U)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),j=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var z=Symbol.for("react.client.reference");function ot(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case K:return"Suspense";case Z:return"SuspenseList";case B:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case j:return s.displayName||"Context";case D:return(s._context.displayName||"Context")+".Consumer";case H:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return o=s.displayName||null,o!==null?o:ot(s.type)||"Memo";case I:o=s._payload,s=s._init;try{return ot(s(o))}catch{}}return null}var mt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},ut=[],pt=-1;function tt(s){return{current:s}}function M(s){0>pt||(s.current=ut[pt],ut[pt]=null,pt--)}function Y(s,o){pt++,ut[pt]=s.current,s.current=o}var nt=tt(null),lt=tt(null),ht=tt(null),_t=tt(null);function Nt(s,o){switch(Y(ht,o),Y(lt,s),Y(nt,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Ab(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Ab(o),s=Eb(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}M(nt),Y(nt,s)}function Rt(){M(nt),M(lt),M(ht)}function Qt(s){s.memoizedState!==null&&Y(_t,s);var o=nt.current,c=Eb(o,s.type);o!==c&&(Y(lt,s),Y(nt,c))}function Kt(s){lt.current===s&&(M(nt),M(lt)),_t.current===s&&(M(_t),bd._currentValue=et)}var ee,ie;function ve(s){if(ee===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ee=o&&o[1]||"",ie=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+s+ie}var Ft=!1;function dt(s,o){if(!s||Ft)return"";Ft=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Gt=function(){throw Error()};if(Object.defineProperty(Gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Gt,[])}catch(Mt){var Dt=Mt}Reflect.construct(s,[],Gt)}else{try{Gt.call()}catch(Mt){Dt=Mt}s.call(Gt.prototype)}}else{try{throw Error()}catch(Mt){Dt=Mt}(Gt=s())&&typeof Gt.catch=="function"&&Gt.catch(function(){})}}catch(Mt){if(Mt&&Dt&&typeof Mt.stack=="string")return[Mt.stack,Dt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),U=x[0],st=x[1];if(U&&st){var gt=U.split(`
`),Ot=st.split(`
`);for(b=d=0;d<gt.length&&!gt[d].includes("DetermineComponentFrameRoot");)d++;for(;b<Ot.length&&!Ot[b].includes("DetermineComponentFrameRoot");)b++;if(d===gt.length||b===Ot.length)for(d=gt.length-1,b=Ot.length-1;1<=d&&0<=b&&gt[d]!==Ot[b];)b--;for(;1<=d&&0<=b;d--,b--)if(gt[d]!==Ot[b]){if(d!==1||b!==1)do if(d--,b--,0>b||gt[d]!==Ot[b]){var Vt=`
`+gt[d].replace(" at new "," at ");return s.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",s.displayName)),Vt}while(1<=d&&0<=b);break}}}finally{Ft=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?ve(c):""}function Oe(s,o){switch(s.tag){case 26:case 27:case 5:return ve(s.type);case 16:return ve("Lazy");case 13:return s.child!==o&&o!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return dt(s.type,!1);case 11:return dt(s.type.render,!1);case 1:return dt(s.type,!0);case 31:return ve("Activity");default:return""}}function de(s){try{var o="",c=null;do o+=Oe(s,c),c=s,s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Zt=Object.prototype.hasOwnProperty,te=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,oe=n.unstable_shouldYield,ye=n.unstable_requestPaint,me=n.unstable_now,Fe=n.unstable_getCurrentPriorityLevel,_e=n.unstable_ImmediatePriority,Te=n.unstable_UserBlockingPriority,tn=n.unstable_NormalPriority,Ne=n.unstable_LowPriority,Ge=n.unstable_IdlePriority,le=n.log,ui=n.unstable_setDisableYieldValue,We=null,Un=null;function $e(s){if(typeof le=="function"&&ui(s),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(We,s)}catch{}}var Ke=Math.clz32?Math.clz32:va,As=Math.log,ln=Math.LN2;function va(s){return s>>>=0,s===0?32:31-(As(s)/ln|0)|0}var Ln=256,Ei=262144,dr=4194304;function yn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xe(s,o,c){var d=s.pendingLanes;if(d===0)return 0;var b=0,x=s.suspendedLanes,U=s.pingedLanes;s=s.warmLanes;var st=d&134217727;return st!==0?(d=st&~x,d!==0?b=yn(d):(U&=st,U!==0?b=yn(U):c||(c=st&~s,c!==0&&(b=yn(c))))):(st=d&~x,st!==0?b=yn(st):U!==0?b=yn(U):c||(c=d&~s,c!==0&&(b=yn(c)))),b===0?0:o!==0&&o!==b&&(o&x)===0&&(x=b&-b,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:b}function Qe(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Es(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(){var s=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),s}function ji(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Zi(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function fe(s,o,c,d,b,x){var U=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var st=s.entanglements,gt=s.expirationTimes,Ot=s.hiddenUpdates;for(c=U&~c;0<c;){var Vt=31-Ke(c),Gt=1<<Vt;st[Vt]=0,gt[Vt]=-1;var Dt=Ot[Vt];if(Dt!==null)for(Ot[Vt]=null,Vt=0;Vt<Dt.length;Vt++){var Mt=Dt[Vt];Mt!==null&&(Mt.lane&=-536870913)}c&=~Gt}d!==0&&Nr(s,d,0),x!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=x&~(U&~o))}function Nr(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Ke(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&261930}function tr(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-Ke(c),b=1<<d;b&o|s[d]&o&&(s[d]|=o),c&=~b}}function bi(s,o){var c=o&-o;return c=(c&42)!==0?1:ei(c),(c&(s.suspendedLanes|o))!==0?0:c}function ei(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Jn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _i(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:$b(s.type))}function Ua(s,o){var c=J.p;try{return J.p=s,o()}finally{J.p=c}}var Fi=Math.random().toString(36).slice(2),bn="__reactFiber$"+Fi,Dn="__reactProps$"+Fi,Ti="__reactContainer$"+Fi,er="__reactEvents$"+Fi,wi="__reactListeners$"+Fi,ds="__reactHandles$"+Fi,$s="__reactResources$"+Fi,zr="__reactMarker$"+Fi;function Ts(s){delete s[bn],delete s[Dn],delete s[er],delete s[wi],delete s[ds]}function Ur(s){var o=s[bn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Ti]||c[bn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Pb(s);s!==null;){if(c=s[bn])return c;s=Pb(s)}return o}s=c,c=s.parentNode}return null}function qr(s){if(s=s[bn]||s[Ti]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function ya(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function ps(s){var o=s[$s];return o||(o=s[$s]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ni(s){s[zr]=!0}var Ks=new Set,Xs={};function nr(s,o){Hr(s,o),Hr(s+"Capture",o)}function Hr(s,o){for(Xs[s]=o,s=0;s<o.length;s++)Ks.add(o[s])}var Nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Al={};function qa(s){return Zt.call(Al,s)?!0:Zt.call(No,s)?!1:Nc.test(s)?Al[s]=!0:(No[s]=!0,!1)}function ba(s,o,c){if(qa(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Pn(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Cr(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}function Bi(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function El(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Tl(s,o,c){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,x=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(U){c=""+U,x.call(this,U)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(U){c=""+U},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Co(s){if(!s._valueTracker){var o=El(s)?"checked":"value";s._valueTracker=Tl(s,o,""+s[o])}}function Rr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=El(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function Qs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ci=/[\n"\\]/g;function qn(s){return s.replace(ci,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Js(s,o,c,d,b,x,U,st){s.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.type=U:s.removeAttribute("type"),o!=null?U==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Bi(o)):s.value!==""+Bi(o)&&(s.value=""+Bi(o)):U!=="submit"&&U!=="reset"||s.removeAttribute("value"),o!=null?Ga(s,U,Bi(o)):c!=null?Ga(s,U,Bi(c)):d!=null&&s.removeAttribute("value"),b==null&&x!=null&&(s.defaultChecked=!!x),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),st!=null&&typeof st!="function"&&typeof st!="symbol"&&typeof st!="boolean"?s.name=""+Bi(st):s.removeAttribute("name")}function Ha(s,o,c,d,b,x,U,st){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Co(s);return}c=c!=null?""+Bi(c):"",o=o!=null?""+Bi(o):c,st||o===s.value||(s.value=o),s.defaultValue=o}d=d??b,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=st?s.checked:!!d,s.defaultChecked=!!d,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(s.name=U),Co(s)}function Ga(s,o,c){o==="number"&&Qs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function un(s,o,c,d){if(s=s.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<s.length;c++)b=o.hasOwnProperty("$"+s[c].value),s[c].selected!==b&&(s[c].selected=b),b&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Bi(c),o=null,b=0;b<s.length;b++){if(s[b].value===c){s[b].selected=!0,d&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function _a(s,o,c){if(o!=null&&(o=""+Bi(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Bi(c):""}function wa(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(mt(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Bi(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d),Co(s)}function pr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||Cc.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function pu(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var b in o)d=o[b],o.hasOwnProperty(b)&&c[b]!==d&&Nl(s,b,d)}else for(var x in o)o.hasOwnProperty(x)&&Nl(s,x,o[x])}function gs(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ms(s){return Io.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function gn(){}var Lo=null;function Wa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Se=null,Ir=null;function gu(s){var o=qr(s);if(o&&(s=o.stateNode)){var c=s[Dn]||null;t:switch(s=o.stateNode,o.type){case"input":if(Js(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+qn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var b=d[Dn]||null;if(!b)throw Error(i(90));Js(d,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&Rr(d)}break t;case"textarea":_a(s,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&un(s,!!c.multiple,o,!1)}}}var Gr=!1;function Cl(s,o,c){if(Gr)return s(o,c);Gr=!0;try{var d=s(o);return d}finally{if(Gr=!1,(Se!==null||Ir!==null)&&(eg(),Se&&(o=Se,s=Ir,Ir=Se=null,gu(o),s)))for(o=0;o<s.length;o++)gu(s[o])}}function ir(s,o){var c=s.stateNode;if(c===null)return null;var d=c[Dn]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(gr)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Ya=!1}var Lr=null,Po=null,Wr=null;function Yr(){if(Wr)return Wr;var s,o=Po,c=o.length,d,b="value"in Lr?Lr.value:Lr.textContent,x=b.length;for(s=0;s<c&&o[s]===b[s];s++);var U=c-s;for(d=1;d<=U&&o[c-d]===b[x-d];d++);return Wr=b.slice(s,1<d?1-d:void 0)}function $r(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function xa(){return!0}function Sn(){return!1}function Ni(s){function o(c,d,b,x,U){this._reactName=c,this._targetInst=b,this.type=d,this.nativeEvent=x,this.target=U,this.currentTarget=null;for(var st in s)s.hasOwnProperty(st)&&(c=s[st],this[st]=c?c(x):x[st]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?xa:Sn,this.isPropagationStopped=Sn,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),o}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Ni(Kr),Zs=m({},Kr,{view:0,detail:0}),Rl=Ni(Zs),ta,Pr,ii,$a=m({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ii&&(ii&&s.type==="mousemove"?(ta=s.screenX-ii.screenX,Pr=s.screenY-ii.screenY):Pr=ta=0,ii=s),ta)},movementY:function(s){return"movementY"in s?s.movementY:Pr}}),ea=Ni($a),rr=m({},$a,{dataTransfer:0}),ko=Ni(rr),na=m({},Zs,{relatedTarget:0}),Aa=Ni(na),Ka=m({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=Ni(Ka),Il=m({},Kr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Do=Ni(Il),Ea=m({},Kr,{data:0}),Ta=Ni(Ea),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=jo[s])?!!o[s]:!1}function vs(){return mu}var Na=m({},Zs,{key:function(s){if(s.key){var o=Mo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=$r(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xa[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(s){return s.type==="keypress"?$r(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$r(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fo=Ni(Na),mr=m({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=Ni(mr),A=m({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),G=Ni(A),ft=m({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vt=Ni(ft),Et=m({},$a,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Bt=Ni(Et),Xt=m({},Kr,{newState:0,oldState:0}),se=Ni(Xt),v=[9,13,27,32],R=gr&&"CompositionEvent"in window,V=null;gr&&"documentMode"in document&&(V=document.documentMode);var rt=gr&&"TextEvent"in window&&!V,St=gr&&(!R||V&&8<V&&11>=V),Pt=" ",Jt=!1;function De(s,o){switch(s){case"keyup":return v.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Je(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Re=!1;function An(s,o){switch(s){case"compositionend":return Je(o);case"keypress":return o.which!==32?null:(Jt=!0,Pt);case"textInput":return s=o.data,s===Pt&&Jt?null:s;default:return null}}function Mn(s,o){if(Re)return s==="compositionend"||!R&&De(s,o)?(s=Yr(),Wr=Po=Lr=null,Re=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return St&&o.locale!=="ko"?null:o.data;default:return null}}var ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!ia[s.type]:o==="textarea"}function ra(s,o,c,d){Se?Ir?Ir.push(d):Ir=[d]:Se=d,o=lg(o,"onChange"),0<o.length&&(c=new Sa("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var Xr=null,Ja=null;function Rc(s){yb(s,0)}function Za(s){var o=ya(s);if(Rr(o))return s}function zi(s,o){if(s==="change")return o}var Ll=!1;if(gr){var Bo;if(gr){var Vo="oninput"in document;if(!Vo){var vu=document.createElement("div");vu.setAttribute("oninput","return;"),Vo=typeof vu.oninput=="function"}Bo=Vo}else Bo=!1;Ll=Bo&&(!document.documentMode||9<document.documentMode)}function kr(){Xr&&(Xr.detachEvent("onpropertychange",xh),Ja=Xr=null)}function xh(s){if(s.propertyName==="value"&&Za(Ja)){var o=[];ra(o,Ja,s,Wa(s)),Cl(Rc,o)}}function Ic(s,o,c){s==="focusin"?(kr(),Xr=o,Ja=c,Xr.attachEvent("onpropertychange",xh)):s==="focusout"&&kr()}function Sh(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Za(Ja)}function Cs(s,o){if(s==="click")return Za(o)}function yu(s,o){if(s==="input"||s==="change")return Za(o)}function Ah(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var vr=typeof Object.is=="function"?Object.is:Ah;function Rs(s,o){if(vr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var b=c[d];if(!Zt.call(o,b)||!vr(s[b],o[b]))return!1}return!0}function zo(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Or(s,o){var c=zo(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=zo(c)}}function yr(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?yr(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function to(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Qs(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Qs(s.document)}return o}function sa(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var eo=gr&&"documentMode"in document&&11>=document.documentMode,aa=null,oa=null,Yn=null,Pl=!1;function br(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pl||aa==null||aa!==Qs(d)||(d=aa,"selectionStart"in d&&sa(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Yn&&Rs(Yn,d)||(Yn=d,d=lg(oa,"onSelect"),0<d.length&&(o=new Sa("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=aa)))}function Ui(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var la={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},bu={},_u={};gr&&(_u=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ys(s){if(bu[s])return bu[s];if(!la[s])return s;var o=la[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in _u)return bu[s]=o[c];return s}var Uo=ys("animationend"),no=ys("animationiteration"),qo=ys("animationstart"),wu=ys("transitionrun"),kl=ys("transitionstart"),Ho=ys("transitioncancel"),xu=ys("transitionend"),bs=new Map,Qr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qr.push("scrollEnd");function en(s,o){bs.set(s,o),nr(o,[s])}var Cn=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},_n=[],Zn=0,ua=0;function Go(){for(var s=Zn,o=ua=Zn=0;o<s;){var c=_n[o];_n[o++]=null;var d=_n[o];_n[o++]=null;var b=_n[o];_n[o++]=null;var x=_n[o];if(_n[o++]=null,d!==null&&b!==null){var U=d.pending;U===null?b.next=b:(b.next=U.next,U.next=b),d.pending=b}x!==0&&Lc(c,b,x)}}function io(s,o,c,d){_n[Zn++]=s,_n[Zn++]=o,_n[Zn++]=c,_n[Zn++]=d,ua|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Su(s,o,c,d){return io(s,o,c,d),_r(s)}function ro(s,o){return io(s,null,null,o),_r(s)}function Lc(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var b=!1,x=s.return;x!==null;)x.childLanes|=c,d=x.alternate,d!==null&&(d.childLanes|=c),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(b=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,b&&o!==null&&(b=31-Ke(c),s=x.hiddenUpdates,d=s[b],d===null?s[b]=[o]:d.push(o),o.lane=c|536870912),x):null}function _r(s){if(50<fd)throw fd=0,s1=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var sr={};function Eh(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,o,c,d){return new Eh(s,o,c,d)}function Th(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Is(s,o){var c=s.alternate;return c===null?(c=wr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Pc(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Au(s,o,c,d,b,x){var U=0;if(d=s,typeof s=="function")Th(s)&&(U=1);else if(typeof s=="string")U=$T(s,c,nt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case B:return s=wr(31,c,o,b),s.elementType=B,s.lanes=x,s;case T:return Wo(c.children,b,x,o);case C:U=8,b|=24;break;case E:return s=wr(12,c,o,b|2),s.elementType=E,s.lanes=x,s;case K:return s=wr(13,c,o,b),s.elementType=K,s.lanes=x,s;case Z:return s=wr(19,c,o,b),s.elementType=Z,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:U=10;break t;case D:U=9;break t;case H:U=11;break t;case k:U=14;break t;case I:U=16,d=null;break t}U=29,c=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=wr(U,c,o,b),o.elementType=s,o.type=d,o.lanes=x,o}function Wo(s,o,c,d){return s=wr(7,s,d,o),s.lanes=c,s}function kc(s,o,c){return s=wr(6,s,null,o),s.lanes=c,s}function Nh(s){var o=wr(18,null,null,0);return o.stateNode=s,o}function Eu(s,o,c){return o=wr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ch=new WeakMap;function Ls(s,o){if(typeof s=="object"&&s!==null){var c=Ch.get(s);return c!==void 0?c:(o={value:s,source:o,stack:de(o)},Ch.set(s,o),o)}return{value:s,source:o,stack:de(o)}}var Tu=[],Ol=0,Rh=null,Oc=0,Ps=[],ks=0,Yo=null,Os=1,Ds="";function _s(s,o){Tu[Ol++]=Oc,Tu[Ol++]=Rh,Rh=s,Oc=o}function Op(s,o,c){Ps[ks++]=Os,Ps[ks++]=Ds,Ps[ks++]=Yo,Yo=s;var d=Os;s=Ds;var b=32-Ke(d)-1;d&=~(1<<b),c+=1;var x=32-Ke(o)+b;if(30<x){var U=b-b%5;x=(d&(1<<U)-1).toString(32),d>>=U,b-=U,Os=1<<32-Ke(o)+b|c<<b|d,Ds=x+s}else Os=1<<x|c<<b|d,Ds=s}function Gf(s){s.return!==null&&(_s(s,1),Op(s,1,0))}function Ih(s){for(;s===Rh;)Rh=Tu[--Ol],Tu[Ol]=null,Oc=Tu[--Ol],Tu[Ol]=null;for(;s===Yo;)Yo=Ps[--ks],Ps[ks]=null,Ds=Ps[--ks],Ps[ks]=null,Os=Ps[--ks],Ps[ks]=null}function Dp(s,o){Ps[ks++]=Os,Ps[ks++]=Ds,Ps[ks++]=Yo,Os=o.id,Ds=o.overflow,Yo=s}var ar=null,$n=null,rn=!1,Dr=null,hi=!1,ca=Error(i(519));function $o(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nu(Ls(o,s)),ca}function Wf(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[bn]=s,o[Dn]=d,c){case"dialog":on("cancel",o),on("close",o);break;case"iframe":case"object":case"embed":on("load",o);break;case"video":case"audio":for(c=0;c<pd.length;c++)on(pd[c],o);break;case"source":on("error",o);break;case"img":case"image":case"link":on("error",o),on("load",o);break;case"details":on("toggle",o);break;case"input":on("invalid",o),Ha(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":on("invalid",o);break;case"textarea":on("invalid",o),wa(o,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||xb(o.textContent,c)?(d.popover!=null&&(on("beforetoggle",o),on("toggle",o)),d.onScroll!=null&&on("scroll",o),d.onScrollEnd!=null&&on("scrollend",o),d.onClick!=null&&(o.onclick=gn),o=!0):o=!1,o||$o(s,!0)}function so(s){for(ar=s.return;ar;)switch(ar.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ar=ar.return}}function or(s){if(s!==ar)return!1;if(!rn)return so(s),rn=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||_1(s.type,s.memoizedProps)),c=!c),c&&$n&&$o(s),so(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));$n=Lb(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));$n=Lb(s)}else o===27?(o=$n,zu(s.type)?(s=E1,E1=null,$n=s):$n=o):$n=ar?Oa(s.stateNode.nextSibling):null;return!0}function Dl(){$n=ar=null,rn=!1}function Yf(){var s=Dr;return s!==null&&(zs===null?zs=s:zs.push.apply(zs,s),Dr=null),s}function Nu(s){Dr===null?Dr=[s]:Dr.push(s)}var Lh=tt(null),Ko=null,Ca=null;function Xo(s,o,c){Y(Lh,o._currentValue),o._currentValue=c}function Ms(s){s._currentValue=Lh.current,M(Lh)}function Cu(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function Ml(s,o,c,d){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var x=b.dependencies;if(x!==null){var U=b.child;x=x.firstContext;t:for(;x!==null;){var st=x;x=b;for(var gt=0;gt<o.length;gt++)if(st.context===o[gt]){x.lanes|=c,st=x.alternate,st!==null&&(st.lanes|=c),Cu(x.return,c,s),d||(U=null);break t}x=st.next}}else if(b.tag===18){if(U=b.return,U===null)throw Error(i(341));U.lanes|=c,x=U.alternate,x!==null&&(x.lanes|=c),Cu(U,c,s),U=null}else U=b.child;if(U!==null)U.return=b;else for(U=b;U!==null;){if(U===s){U=null;break}if(b=U.sibling,b!==null){b.return=U.return,U=b;break}U=U.return}b=U}}function Qo(s,o,c,d){s=null;for(var b=o,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var U=b.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var st=b.type;vr(b.pendingProps.value,U.value)||(s!==null?s.push(st):s=[st])}}else if(b===_t.current){if(U=b.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(bd):s=[bd])}b=b.return}s!==null&&Ml(o,s,c,d),o.flags|=262144}function Ph(s){for(s=s.firstContext;s!==null;){if(!vr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Jo(s){Ko=s,Ca=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function lr(s){return Mp(Ko,s)}function kh(s,o){return Ko===null&&Jo(s),Mp(s,o)}function Mp(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ca===null){if(s===null)throw Error(i(308));Ca=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ca=Ca.next=o;return c}var A0=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},E0=n.unstable_scheduleCallback,T0=n.unstable_NormalPriority,xi={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ru(){return{controller:new A0,data:new Map,refCount:0}}function Dc(s){s.refCount--,s.refCount===0&&E0(T0,function(){s.controller.abort()})}var Mc=null,Oh=0,g=0,w=null;function N(s,o){if(Mc===null){var c=Mc=[];Oh=0,g=h1(),w={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Oh++,o.then(F,F),o}function F(){if(--Oh===0&&Mc!==null){w!==null&&(w.status="fulfilled");var s=Mc;Mc=null,g=0,w=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function W(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(d.status="rejected",d.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),d}var X=$.S;$.S=function(s,o){W5=me(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&N(s,o),X!==null&&X(s,o)};var Q=tt(null);function it(){var s=Q.current;return s!==null?s:Xn.pooledCache}function at(s,o){o===null?Y(Q,Q.current):Y(Q,o.pool)}function ct(){var s=it();return s===null?null:{parent:xi._currentValue,pool:s}}var yt=Error(i(460)),Lt=Error(i(474)),It=Error(i(542)),At={then:function(){}};function Ht(s){return s=s.status,s==="fulfilled"||s==="rejected"}function jt(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(gn,gn),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$t(s),s;default:if(typeof o.status=="string")o.then(gn,gn);else{if(s=Xn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=d}},function(d){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$t(s),s}throw xt=o,yt}}function bt(s){try{var o=s._init;return o(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(xt=c,yt):c}}var xt=null;function Ut(){if(xt===null)throw Error(i(459));var s=xt;return xt=null,s}function $t(s){if(s===yt||s===It)throw Error(i(483))}var zt=null,ue=0;function ne(s){var o=ue;return ue+=1,zt===null&&(zt=[]),jt(zt,s,o)}function we(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function re(s,o){throw o.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function wn(s){function o(Ct,wt){if(s){var kt=Ct.deletions;kt===null?(Ct.deletions=[wt],Ct.flags|=16):kt.push(wt)}}function c(Ct,wt){if(!s)return null;for(;wt!==null;)o(Ct,wt),wt=wt.sibling;return null}function d(Ct){for(var wt=new Map;Ct!==null;)Ct.key!==null?wt.set(Ct.key,Ct):wt.set(Ct.index,Ct),Ct=Ct.sibling;return wt}function b(Ct,wt){return Ct=Is(Ct,wt),Ct.index=0,Ct.sibling=null,Ct}function x(Ct,wt,kt){return Ct.index=kt,s?(kt=Ct.alternate,kt!==null?(kt=kt.index,kt<wt?(Ct.flags|=67108866,wt):kt):(Ct.flags|=67108866,wt)):(Ct.flags|=1048576,wt)}function U(Ct){return s&&Ct.alternate===null&&(Ct.flags|=67108866),Ct}function st(Ct,wt,kt,qt){return wt===null||wt.tag!==6?(wt=kc(kt,Ct.mode,qt),wt.return=Ct,wt):(wt=b(wt,kt),wt.return=Ct,wt)}function gt(Ct,wt,kt,qt){var Ae=kt.type;return Ae===T?Vt(Ct,wt,kt.props.children,qt,kt.key):wt!==null&&(wt.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===I&&bt(Ae)===wt.type)?(wt=b(wt,kt.props),we(wt,kt),wt.return=Ct,wt):(wt=Au(kt.type,kt.key,kt.props,null,Ct.mode,qt),we(wt,kt),wt.return=Ct,wt)}function Ot(Ct,wt,kt,qt){return wt===null||wt.tag!==4||wt.stateNode.containerInfo!==kt.containerInfo||wt.stateNode.implementation!==kt.implementation?(wt=Eu(kt,Ct.mode,qt),wt.return=Ct,wt):(wt=b(wt,kt.children||[]),wt.return=Ct,wt)}function Vt(Ct,wt,kt,qt,Ae){return wt===null||wt.tag!==7?(wt=Wo(kt,Ct.mode,qt,Ae),wt.return=Ct,wt):(wt=b(wt,kt),wt.return=Ct,wt)}function Gt(Ct,wt,kt){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return wt=kc(""+wt,Ct.mode,kt),wt.return=Ct,wt;if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case y:return kt=Au(wt.type,wt.key,wt.props,null,Ct.mode,kt),we(kt,wt),kt.return=Ct,kt;case S:return wt=Eu(wt,Ct.mode,kt),wt.return=Ct,wt;case I:return wt=bt(wt),Gt(Ct,wt,kt)}if(mt(wt)||P(wt))return wt=Wo(wt,Ct.mode,kt,null),wt.return=Ct,wt;if(typeof wt.then=="function")return Gt(Ct,ne(wt),kt);if(wt.$$typeof===j)return Gt(Ct,kh(Ct,wt),kt);re(Ct,wt)}return null}function Dt(Ct,wt,kt,qt){var Ae=wt!==null?wt.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return Ae!==null?null:st(Ct,wt,""+kt,qt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case y:return kt.key===Ae?gt(Ct,wt,kt,qt):null;case S:return kt.key===Ae?Ot(Ct,wt,kt,qt):null;case I:return kt=bt(kt),Dt(Ct,wt,kt,qt)}if(mt(kt)||P(kt))return Ae!==null?null:Vt(Ct,wt,kt,qt,null);if(typeof kt.then=="function")return Dt(Ct,wt,ne(kt),qt);if(kt.$$typeof===j)return Dt(Ct,wt,kh(Ct,kt),qt);re(Ct,kt)}return null}function Mt(Ct,wt,kt,qt,Ae){if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return Ct=Ct.get(kt)||null,st(wt,Ct,""+qt,Ae);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case y:return Ct=Ct.get(qt.key===null?kt:qt.key)||null,gt(wt,Ct,qt,Ae);case S:return Ct=Ct.get(qt.key===null?kt:qt.key)||null,Ot(wt,Ct,qt,Ae);case I:return qt=bt(qt),Mt(Ct,wt,kt,qt,Ae)}if(mt(qt)||P(qt))return Ct=Ct.get(kt)||null,Vt(wt,Ct,qt,Ae,null);if(typeof qt.then=="function")return Mt(Ct,wt,kt,ne(qt),Ae);if(qt.$$typeof===j)return Mt(Ct,wt,kt,kh(wt,qt),Ae);re(wt,qt)}return null}function pe(Ct,wt,kt,qt){for(var Ae=null,Tn=null,be=wt,Ye=wt=0,fn=null;be!==null&&Ye<kt.length;Ye++){be.index>Ye?(fn=be,be=null):fn=be.sibling;var Nn=Dt(Ct,be,kt[Ye],qt);if(Nn===null){be===null&&(be=fn);break}s&&be&&Nn.alternate===null&&o(Ct,be),wt=x(Nn,wt,Ye),Tn===null?Ae=Nn:Tn.sibling=Nn,Tn=Nn,be=fn}if(Ye===kt.length)return c(Ct,be),rn&&_s(Ct,Ye),Ae;if(be===null){for(;Ye<kt.length;Ye++)be=Gt(Ct,kt[Ye],qt),be!==null&&(wt=x(be,wt,Ye),Tn===null?Ae=be:Tn.sibling=be,Tn=be);return rn&&_s(Ct,Ye),Ae}for(be=d(be);Ye<kt.length;Ye++)fn=Mt(be,Ct,Ye,kt[Ye],qt),fn!==null&&(s&&fn.alternate!==null&&be.delete(fn.key===null?Ye:fn.key),wt=x(fn,wt,Ye),Tn===null?Ae=fn:Tn.sibling=fn,Tn=fn);return s&&be.forEach(function(Wu){return o(Ct,Wu)}),rn&&_s(Ct,Ye),Ae}function Le(Ct,wt,kt,qt){if(kt==null)throw Error(i(151));for(var Ae=null,Tn=null,be=wt,Ye=wt=0,fn=null,Nn=kt.next();be!==null&&!Nn.done;Ye++,Nn=kt.next()){be.index>Ye?(fn=be,be=null):fn=be.sibling;var Wu=Dt(Ct,be,Nn.value,qt);if(Wu===null){be===null&&(be=fn);break}s&&be&&Wu.alternate===null&&o(Ct,be),wt=x(Wu,wt,Ye),Tn===null?Ae=Wu:Tn.sibling=Wu,Tn=Wu,be=fn}if(Nn.done)return c(Ct,be),rn&&_s(Ct,Ye),Ae;if(be===null){for(;!Nn.done;Ye++,Nn=kt.next())Nn=Gt(Ct,Nn.value,qt),Nn!==null&&(wt=x(Nn,wt,Ye),Tn===null?Ae=Nn:Tn.sibling=Nn,Tn=Nn);return rn&&_s(Ct,Ye),Ae}for(be=d(be);!Nn.done;Ye++,Nn=kt.next())Nn=Mt(be,Ct,Ye,Nn.value,qt),Nn!==null&&(s&&Nn.alternate!==null&&be.delete(Nn.key===null?Ye:Nn.key),wt=x(Nn,wt,Ye),Tn===null?Ae=Nn:Tn.sibling=Nn,Tn=Nn);return s&&be.forEach(function(s6){return o(Ct,s6)}),rn&&_s(Ct,Ye),Ae}function Wn(Ct,wt,kt,qt){if(typeof kt=="object"&&kt!==null&&kt.type===T&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case y:t:{for(var Ae=kt.key;wt!==null;){if(wt.key===Ae){if(Ae=kt.type,Ae===T){if(wt.tag===7){c(Ct,wt.sibling),qt=b(wt,kt.props.children),qt.return=Ct,Ct=qt;break t}}else if(wt.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===I&&bt(Ae)===wt.type){c(Ct,wt.sibling),qt=b(wt,kt.props),we(qt,kt),qt.return=Ct,Ct=qt;break t}c(Ct,wt);break}else o(Ct,wt);wt=wt.sibling}kt.type===T?(qt=Wo(kt.props.children,Ct.mode,qt,kt.key),qt.return=Ct,Ct=qt):(qt=Au(kt.type,kt.key,kt.props,null,Ct.mode,qt),we(qt,kt),qt.return=Ct,Ct=qt)}return U(Ct);case S:t:{for(Ae=kt.key;wt!==null;){if(wt.key===Ae)if(wt.tag===4&&wt.stateNode.containerInfo===kt.containerInfo&&wt.stateNode.implementation===kt.implementation){c(Ct,wt.sibling),qt=b(wt,kt.children||[]),qt.return=Ct,Ct=qt;break t}else{c(Ct,wt);break}else o(Ct,wt);wt=wt.sibling}qt=Eu(kt,Ct.mode,qt),qt.return=Ct,Ct=qt}return U(Ct);case I:return kt=bt(kt),Wn(Ct,wt,kt,qt)}if(mt(kt))return pe(Ct,wt,kt,qt);if(P(kt)){if(Ae=P(kt),typeof Ae!="function")throw Error(i(150));return kt=Ae.call(kt),Le(Ct,wt,kt,qt)}if(typeof kt.then=="function")return Wn(Ct,wt,ne(kt),qt);if(kt.$$typeof===j)return Wn(Ct,wt,kh(Ct,kt),qt);re(Ct,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint"?(kt=""+kt,wt!==null&&wt.tag===6?(c(Ct,wt.sibling),qt=b(wt,kt),qt.return=Ct,Ct=qt):(c(Ct,wt),qt=kc(kt,Ct.mode,qt),qt.return=Ct,Ct=qt),U(Ct)):c(Ct,wt)}return function(Ct,wt,kt,qt){try{ue=0;var Ae=Wn(Ct,wt,kt,qt);return zt=null,Ae}catch(be){if(be===yt||be===It)throw be;var Tn=wr(29,be,null,Ct.mode);return Tn.lanes=qt,Tn.return=Ct,Tn}finally{}}}var sn=wn(!0),cn=wn(!1),Ve=!1;function Rn(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function En(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ie(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function jn(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(In&2)!==0){var b=d.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),d.pending=o,o=_r(s),Lc(s,null,c),o}return io(s,d,o,c),_r(s)}function qi(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,tr(s,c)}}function fi(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var b=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var U={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?b=x=U:x=x.next=U,c=c.next}while(c!==null);x===null?b=x=o:x=x.next=o}else b=x=o;c={baseState:d.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var xr=!1;function mn(){if(xr){var s=w;if(s!==null)throw s}}function ur(s,o,c,d){xr=!1;var b=s.updateQueue;Ve=!1;var x=b.firstBaseUpdate,U=b.lastBaseUpdate,st=b.shared.pending;if(st!==null){b.shared.pending=null;var gt=st,Ot=gt.next;gt.next=null,U===null?x=Ot:U.next=Ot,U=gt;var Vt=s.alternate;Vt!==null&&(Vt=Vt.updateQueue,st=Vt.lastBaseUpdate,st!==U&&(st===null?Vt.firstBaseUpdate=Ot:st.next=Ot,Vt.lastBaseUpdate=gt))}if(x!==null){var Gt=b.baseState;U=0,Vt=Ot=gt=null,st=x;do{var Dt=st.lane&-536870913,Mt=Dt!==st.lane;if(Mt?(hn&Dt)===Dt:(d&Dt)===Dt){Dt!==0&&Dt===g&&(xr=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});t:{var pe=s,Le=st;Dt=o;var Wn=c;switch(Le.tag){case 1:if(pe=Le.payload,typeof pe=="function"){Gt=pe.call(Wn,Gt,Dt);break t}Gt=pe;break t;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Le.payload,Dt=typeof pe=="function"?pe.call(Wn,Gt,Dt):pe,Dt==null)break t;Gt=m({},Gt,Dt);break t;case 2:Ve=!0}}Dt=st.callback,Dt!==null&&(s.flags|=64,Mt&&(s.flags|=8192),Mt=b.callbacks,Mt===null?b.callbacks=[Dt]:Mt.push(Dt))}else Mt={lane:Dt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},Vt===null?(Ot=Vt=Mt,gt=Gt):Vt=Vt.next=Mt,U|=Dt;if(st=st.next,st===null){if(st=b.shared.pending,st===null)break;Mt=st,st=Mt.next,Mt.next=null,b.lastBaseUpdate=Mt,b.shared.pending=null}}while(!0);Vt===null&&(gt=Gt),b.baseState=gt,b.firstBaseUpdate=Ot,b.lastBaseUpdate=Vt,x===null&&(b.shared.lanes=0),Mu|=U,s.lanes=U,s.memoizedState=Gt}}function Jr(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Li(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Jr(c[s],o)}var di=tt(null),Hi=tt(0);function ws(s,o){s=$l,Y(Hi,s),Y(di,o),$l=s|o.baseLanes}function js(){Y(Hi,$l),Y(di,di.current)}function Ci(){$l=Hi.current,M(di),M(Hi)}var Si=tt(null),Gi=null;function xs(s){var o=s.alternate;Y(pi,pi.current&1),Y(Si,s),Gi===null&&(o===null||di.current!==null||o.memoizedState!==null)&&(Gi=s)}function Ra(s){Y(pi,pi.current),Y(Si,s),Gi===null&&(Gi=s)}function ri(s){s.tag===22?(Y(pi,pi.current),Y(Si,s),Gi===null&&(Gi=s)):Ia()}function Ia(){Y(pi,pi.current),Y(Si,Si.current)}function Zr(s){M(Si),Gi===s&&(Gi=null),M(pi)}var pi=tt(0);function jl(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||S1(c)||A1(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ss=0,Me=null,Xe=null,Kn=null,ao=!1,Fl=!1,La=!1,jc=0,Zo=0,tl=null,Dh=0;function Hn(){throw Error(i(321))}function $f(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!vr(s[c],o[c]))return!1;return!0}function Kf(s,o,c,d,b,x){return Ss=x,Me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=s===null||s.memoizedState===null?i5:O0,La=!1,x=c(d,b),La=!1,Fl&&(x=oo(o,c,d,b)),Mh(s),x}function Mh(s){$.H=id;var o=Xe!==null&&Xe.next!==null;if(Ss=0,Kn=Xe=Me=null,ao=!1,Zo=0,tl=null,o)throw Error(i(300));s===null||Yi||(s=s.dependencies,s!==null&&Ph(s)&&(Yi=!0))}function oo(s,o,c,d){Me=s;var b=0;do{if(Fl&&(tl=null),Zo=0,Fl=!1,25<=b)throw Error(i(301));if(b+=1,Kn=Xe=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=r5,x=o(c,d)}while(Fl);return x}function N0(){var s=$.H,o=s.useState()[0];return o=typeof o.then=="function"?el(o):o,s=s.useState()[0],(Xe!==null?Xe.memoizedState:null)!==s&&(Me.flags|=1024),o}function Xf(){var s=jc!==0;return jc=0,s}function Qf(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function jh(s){if(ao){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}ao=!1}Ss=0,Kn=Xe=Me=null,Fl=!1,Zo=jc=0,tl=null}function Wi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Me.memoizedState=Kn=s:Kn=Kn.next=s,Kn}function gi(){if(Xe===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=Xe.next;var o=Kn===null?Me.memoizedState:Kn.next;if(o!==null)Kn=o,Xe=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));Xe=s,s={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Kn===null?Me.memoizedState=Kn=s:Kn=Kn.next=s}return Kn}function Fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(s){var o=Zo;return Zo+=1,tl===null&&(tl=[]),s=jt(tl,s,o),o=Me,(Kn===null?o.memoizedState:Kn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?i5:O0),s}function Iu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return el(s);if(s.$$typeof===j)return lr(s)}throw Error(i(438,String(s)))}function Bl(s){var o=null,c=Me.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Me.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Fc(),Me.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=q;return o.index++,c}function Pa(s,o){return typeof o=="function"?o(s):o}function Fh(s){var o=gi();return Lu(o,Xe,s)}function Lu(s,o,c){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var b=s.baseQueue,x=d.pending;if(x!==null){if(b!==null){var U=b.next;b.next=x.next,x.next=U}o.baseQueue=b=x,d.pending=null}if(x=s.baseState,b===null)s.memoizedState=x;else{o=b.next;var st=U=null,gt=null,Ot=o,Vt=!1;do{var Gt=Ot.lane&-536870913;if(Gt!==Ot.lane?(hn&Gt)===Gt:(Ss&Gt)===Gt){var Dt=Ot.revertLane;if(Dt===0)gt!==null&&(gt=gt.next={lane:0,revertLane:0,gesture:null,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),Gt===g&&(Vt=!0);else if((Ss&Dt)===Dt){Ot=Ot.next,Dt===g&&(Vt=!0);continue}else Gt={lane:0,revertLane:Ot.revertLane,gesture:null,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},gt===null?(st=gt=Gt,U=x):gt=gt.next=Gt,Me.lanes|=Dt,Mu|=Dt;Gt=Ot.action,La&&c(x,Gt),x=Ot.hasEagerState?Ot.eagerState:c(x,Gt)}else Dt={lane:Gt,revertLane:Ot.revertLane,gesture:Ot.gesture,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},gt===null?(st=gt=Dt,U=x):gt=gt.next=Dt,Me.lanes|=Gt,Mu|=Gt;Ot=Ot.next}while(Ot!==null&&Ot!==o);if(gt===null?U=x:gt.next=st,!vr(x,s.memoizedState)&&(Yi=!0,Vt&&(c=w,c!==null)))throw c;s.memoizedState=x,s.baseState=U,s.baseQueue=gt,d.lastRenderedState=x}return b===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Bh(s){var o=gi(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var d=c.dispatch,b=c.pending,x=o.memoizedState;if(b!==null){c.pending=null;var U=b=b.next;do x=s(x,U.action),U=U.next;while(U!==b);vr(x,o.memoizedState)||(Yi=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,d]}function Vh(s,o,c){var d=Me,b=gi(),x=rn;if(x){if(c===void 0)throw Error(i(407));c=c()}else c=o();var U=!vr((Xe||b).memoizedState,c);if(U&&(b.memoizedState=c,Yi=!0),b=b.queue,C0(Zf.bind(null,d,b,s),[s]),b.getSnapshot!==o||U||Kn!==null&&Kn.memoizedState.tag&1){if(d.flags|=2048,zl(9,{destroy:void 0},Jf.bind(null,d,b,c,o),null),Xn===null)throw Error(i(349));x||(Ss&127)!==0||lo(d,o,c)}return c}function lo(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Me.updateQueue,o===null?(o=Fc(),Me.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Jf(s,o,c,d){o.value=c,o.getSnapshot=d,jp(o)&&td(s)}function Zf(s,o,c){return c(function(){jp(o)&&td(s)})}function jp(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!vr(s,c)}catch{return!0}}function td(s){var o=ro(s,2);o!==null&&Us(o,s,2)}function nl(s){var o=Wi();if(typeof s=="function"){var c=s;if(s=c(),La){$e(!0);try{c()}finally{$e(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:s},o}function Fp(s,o,c,d){return s.baseState=c,Lu(s,Xe,typeof d=="function"?d:Pa)}function Bp(s,o,c,d,b){if(qp(s))throw Error(i(485));if(s=o.action,s!==null){var x={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){x.listeners.push(U)}};$.T!==null?c(!0):x.isTransition=!1,d(x),c=o.pending,c===null?(x.next=o.pending=x,Vp(o,x)):(x.next=c.next,o.pending=c.next=x)}}function Vp(s,o){var c=o.action,d=o.payload,b=s.state;if(o.isTransition){var x=$.T,U={};$.T=U;try{var st=c(b,d),gt=$.S;gt!==null&&gt(U,st),ed(s,o,st)}catch(Ot){Vl(s,o,Ot)}finally{x!==null&&U.types!==null&&(x.types=U.types),$.T=x}}else try{x=c(b,d),ed(s,o,x)}catch(Ot){Vl(s,o,Ot)}}function ed(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){zp(s,o,d)},function(d){return Vl(s,o,d)}):zp(s,o,c)}function zp(s,o,c){o.status="fulfilled",o.value=c,zh(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,Vp(s,c)))}function Vl(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,zh(o),o=o.next;while(o!==d)}s.action=null}function zh(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Bc(s,o){return o}function ka(s,o){if(rn){var c=Xn.formState;if(c!==null){t:{var d=Me;if(rn){if($n){e:{for(var b=$n,x=hi;b.nodeType!==8;){if(!x){b=null;break e}if(b=Oa(b.nextSibling),b===null){b=null;break e}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){$n=Oa(b.nextSibling),d=b.data==="F!";break t}}$o(d)}d=!1}d&&(o=c[0])}}return c=Wi(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:o},c.queue=d,c=t5.bind(null,Me,d),d.dispatch=c,d=nl(!1),x=k0.bind(null,Me,!1,d.queue),d=Wi(),b={state:o,dispatch:null,action:s,pending:null},d.queue=b,c=Bp.bind(null,Me,b,x,c),b.dispatch=c,d.memoizedState=s,[o,c,!1]}function uo(s){var o=gi();return co(o,Xe,s)}function co(s,o,c){if(o=Lu(s,o,Bc)[0],s=Fh(Pa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=el(o)}catch(U){throw U===yt?It:U}else d=o;o=gi();var b=o.queue,x=b.dispatch;return c!==o.memoizedState&&(Me.flags|=2048,zl(9,{destroy:void 0},Uh.bind(null,b,c),null)),[d,x,s]}function Uh(s,o){s.action=o}function qh(s){var o=gi(),c=Xe;if(c!==null)return co(o,c,s);gi(),o=o.memoizedState,c=gi();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function zl(s,o,c,d){return s={tag:s,create:c,deps:d,inst:o,next:null},o=Me.updateQueue,o===null&&(o=Fc(),Me.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function Up(){return gi().memoizedState}function Pu(s,o,c,d){var b=Wi();Me.flags|=s,b.memoizedState=zl(1|o,{destroy:void 0},c,d===void 0?null:d)}function ku(s,o,c,d){var b=gi();d=d===void 0?null:d;var x=b.memoizedState.inst;Xe!==null&&d!==null&&$f(d,Xe.memoizedState.deps)?b.memoizedState=zl(o,x,c,d):(Me.flags|=s,b.memoizedState=zl(1|o,x,c,d))}function Vy(s,o){Pu(8390656,8,s,o)}function C0(s,o){ku(2048,8,s,o)}function ZE(s){Me.flags|=4;var o=Me.updateQueue;if(o===null)o=Fc(),Me.updateQueue=o,o.events=[s];else{var c=o.events;c===null?o.events=[s]:c.push(s)}}function zy(s){var o=gi().memoizedState;return ZE({ref:o,nextImpl:s}),function(){if((In&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Uy(s,o){return ku(4,2,s,o)}function qy(s,o){return ku(4,4,s,o)}function Hy(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Gy(s,o,c){c=c!=null?c.concat([s]):null,ku(4,4,Hy.bind(null,o,s),c)}function R0(){}function Wy(s,o){var c=gi();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&$f(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function Yy(s,o){var c=gi();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&$f(o,d[1]))return d[0];if(d=s(),La){$e(!0);try{s()}finally{$e(!1)}}return c.memoizedState=[d,o],d}function I0(s,o,c){return c===void 0||(Ss&1073741824)!==0&&(hn&261930)===0?s.memoizedState=o:(s.memoizedState=c,s=$5(),Me.lanes|=s,Mu|=s,c)}function $y(s,o,c,d){return vr(c,o)?c:di.current!==null?(s=I0(s,c,d),vr(s,o)||(Yi=!0),s):(Ss&42)===0||(Ss&1073741824)!==0&&(hn&261930)===0?(Yi=!0,s.memoizedState=c):(s=$5(),Me.lanes|=s,Mu|=s,o)}function Ky(s,o,c,d,b){var x=J.p;J.p=x!==0&&8>x?x:8;var U=$.T,st={};$.T=st,k0(s,!1,o,c);try{var gt=b(),Ot=$.S;if(Ot!==null&&Ot(st,gt),gt!==null&&typeof gt=="object"&&typeof gt.then=="function"){var Vt=W(gt,d);nd(s,o,Vt,da(s))}else nd(s,o,d,da(s))}catch(Gt){nd(s,o,{then:function(){},status:"rejected",reason:Gt},da())}finally{J.p=x,U!==null&&st.types!==null&&(U.types=st.types),$.T=U}}function tT(){}function L0(s,o,c,d){if(s.tag!==5)throw Error(i(476));var b=Xy(s).queue;Ky(s,b,o,et,c===null?tT:function(){return Qy(s),c(d)})}function Xy(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:et},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Qy(s){var o=Xy(s);o.next===null&&(o=s.alternate.memoizedState),nd(s,o.next.queue,{},da())}function P0(){return lr(bd)}function Jy(){return gi().memoizedState}function Zy(){return gi().memoizedState}function eT(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=da();s=Ie(c);var d=jn(o,s,c);d!==null&&(Us(d,o,c),qi(d,o,c)),o={cache:Ru()},s.payload=o;return}o=o.return}}function nT(s,o,c){var d=da();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},qp(s)?e5(o,c):(c=Su(s,o,c,d),c!==null&&(Us(c,s,d),n5(c,o,d)))}function t5(s,o,c){var d=da();nd(s,o,c,d)}function nd(s,o,c,d){var b={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(qp(s))e5(o,b);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var U=o.lastRenderedState,st=x(U,c);if(b.hasEagerState=!0,b.eagerState=st,vr(st,U))return io(s,o,b,0),Xn===null&&Go(),!1}catch{}finally{}if(c=Su(s,o,b,d),c!==null)return Us(c,s,d),n5(c,o,d),!0}return!1}function k0(s,o,c,d){if(d={lane:2,revertLane:h1(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},qp(s)){if(o)throw Error(i(479))}else o=Su(s,c,d,2),o!==null&&Us(o,s,2)}function qp(s){var o=s.alternate;return s===Me||o!==null&&o===Me}function e5(s,o){Fl=ao=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function n5(s,o,c){if((c&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,tr(s,c)}}var id={readContext:lr,use:Iu,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn};id.useEffectEvent=Hn;var i5={readContext:lr,use:Iu,useCallback:function(s,o){return Wi().memoizedState=[s,o===void 0?null:o],s},useContext:lr,useEffect:Vy,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Pu(4194308,4,Hy.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Pu(4194308,4,s,o)},useInsertionEffect:function(s,o){Pu(4,2,s,o)},useMemo:function(s,o){var c=Wi();o=o===void 0?null:o;var d=s();if(La){$e(!0);try{s()}finally{$e(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=Wi();if(c!==void 0){var b=c(o);if(La){$e(!0);try{c(o)}finally{$e(!1)}}}else b=o;return d.memoizedState=d.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},d.queue=s,s=s.dispatch=nT.bind(null,Me,s),[d.memoizedState,s]},useRef:function(s){var o=Wi();return s={current:s},o.memoizedState=s},useState:function(s){s=nl(s);var o=s.queue,c=t5.bind(null,Me,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:R0,useDeferredValue:function(s,o){var c=Wi();return I0(c,s,o)},useTransition:function(){var s=nl(!1);return s=Ky.bind(null,Me,s.queue,!0,!1),Wi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=Me,b=Wi();if(rn){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),Xn===null)throw Error(i(349));(hn&127)!==0||lo(d,o,c)}b.memoizedState=c;var x={value:c,getSnapshot:o};return b.queue=x,Vy(Zf.bind(null,d,x,s),[s]),d.flags|=2048,zl(9,{destroy:void 0},Jf.bind(null,d,x,c,o),null),c},useId:function(){var s=Wi(),o=Xn.identifierPrefix;if(rn){var c=Ds,d=Os;c=(d&~(1<<32-Ke(d)-1)).toString(32)+c,o="_"+o+"R_"+c,c=jc++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=Dh++,o="_"+o+"r_"+c.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:P0,useFormState:ka,useActionState:ka,useOptimistic:function(s){var o=Wi();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=k0.bind(null,Me,!0,c),c.dispatch=o,[s,o]},useMemoCache:Bl,useCacheRefresh:function(){return Wi().memoizedState=eT.bind(null,Me)},useEffectEvent:function(s){var o=Wi(),c={impl:s};return o.memoizedState=c,function(){if((In&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},O0={readContext:lr,use:Iu,useCallback:Wy,useContext:lr,useEffect:C0,useImperativeHandle:Gy,useInsertionEffect:Uy,useLayoutEffect:qy,useMemo:Yy,useReducer:Fh,useRef:Up,useState:function(){return Fh(Pa)},useDebugValue:R0,useDeferredValue:function(s,o){var c=gi();return $y(c,Xe.memoizedState,s,o)},useTransition:function(){var s=Fh(Pa)[0],o=gi().memoizedState;return[typeof s=="boolean"?s:el(s),o]},useSyncExternalStore:Vh,useId:Jy,useHostTransitionStatus:P0,useFormState:uo,useActionState:uo,useOptimistic:function(s,o){var c=gi();return Fp(c,Xe,s,o)},useMemoCache:Bl,useCacheRefresh:Zy};O0.useEffectEvent=zy;var r5={readContext:lr,use:Iu,useCallback:Wy,useContext:lr,useEffect:C0,useImperativeHandle:Gy,useInsertionEffect:Uy,useLayoutEffect:qy,useMemo:Yy,useReducer:Bh,useRef:Up,useState:function(){return Bh(Pa)},useDebugValue:R0,useDeferredValue:function(s,o){var c=gi();return Xe===null?I0(c,s,o):$y(c,Xe.memoizedState,s,o)},useTransition:function(){var s=Bh(Pa)[0],o=gi().memoizedState;return[typeof s=="boolean"?s:el(s),o]},useSyncExternalStore:Vh,useId:Jy,useHostTransitionStatus:P0,useFormState:qh,useActionState:qh,useOptimistic:function(s,o){var c=gi();return Xe!==null?Fp(c,Xe,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Bl,useCacheRefresh:Zy};r5.useEffectEvent=zy;function D0(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:m({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var M0={enqueueSetState:function(s,o,c){s=s._reactInternals;var d=da(),b=Ie(d);b.payload=o,c!=null&&(b.callback=c),o=jn(s,b,d),o!==null&&(Us(o,s,d),qi(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=da(),b=Ie(d);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=jn(s,b,d),o!==null&&(Us(o,s,d),qi(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=da(),d=Ie(c);d.tag=2,o!=null&&(d.callback=o),o=jn(s,d,c),o!==null&&(Us(o,s,c),qi(o,s,c))}};function s5(s,o,c,d,b,x,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,U):o.prototype&&o.prototype.isPureReactComponent?!Rs(c,d)||!Rs(b,x):!0}function a5(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&M0.enqueueReplaceState(o,o.state,null)}function Vc(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=m({},c));for(var b in s)c[b]===void 0&&(c[b]=s[b])}return c}function o5(s){Cn(s)}function l5(s){console.error(s)}function u5(s){Cn(s)}function Hp(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function c5(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function j0(s,o,c){return c=Ie(c),c.tag=3,c.payload={element:null},c.callback=function(){Hp(s,o)},c}function h5(s){return s=Ie(s),s.tag=3,s}function f5(s,o,c,d){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var x=d.value;s.payload=function(){return b(x)},s.callback=function(){c5(o,c,d)}}var U=c.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(s.callback=function(){c5(o,c,d),typeof b!="function"&&(ju===null?ju=new Set([this]):ju.add(this));var st=d.stack;this.componentDidCatch(d.value,{componentStack:st!==null?st:""})})}function iT(s,o,c,d,b){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&Qo(o,c,b,!0),c=Si.current,c!==null){switch(c.tag){case 31:case 13:return Gi===null?ng():c.alternate===null&&Ri===0&&(Ri=3),c.flags&=-257,c.flags|=65536,c.lanes=b,d===At?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),l1(s,d,b)),!1;case 22:return c.flags|=65536,d===At?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),l1(s,d,b)),!1}throw Error(i(435,c.tag))}return l1(s,d,b),ng(),!1}if(rn)return o=Si.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,d!==ca&&(s=Error(i(422),{cause:d}),Nu(Ls(s,c)))):(d!==ca&&(o=Error(i(423),{cause:d}),Nu(Ls(o,c))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,d=Ls(d,c),b=j0(s.stateNode,d,b),fi(s,b),Ri!==4&&(Ri=2)),!1;var x=Error(i(520),{cause:d});if(x=Ls(x,c),hd===null?hd=[x]:hd.push(x),Ri!==4&&(Ri=2),o===null)return!0;d=Ls(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=b&-b,c.lanes|=s,s=j0(c.stateNode,d,s),fi(c,s),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ju===null||!ju.has(x))))return c.flags|=65536,b&=-b,c.lanes|=b,b=h5(b),f5(b,s,c,d),fi(c,b),!1}c=c.return}while(c!==null);return!1}var F0=Error(i(461)),Yi=!1;function Mr(s,o,c,d){o.child=s===null?cn(o,null,c,d):sn(o,s.child,c,d)}function d5(s,o,c,d,b){c=c.render;var x=o.ref;if("ref"in d){var U={};for(var st in d)st!=="ref"&&(U[st]=d[st])}else U=d;return Jo(o),d=Kf(s,o,c,U,x,b),st=Xf(),s!==null&&!Yi?(Qf(s,o,b),Ul(s,o,b)):(rn&&st&&Gf(o),o.flags|=1,Mr(s,o,d,b),o.child)}function p5(s,o,c,d,b){if(s===null){var x=c.type;return typeof x=="function"&&!Th(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,g5(s,o,x,d,b)):(s=Au(c.type,null,d,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!W0(s,b)){var U=x.memoizedProps;if(c=c.compare,c=c!==null?c:Rs,c(U,d)&&s.ref===o.ref)return Ul(s,o,b)}return o.flags|=1,s=Is(x,d),s.ref=o.ref,s.return=o,o.child=s}function g5(s,o,c,d,b){if(s!==null){var x=s.memoizedProps;if(Rs(x,d)&&s.ref===o.ref)if(Yi=!1,o.pendingProps=d=x,W0(s,b))(s.flags&131072)!==0&&(Yi=!0);else return o.lanes=s.lanes,Ul(s,o,b)}return B0(s,o,c,d,b)}function m5(s,o,c,d){var b=d.children,x=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,s!==null){for(d=o.child=s.child,b=0;d!==null;)b=b|d.lanes|d.childLanes,d=d.sibling;d=b&~x}else d=0,o.child=null;return v5(s,o,x,c,d)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&at(o,x!==null?x.cachePool:null),x!==null?ws(o,x):js(),ri(o);else return d=o.lanes=536870912,v5(s,o,x!==null?x.baseLanes|c:c,c,d)}else x!==null?(at(o,x.cachePool),ws(o,x),Ia(),o.memoizedState=null):(s!==null&&at(o,null),js(),Ia());return Mr(s,o,b,c),o.child}function rd(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function v5(s,o,c,d,b){var x=it();return x=x===null?null:{parent:xi._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},s!==null&&at(o,null),js(),ri(o),s!==null&&Qo(s,o,d,!0),o.childLanes=b,null}function Gp(s,o){return o=Yp({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function y5(s,o,c){return sn(o,s.child,null,c),s=Gp(o,o.pendingProps),s.flags|=2,Zr(o),o.memoizedState=null,s}function rT(s,o,c){var d=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(rn){if(d.mode==="hidden")return s=Gp(o,d),o.lanes=536870912,rd(null,s);if(Ra(o),(s=$n)?(s=Ib(s,hi),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Yo!==null?{id:Os,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},c=Nh(s),c.return=o,o.child=c,ar=o,$n=null)):s=null,s===null)throw $o(o);return o.lanes=536870912,null}return Gp(o,d)}var x=s.memoizedState;if(x!==null){var U=x.dehydrated;if(Ra(o),b)if(o.flags&256)o.flags&=-257,o=y5(s,o,c);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(Yi||Qo(s,o,c,!1),b=(c&s.childLanes)!==0,Yi||b){if(d=Xn,d!==null&&(U=bi(d,c),U!==0&&U!==x.retryLane))throw x.retryLane=U,ro(s,U),Us(d,s,U),F0;ng(),o=y5(s,o,c)}else s=x.treeContext,$n=Oa(U.nextSibling),ar=o,rn=!0,Dr=null,hi=!1,s!==null&&Dp(o,s),o=Gp(o,d),o.flags|=4096;return o}return s=Is(s.child,{mode:d.mode,children:d.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Wp(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function B0(s,o,c,d,b){return Jo(o),c=Kf(s,o,c,d,void 0,b),d=Xf(),s!==null&&!Yi?(Qf(s,o,b),Ul(s,o,b)):(rn&&d&&Gf(o),o.flags|=1,Mr(s,o,c,b),o.child)}function b5(s,o,c,d,b,x){return Jo(o),o.updateQueue=null,c=oo(o,d,c,b),Mh(s),d=Xf(),s!==null&&!Yi?(Qf(s,o,x),Ul(s,o,x)):(rn&&d&&Gf(o),o.flags|=1,Mr(s,o,c,x),o.child)}function _5(s,o,c,d,b){if(Jo(o),o.stateNode===null){var x=sr,U=c.contextType;typeof U=="object"&&U!==null&&(x=lr(U)),x=new c(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=M0,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},Rn(o),U=c.contextType,x.context=typeof U=="object"&&U!==null?lr(U):sr,x.state=o.memoizedState,U=c.getDerivedStateFromProps,typeof U=="function"&&(D0(o,c,U,d),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(U=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),U!==x.state&&M0.enqueueReplaceState(x,x.state,null),ur(o,d,x,b),mn(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){x=o.stateNode;var st=o.memoizedProps,gt=Vc(c,st);x.props=gt;var Ot=x.context,Vt=c.contextType;U=sr,typeof Vt=="object"&&Vt!==null&&(U=lr(Vt));var Gt=c.getDerivedStateFromProps;Vt=typeof Gt=="function"||typeof x.getSnapshotBeforeUpdate=="function",st=o.pendingProps!==st,Vt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(st||Ot!==U)&&a5(o,x,d,U),Ve=!1;var Dt=o.memoizedState;x.state=Dt,ur(o,d,x,b),mn(),Ot=o.memoizedState,st||Dt!==Ot||Ve?(typeof Gt=="function"&&(D0(o,c,Gt,d),Ot=o.memoizedState),(gt=Ve||s5(o,c,gt,d,Dt,Ot,U))?(Vt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Ot),x.props=d,x.state=Ot,x.context=U,d=gt):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,En(s,o),U=o.memoizedProps,Vt=Vc(c,U),x.props=Vt,Gt=o.pendingProps,Dt=x.context,Ot=c.contextType,gt=sr,typeof Ot=="object"&&Ot!==null&&(gt=lr(Ot)),st=c.getDerivedStateFromProps,(Ot=typeof st=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(U!==Gt||Dt!==gt)&&a5(o,x,d,gt),Ve=!1,Dt=o.memoizedState,x.state=Dt,ur(o,d,x,b),mn();var Mt=o.memoizedState;U!==Gt||Dt!==Mt||Ve||s!==null&&s.dependencies!==null&&Ph(s.dependencies)?(typeof st=="function"&&(D0(o,c,st,d),Mt=o.memoizedState),(Vt=Ve||s5(o,c,Vt,d,Dt,Mt,gt)||s!==null&&s.dependencies!==null&&Ph(s.dependencies))?(Ot||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,Mt,gt),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,Mt,gt)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||U===s.memoizedProps&&Dt===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&Dt===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Mt),x.props=d,x.state=Mt,x.context=gt,d=Vt):(typeof x.componentDidUpdate!="function"||U===s.memoizedProps&&Dt===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&Dt===s.memoizedState||(o.flags|=1024),d=!1)}return x=d,Wp(s,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&d?(o.child=sn(o,s.child,null,b),o.child=sn(o,null,c,b)):Mr(s,o,c,b),o.memoizedState=x.state,s=o.child):s=Ul(s,o,b),s}function w5(s,o,c,d){return Dl(),o.flags|=256,Mr(s,o,c,d),o.child}var V0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function z0(s){return{baseLanes:s,cachePool:ct()}}function U0(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=fa),s}function x5(s,o,c){var d=o.pendingProps,b=!1,x=(o.flags&128)!==0,U;if((U=x)||(U=s!==null&&s.memoizedState===null?!1:(pi.current&2)!==0),U&&(b=!0,o.flags&=-129),U=(o.flags&32)!==0,o.flags&=-33,s===null){if(rn){if(b?xs(o):Ia(),(s=$n)?(s=Ib(s,hi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Yo!==null?{id:Os,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},c=Nh(s),c.return=o,o.child=c,ar=o,$n=null)):s=null,s===null)throw $o(o);return A1(s)?o.lanes=32:o.lanes=536870912,null}var st=d.children;return d=d.fallback,b?(Ia(),b=o.mode,st=Yp({mode:"hidden",children:st},b),d=Wo(d,b,c,null),st.return=o,d.return=o,st.sibling=d,o.child=st,d=o.child,d.memoizedState=z0(c),d.childLanes=U0(s,U,c),o.memoizedState=V0,rd(null,d)):(xs(o),q0(o,st))}var gt=s.memoizedState;if(gt!==null&&(st=gt.dehydrated,st!==null)){if(x)o.flags&256?(xs(o),o.flags&=-257,o=H0(s,o,c)):o.memoizedState!==null?(Ia(),o.child=s.child,o.flags|=128,o=null):(Ia(),st=d.fallback,b=o.mode,d=Yp({mode:"visible",children:d.children},b),st=Wo(st,b,c,null),st.flags|=2,d.return=o,st.return=o,d.sibling=st,o.child=d,sn(o,s.child,null,c),d=o.child,d.memoizedState=z0(c),d.childLanes=U0(s,U,c),o.memoizedState=V0,o=rd(null,d));else if(xs(o),A1(st)){if(U=st.nextSibling&&st.nextSibling.dataset,U)var Ot=U.dgst;U=Ot,d=Error(i(419)),d.stack="",d.digest=U,Nu({value:d,source:null,stack:null}),o=H0(s,o,c)}else if(Yi||Qo(s,o,c,!1),U=(c&s.childLanes)!==0,Yi||U){if(U=Xn,U!==null&&(d=bi(U,c),d!==0&&d!==gt.retryLane))throw gt.retryLane=d,ro(s,d),Us(U,s,d),F0;S1(st)||ng(),o=H0(s,o,c)}else S1(st)?(o.flags|=192,o.child=s.child,o=null):(s=gt.treeContext,$n=Oa(st.nextSibling),ar=o,rn=!0,Dr=null,hi=!1,s!==null&&Dp(o,s),o=q0(o,d.children),o.flags|=4096);return o}return b?(Ia(),st=d.fallback,b=o.mode,gt=s.child,Ot=gt.sibling,d=Is(gt,{mode:"hidden",children:d.children}),d.subtreeFlags=gt.subtreeFlags&65011712,Ot!==null?st=Is(Ot,st):(st=Wo(st,b,c,null),st.flags|=2),st.return=o,d.return=o,d.sibling=st,o.child=d,rd(null,d),d=o.child,st=s.child.memoizedState,st===null?st=z0(c):(b=st.cachePool,b!==null?(gt=xi._currentValue,b=b.parent!==gt?{parent:gt,pool:gt}:b):b=ct(),st={baseLanes:st.baseLanes|c,cachePool:b}),d.memoizedState=st,d.childLanes=U0(s,U,c),o.memoizedState=V0,rd(s.child,d)):(xs(o),c=s.child,s=c.sibling,c=Is(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(U=o.deletions,U===null?(o.deletions=[s],o.flags|=16):U.push(s)),o.child=c,o.memoizedState=null,c)}function q0(s,o){return o=Yp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Yp(s,o){return s=wr(22,s,null,o),s.lanes=0,s}function H0(s,o,c){return sn(o,s.child,null,c),s=q0(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function S5(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Cu(s.return,o,c)}function G0(s,o,c,d,b,x){var U=s.memoizedState;U===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:b,treeForkCount:x}:(U.isBackwards=o,U.rendering=null,U.renderingStartTime=0,U.last=d,U.tail=c,U.tailMode=b,U.treeForkCount=x)}function A5(s,o,c){var d=o.pendingProps,b=d.revealOrder,x=d.tail;d=d.children;var U=pi.current,st=(U&2)!==0;if(st?(U=U&1|2,o.flags|=128):U&=1,Y(pi,U),Mr(s,o,d,c),d=rn?Oc:0,!st&&s!==null&&(s.flags&128)!==0)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&S5(s,c,o);else if(s.tag===19)S5(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)s=c.alternate,s!==null&&jl(s)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),G0(o,!1,b,c,x,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&jl(s)===null){o.child=b;break}s=b.sibling,b.sibling=c,c=b,b=s}G0(o,!0,c,null,x,d);break;case"together":G0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ul(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Mu|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Qo(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=Is(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Is(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function W0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Ph(s)))}function sT(s,o,c){switch(o.tag){case 3:Nt(o,o.stateNode.containerInfo),Xo(o,xi,s.memoizedState.cache),Dl();break;case 27:case 5:Qt(o);break;case 4:Nt(o,o.stateNode.containerInfo);break;case 10:Xo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ra(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(xs(o),o.flags|=128,null):(c&o.child.childLanes)!==0?x5(s,o,c):(xs(o),s=Ul(s,o,c),s!==null?s.sibling:null);xs(o);break;case 19:var b=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(Qo(s,o,c,!1),d=(c&o.childLanes)!==0),b){if(d)return A5(s,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Y(pi,pi.current),d)break;return null;case 22:return o.lanes=0,m5(s,o,c,o.pendingProps);case 24:Xo(o,xi,s.memoizedState.cache)}return Ul(s,o,c)}function E5(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Yi=!0;else{if(!W0(s,c)&&(o.flags&128)===0)return Yi=!1,sT(s,o,c);Yi=(s.flags&131072)!==0}else Yi=!1,rn&&(o.flags&1048576)!==0&&Op(o,Oc,o.index);switch(o.lanes=0,o.tag){case 16:t:{var d=o.pendingProps;if(s=bt(o.elementType),o.type=s,typeof s=="function")Th(s)?(d=Vc(s,d),o.tag=1,o=_5(null,o,s,d,c)):(o.tag=0,o=B0(null,o,s,d,c));else{if(s!=null){var b=s.$$typeof;if(b===H){o.tag=11,o=d5(null,o,s,d,c);break t}else if(b===k){o.tag=14,o=p5(null,o,s,d,c);break t}}throw o=ot(s)||s,Error(i(306,o,""))}}return o;case 0:return B0(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,b=Vc(d,o.pendingProps),_5(s,o,d,b,c);case 3:t:{if(Nt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));d=o.pendingProps;var x=o.memoizedState;b=x.element,En(s,o),ur(o,d,null,c);var U=o.memoizedState;if(d=U.cache,Xo(o,xi,d),d!==x.cache&&Ml(o,[xi],c,!0),mn(),d=U.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:U.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=w5(s,o,d,c);break t}else if(d!==b){b=Ls(Error(i(424)),o),Nu(b),o=w5(s,o,d,c);break t}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for($n=Oa(s.firstChild),ar=o,rn=!0,Dr=null,hi=!0,c=cn(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Dl(),d===b){o=Ul(s,o,c);break t}Mr(s,o,d,c)}o=o.child}return o;case 26:return Wp(s,o),s===null?(c=Mb(o.type,null,o.pendingProps,null))?o.memoizedState=c:rn||(c=o.type,s=o.pendingProps,d=ug(ht.current).createElement(c),d[bn]=o,d[Dn]=s,jr(d,c,s),ni(d),o.stateNode=d):o.memoizedState=Mb(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Qt(o),s===null&&rn&&(d=o.stateNode=kb(o.type,o.pendingProps,ht.current),ar=o,hi=!0,b=$n,zu(o.type)?(E1=b,$n=Oa(d.firstChild)):$n=b),Mr(s,o,o.pendingProps.children,c),Wp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&rn&&((b=d=$n)&&(d=DT(d,o.type,o.pendingProps,hi),d!==null?(o.stateNode=d,ar=o,$n=Oa(d.firstChild),hi=!1,b=!0):b=!1),b||$o(o)),Qt(o),b=o.type,x=o.pendingProps,U=s!==null?s.memoizedProps:null,d=x.children,_1(b,x)?d=null:U!==null&&_1(b,U)&&(o.flags|=32),o.memoizedState!==null&&(b=Kf(s,o,N0,null,null,c),bd._currentValue=b),Wp(s,o),Mr(s,o,d,c),o.child;case 6:return s===null&&rn&&((s=c=$n)&&(c=MT(c,o.pendingProps,hi),c!==null?(o.stateNode=c,ar=o,$n=null,s=!0):s=!1),s||$o(o)),null;case 13:return x5(s,o,c);case 4:return Nt(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=sn(o,null,d,c):Mr(s,o,d,c),o.child;case 11:return d5(s,o,o.type,o.pendingProps,c);case 7:return Mr(s,o,o.pendingProps,c),o.child;case 8:return Mr(s,o,o.pendingProps.children,c),o.child;case 12:return Mr(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Xo(o,o.type,d.value),Mr(s,o,d.children,c),o.child;case 9:return b=o.type._context,d=o.pendingProps.children,Jo(o),b=lr(b),d=d(b),o.flags|=1,Mr(s,o,d,c),o.child;case 14:return p5(s,o,o.type,o.pendingProps,c);case 15:return g5(s,o,o.type,o.pendingProps,c);case 19:return A5(s,o,c);case 31:return rT(s,o,c);case 22:return m5(s,o,c,o.pendingProps);case 24:return Jo(o),d=lr(xi),s===null?(b=it(),b===null&&(b=Xn,x=Ru(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=c),b=x),o.memoizedState={parent:d,cache:b},Rn(o),Xo(o,xi,b)):((s.lanes&c)!==0&&(En(s,o),ur(o,null,null,c),mn()),b=s.memoizedState,x=o.memoizedState,b.parent!==d?(b={parent:d,cache:d},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Xo(o,xi,d)):(d=x.cache,Xo(o,xi,d),d!==b.cache&&Ml(o,[xi],c,!0))),Mr(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function ql(s){s.flags|=4}function Y0(s,o,c,d,b){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(J5())s.flags|=8192;else throw xt=At,Lt}else s.flags&=-16777217}function T5(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!zb(o))if(J5())s.flags|=8192;else throw xt=At,Lt}function $p(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?yi():536870912,s.lanes|=o,Yh|=o)}function sd(s,o){if(!rn)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function si(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var b=s.child;b!==null;)c|=b.lanes|b.childLanes,d|=b.subtreeFlags&65011712,d|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)c|=b.lanes|b.childLanes,d|=b.subtreeFlags,d|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function aT(s,o,c){var d=o.pendingProps;switch(Ih(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(o),null;case 1:return si(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ms(xi),Rt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(or(o)?ql(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Yf())),si(o),null;case 26:var b=o.type,x=o.memoizedState;return s===null?(ql(o),x!==null?(si(o),T5(o,x)):(si(o),Y0(o,b,null,d,c))):x?x!==s.memoizedState?(ql(o),si(o),T5(o,x)):(si(o),o.flags&=-16777217):(s=s.memoizedProps,s!==d&&ql(o),si(o),Y0(o,b,s,d,c)),null;case 27:if(Kt(o),c=ht.current,b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&ql(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return si(o),null}s=nt.current,or(o)?Wf(o):(s=kb(b,d,c),o.stateNode=s,ql(o))}return si(o),null;case 5:if(Kt(o),b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&ql(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return si(o),null}if(x=nt.current,or(o))Wf(o);else{var U=ug(ht.current);switch(x){case 1:x=U.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=U.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=U.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=U.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=U.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?U.createElement("select",{is:d.is}):U.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?U.createElement(b,{is:d.is}):U.createElement(b)}}x[bn]=o,x[Dn]=d;t:for(U=o.child;U!==null;){if(U.tag===5||U.tag===6)x.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===o)break t;for(;U.sibling===null;){if(U.return===null||U.return===o)break t;U=U.return}U.sibling.return=U.return,U=U.sibling}o.stateNode=x;t:switch(jr(x,b,d),b){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break t;case"img":d=!0;break t;default:d=!1}d&&ql(o)}}return si(o),Y0(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,c),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&ql(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=ht.current,or(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,b=ar,b!==null)switch(b.tag){case 27:case 5:d=b.memoizedProps}s[bn]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||xb(s.nodeValue,c)),s||$o(o,!0)}else s=ug(s).createTextNode(d),s[bn]=o,o.stateNode=s}return si(o),null;case 31:if(c=o.memoizedState,s===null||s.memoizedState!==null){if(d=or(o),c!==null){if(s===null){if(!d)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[bn]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;si(o),s=!1}else c=Yf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return o.flags&256?(Zr(o),o):(Zr(o),null);if((o.flags&128)!==0)throw Error(i(558))}return si(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=or(o),d!==null&&d.dehydrated!==null){if(s===null){if(!b)throw Error(i(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[bn]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;si(o),b=!1}else b=Yf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Zr(o),o):(Zr(o),null)}return Zr(o),(o.flags&128)!==0?(o.lanes=c,o):(c=d!==null,s=s!==null&&s.memoizedState!==null,c&&(d=o.child,b=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(b=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==b&&(d.flags|=2048)),c!==s&&c&&(o.child.flags|=8192),$p(o,o.updateQueue),si(o),null);case 4:return Rt(),s===null&&g1(o.stateNode.containerInfo),si(o),null;case 10:return Ms(o.type),si(o),null;case 19:if(M(pi),d=o.memoizedState,d===null)return si(o),null;if(b=(o.flags&128)!==0,x=d.rendering,x===null)if(b)sd(d,!1);else{if(Ri!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=jl(s),x!==null){for(o.flags|=128,sd(d,!1),s=x.updateQueue,o.updateQueue=s,$p(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Pc(c,s),c=c.sibling;return Y(pi,pi.current&1|2),rn&&_s(o,d.treeForkCount),o.child}s=s.sibling}d.tail!==null&&me()>Zp&&(o.flags|=128,b=!0,sd(d,!1),o.lanes=4194304)}else{if(!b)if(s=jl(x),s!==null){if(o.flags|=128,b=!0,s=s.updateQueue,o.updateQueue=s,$p(o,s),sd(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!rn)return si(o),null}else 2*me()-d.renderingStartTime>Zp&&c!==536870912&&(o.flags|=128,b=!0,sd(d,!1),o.lanes=4194304);d.isBackwards?(x.sibling=o.child,o.child=x):(s=d.last,s!==null?s.sibling=x:o.child=x,d.last=x)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=me(),s.sibling=null,c=pi.current,Y(pi,b?c&1|2:c&1),rn&&_s(o,d.treeForkCount),s):(si(o),null);case 22:case 23:return Zr(o),Ci(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(si(o),o.subtreeFlags&6&&(o.flags|=8192)):si(o),c=o.updateQueue,c!==null&&$p(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&M(Q),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ms(xi),si(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function oT(s,o){switch(Ih(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ms(xi),Rt(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Kt(o),null;case 31:if(o.memoizedState!==null){if(Zr(o),o.alternate===null)throw Error(i(340));Dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Zr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return M(pi),null;case 4:return Rt(),null;case 10:return Ms(o.type),null;case 22:case 23:return Zr(o),Ci(),s!==null&&M(Q),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ms(xi),null;case 25:return null;default:return null}}function N5(s,o){switch(Ih(o),o.tag){case 3:Ms(xi),Rt();break;case 26:case 27:case 5:Kt(o);break;case 4:Rt();break;case 31:o.memoizedState!==null&&Zr(o);break;case 13:Zr(o);break;case 19:M(pi);break;case 10:Ms(o.type);break;case 22:case 23:Zr(o),Ci(),s!==null&&M(Q);break;case 24:Ms(xi)}}function ad(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var b=d.next;c=b;do{if((c.tag&s)===s){d=void 0;var x=c.create,U=c.inst;d=x(),U.destroy=d}c=c.next}while(c!==b)}}catch(st){Bn(o,o.return,st)}}function Ou(s,o,c){try{var d=o.updateQueue,b=d!==null?d.lastEffect:null;if(b!==null){var x=b.next;d=x;do{if((d.tag&s)===s){var U=d.inst,st=U.destroy;if(st!==void 0){U.destroy=void 0,b=o;var gt=c,Ot=st;try{Ot()}catch(Vt){Bn(b,gt,Vt)}}}d=d.next}while(d!==x)}}catch(Vt){Bn(o,o.return,Vt)}}function C5(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{Li(o,c)}catch(d){Bn(s,s.return,d)}}}function R5(s,o,c){c.props=Vc(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){Bn(s,o,d)}}function od(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(b){Bn(s,o,b)}}function il(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(b){Bn(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Bn(s,o,b)}else c.current=null}function I5(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(b){Bn(s,s.return,b)}}function $0(s,o,c){try{var d=s.stateNode;RT(d,s.type,c,o),d[Dn]=o}catch(b){Bn(s,s.return,b)}}function L5(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&zu(s.type)||s.tag===4}function K0(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||L5(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&zu(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function X0(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=gn));else if(d!==4&&(d===27&&zu(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(X0(s,o,c),s=s.sibling;s!==null;)X0(s,o,c),s=s.sibling}function Kp(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&(d===27&&zu(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Kp(s,o,c),s=s.sibling;s!==null;)Kp(s,o,c),s=s.sibling}function P5(s){var o=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);jr(o,d,c),o[bn]=s,o[Dn]=c}catch(x){Bn(s,s.return,x)}}var Hl=!1,$i=!1,Q0=!1,k5=typeof WeakSet=="function"?WeakSet:Set,Sr=null;function lT(s,o){if(s=s.containerInfo,y1=mg,s=to(s),sa(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var b=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break t}var U=0,st=-1,gt=-1,Ot=0,Vt=0,Gt=s,Dt=null;e:for(;;){for(var Mt;Gt!==c||b!==0&&Gt.nodeType!==3||(st=U+b),Gt!==x||d!==0&&Gt.nodeType!==3||(gt=U+d),Gt.nodeType===3&&(U+=Gt.nodeValue.length),(Mt=Gt.firstChild)!==null;)Dt=Gt,Gt=Mt;for(;;){if(Gt===s)break e;if(Dt===c&&++Ot===b&&(st=U),Dt===x&&++Vt===d&&(gt=U),(Mt=Gt.nextSibling)!==null)break;Gt=Dt,Dt=Gt.parentNode}Gt=Mt}c=st===-1||gt===-1?null:{start:st,end:gt}}else c=null}c=c||{start:0,end:0}}else c=null;for(b1={focusedElem:s,selectionRange:c},mg=!1,Sr=o;Sr!==null;)if(o=Sr,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Sr=s;else for(;Sr!==null;){switch(o=Sr,x=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)b=s[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,c=o,b=x.memoizedProps,x=x.memoizedState,d=c.stateNode;try{var pe=Vc(c.type,b);s=d.getSnapshotBeforeUpdate(pe,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(Le){Bn(c,c.return,Le)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)x1(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":x1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Sr=s;break}Sr=o.return}}function O5(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Wl(s,c),d&4&&ad(5,c);break;case 1:if(Wl(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(U){Bn(c,c.return,U)}else{var b=Vc(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(U){Bn(c,c.return,U)}}d&64&&C5(c),d&512&&od(c,c.return);break;case 3:if(Wl(s,c),d&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Li(s,o)}catch(U){Bn(c,c.return,U)}}break;case 27:o===null&&d&4&&P5(c);case 26:case 5:Wl(s,c),o===null&&d&4&&I5(c),d&512&&od(c,c.return);break;case 12:Wl(s,c);break;case 31:Wl(s,c),d&4&&j5(s,c);break;case 13:Wl(s,c),d&4&&F5(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=vT.bind(null,c),jT(s,c))));break;case 22:if(d=c.memoizedState!==null||Hl,!d){o=o!==null&&o.memoizedState!==null||$i,b=Hl;var x=$i;Hl=d,($i=o)&&!x?Yl(s,c,(c.subtreeFlags&8772)!==0):Wl(s,c),Hl=b,$i=x}break;case 30:break;default:Wl(s,c)}}function D5(s){var o=s.alternate;o!==null&&(s.alternate=null,D5(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ts(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var mi=null,Fs=!1;function Gl(s,o,c){for(c=c.child;c!==null;)M5(s,o,c),c=c.sibling}function M5(s,o,c){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(We,c)}catch{}switch(c.tag){case 26:$i||il(c,o),Gl(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:$i||il(c,o);var d=mi,b=Fs;zu(c.type)&&(mi=c.stateNode,Fs=!1),Gl(s,o,c),md(c.stateNode),mi=d,Fs=b;break;case 5:$i||il(c,o);case 6:if(d=mi,b=Fs,mi=null,Gl(s,o,c),mi=d,Fs=b,mi!==null)if(Fs)try{(mi.nodeType===9?mi.body:mi.nodeName==="HTML"?mi.ownerDocument.body:mi).removeChild(c.stateNode)}catch(x){Bn(c,o,x)}else try{mi.removeChild(c.stateNode)}catch(x){Bn(c,o,x)}break;case 18:mi!==null&&(Fs?(s=mi,Cb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),ef(s)):Cb(mi,c.stateNode));break;case 4:d=mi,b=Fs,mi=c.stateNode.containerInfo,Fs=!0,Gl(s,o,c),mi=d,Fs=b;break;case 0:case 11:case 14:case 15:Ou(2,c,o),$i||Ou(4,c,o),Gl(s,o,c);break;case 1:$i||(il(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&R5(c,o,d)),Gl(s,o,c);break;case 21:Gl(s,o,c);break;case 22:$i=(d=$i)||c.memoizedState!==null,Gl(s,o,c),$i=d;break;default:Gl(s,o,c)}}function j5(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ef(s)}catch(c){Bn(o,o.return,c)}}}function F5(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ef(s)}catch(c){Bn(o,o.return,c)}}function uT(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new k5),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new k5),o;default:throw Error(i(435,s.tag))}}function Xp(s,o){var c=uT(s);o.forEach(function(d){if(!c.has(d)){c.add(d);var b=yT.bind(null,s,d);d.then(b,b)}})}function Bs(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var b=c[d],x=s,U=o,st=U;t:for(;st!==null;){switch(st.tag){case 27:if(zu(st.type)){mi=st.stateNode,Fs=!1;break t}break;case 5:mi=st.stateNode,Fs=!1;break t;case 3:case 4:mi=st.stateNode.containerInfo,Fs=!0;break t}st=st.return}if(mi===null)throw Error(i(160));M5(x,U,b),mi=null,Fs=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)B5(o,s),o=o.sibling}var ho=null;function B5(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Bs(o,s),Vs(s),d&4&&(Ou(3,s,s.return),ad(3,s),Ou(5,s,s.return));break;case 1:Bs(o,s),Vs(s),d&512&&($i||c===null||il(c,c.return)),d&64&&Hl&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var b=ho;if(Bs(o,s),Vs(s),d&512&&($i||c===null||il(c,c.return)),d&4){var x=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){t:{d=s.type,c=s.memoizedProps,b=b.ownerDocument||b;e:switch(d){case"title":x=b.getElementsByTagName("title")[0],(!x||x[zr]||x[bn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(d),b.head.insertBefore(x,b.querySelector("head > title"))),jr(x,d,c),x[bn]=s,ni(x),d=x;break t;case"link":var U=Bb("link","href",b).get(d+(c.href||""));if(U){for(var st=0;st<U.length;st++)if(x=U[st],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){U.splice(st,1);break e}}x=b.createElement(d),jr(x,d,c),b.head.appendChild(x);break;case"meta":if(U=Bb("meta","content",b).get(d+(c.content||""))){for(st=0;st<U.length;st++)if(x=U[st],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){U.splice(st,1);break e}}x=b.createElement(d),jr(x,d,c),b.head.appendChild(x);break;default:throw Error(i(468,d))}x[bn]=s,ni(x),d=x}s.stateNode=d}else Vb(b,s.type,s.stateNode);else s.stateNode=Fb(b,d,s.memoizedProps);else x!==d?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,d===null?Vb(b,s.type,s.stateNode):Fb(b,d,s.memoizedProps)):d===null&&s.stateNode!==null&&$0(s,s.memoizedProps,c.memoizedProps)}break;case 27:Bs(o,s),Vs(s),d&512&&($i||c===null||il(c,c.return)),c!==null&&d&4&&$0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Bs(o,s),Vs(s),d&512&&($i||c===null||il(c,c.return)),s.flags&32){b=s.stateNode;try{pr(b,"")}catch(pe){Bn(s,s.return,pe)}}d&4&&s.stateNode!=null&&(b=s.memoizedProps,$0(s,b,c!==null?c.memoizedProps:b)),d&1024&&(Q0=!0);break;case 6:if(Bs(o,s),Vs(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(pe){Bn(s,s.return,pe)}}break;case 3:if(fg=null,b=ho,ho=cg(o.containerInfo),Bs(o,s),ho=b,Vs(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{ef(o.containerInfo)}catch(pe){Bn(s,s.return,pe)}Q0&&(Q0=!1,V5(s));break;case 4:d=ho,ho=cg(s.stateNode.containerInfo),Bs(o,s),Vs(s),ho=d;break;case 12:Bs(o,s),Vs(s);break;case 31:Bs(o,s),Vs(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Xp(s,d)));break;case 13:Bs(o,s),Vs(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Jp=me()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Xp(s,d)));break;case 22:b=s.memoizedState!==null;var gt=c!==null&&c.memoizedState!==null,Ot=Hl,Vt=$i;if(Hl=Ot||b,$i=Vt||gt,Bs(o,s),$i=Vt,Hl=Ot,Vs(s),d&8192)t:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||gt||Hl||$i||zc(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){gt=c=o;try{if(x=gt.stateNode,b)U=x.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{st=gt.stateNode;var Gt=gt.memoizedProps.style,Dt=Gt!=null&&Gt.hasOwnProperty("display")?Gt.display:null;st.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(pe){Bn(gt,gt.return,pe)}}}else if(o.tag===6){if(c===null){gt=o;try{gt.stateNode.nodeValue=b?"":gt.memoizedProps}catch(pe){Bn(gt,gt.return,pe)}}}else if(o.tag===18){if(c===null){gt=o;try{var Mt=gt.stateNode;b?Rb(Mt,!0):Rb(gt.stateNode,!1)}catch(pe){Bn(gt,gt.return,pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Xp(s,c))));break;case 19:Bs(o,s),Vs(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Xp(s,d)));break;case 30:break;case 21:break;default:Bs(o,s),Vs(s)}}function Vs(s){var o=s.flags;if(o&2){try{for(var c,d=s.return;d!==null;){if(L5(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var b=c.stateNode,x=K0(s);Kp(s,x,b);break;case 5:var U=c.stateNode;c.flags&32&&(pr(U,""),c.flags&=-33);var st=K0(s);Kp(s,st,U);break;case 3:case 4:var gt=c.stateNode.containerInfo,Ot=K0(s);X0(s,Ot,gt);break;default:throw Error(i(161))}}catch(Vt){Bn(s,s.return,Vt)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function V5(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;V5(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Wl(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)O5(s,o.alternate,o),o=o.sibling}function zc(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ou(4,o,o.return),zc(o);break;case 1:il(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&R5(o,o.return,c),zc(o);break;case 27:md(o.stateNode);case 26:case 5:il(o,o.return),zc(o);break;case 22:o.memoizedState===null&&zc(o);break;case 30:zc(o);break;default:zc(o)}s=s.sibling}}function Yl(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,b=s,x=o,U=x.flags;switch(x.tag){case 0:case 11:case 15:Yl(b,x,c),ad(4,x);break;case 1:if(Yl(b,x,c),d=x,b=d.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Ot){Bn(d,d.return,Ot)}if(d=x,b=d.updateQueue,b!==null){var st=d.stateNode;try{var gt=b.shared.hiddenCallbacks;if(gt!==null)for(b.shared.hiddenCallbacks=null,b=0;b<gt.length;b++)Jr(gt[b],st)}catch(Ot){Bn(d,d.return,Ot)}}c&&U&64&&C5(x),od(x,x.return);break;case 27:P5(x);case 26:case 5:Yl(b,x,c),c&&d===null&&U&4&&I5(x),od(x,x.return);break;case 12:Yl(b,x,c);break;case 31:Yl(b,x,c),c&&U&4&&j5(b,x);break;case 13:Yl(b,x,c),c&&U&4&&F5(b,x);break;case 22:x.memoizedState===null&&Yl(b,x,c),od(x,x.return);break;case 30:break;default:Yl(b,x,c)}o=o.sibling}}function J0(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Dc(c))}function Z0(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Dc(s))}function fo(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)z5(s,o,c,d),o=o.sibling}function z5(s,o,c,d){var b=o.flags;switch(o.tag){case 0:case 11:case 15:fo(s,o,c,d),b&2048&&ad(9,o);break;case 1:fo(s,o,c,d);break;case 3:fo(s,o,c,d),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Dc(s)));break;case 12:if(b&2048){fo(s,o,c,d),s=o.stateNode;try{var x=o.memoizedProps,U=x.id,st=x.onPostCommit;typeof st=="function"&&st(U,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(gt){Bn(o,o.return,gt)}}else fo(s,o,c,d);break;case 31:fo(s,o,c,d);break;case 13:fo(s,o,c,d);break;case 23:break;case 22:x=o.stateNode,U=o.alternate,o.memoizedState!==null?x._visibility&2?fo(s,o,c,d):ld(s,o):x._visibility&2?fo(s,o,c,d):(x._visibility|=2,Hh(s,o,c,d,(o.subtreeFlags&10256)!==0||!1)),b&2048&&J0(U,o);break;case 24:fo(s,o,c,d),b&2048&&Z0(o.alternate,o);break;default:fo(s,o,c,d)}}function Hh(s,o,c,d,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=s,U=o,st=c,gt=d,Ot=U.flags;switch(U.tag){case 0:case 11:case 15:Hh(x,U,st,gt,b),ad(8,U);break;case 23:break;case 22:var Vt=U.stateNode;U.memoizedState!==null?Vt._visibility&2?Hh(x,U,st,gt,b):ld(x,U):(Vt._visibility|=2,Hh(x,U,st,gt,b)),b&&Ot&2048&&J0(U.alternate,U);break;case 24:Hh(x,U,st,gt,b),b&&Ot&2048&&Z0(U.alternate,U);break;default:Hh(x,U,st,gt,b)}o=o.sibling}}function ld(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,b=d.flags;switch(d.tag){case 22:ld(c,d),b&2048&&J0(d.alternate,d);break;case 24:ld(c,d),b&2048&&Z0(d.alternate,d);break;default:ld(c,d)}o=o.sibling}}var ud=8192;function Gh(s,o,c){if(s.subtreeFlags&ud)for(s=s.child;s!==null;)U5(s,o,c),s=s.sibling}function U5(s,o,c){switch(s.tag){case 26:Gh(s,o,c),s.flags&ud&&s.memoizedState!==null&&KT(c,ho,s.memoizedState,s.memoizedProps);break;case 5:Gh(s,o,c);break;case 3:case 4:var d=ho;ho=cg(s.stateNode.containerInfo),Gh(s,o,c),ho=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=ud,ud=16777216,Gh(s,o,c),ud=d):Gh(s,o,c));break;default:Gh(s,o,c)}}function q5(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function cd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];Sr=d,G5(d,s)}q5(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)H5(s),s=s.sibling}function H5(s){switch(s.tag){case 0:case 11:case 15:cd(s),s.flags&2048&&Ou(9,s,s.return);break;case 3:cd(s);break;case 12:cd(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Qp(s)):cd(s);break;default:cd(s)}}function Qp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];Sr=d,G5(d,s)}q5(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ou(8,o,o.return),Qp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Qp(o));break;default:Qp(o)}s=s.sibling}}function G5(s,o){for(;Sr!==null;){var c=Sr;switch(c.tag){case 0:case 11:case 15:Ou(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Dc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Sr=d;else t:for(c=s;Sr!==null;){d=Sr;var b=d.sibling,x=d.return;if(D5(d),d===c){Sr=null;break t}if(b!==null){b.return=x,Sr=b;break t}Sr=x}}}var cT={getCacheForType:function(s){var o=lr(xi),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c},cacheSignal:function(){return lr(xi).controller.signal}},hT=typeof WeakMap=="function"?WeakMap:Map,In=0,Xn=null,an=null,hn=0,Fn=0,ha=null,Du=!1,Wh=!1,t1=!1,$l=0,Ri=0,Mu=0,Uc=0,e1=0,fa=0,Yh=0,hd=null,zs=null,n1=!1,Jp=0,W5=0,Zp=1/0,tg=null,ju=null,cr=0,Fu=null,$h=null,Kl=0,i1=0,r1=null,Y5=null,fd=0,s1=null;function da(){return(In&2)!==0&&hn!==0?hn&-hn:$.T!==null?h1():_i()}function $5(){if(fa===0)if((hn&536870912)===0||rn){var s=Ei;Ei<<=1,(Ei&3932160)===0&&(Ei=262144),fa=s}else fa=536870912;return s=Si.current,s!==null&&(s.flags|=32),fa}function Us(s,o,c){(s===Xn&&(Fn===2||Fn===9)||s.cancelPendingCommit!==null)&&(Kh(s,0),Bu(s,hn,fa,!1)),Zi(s,c),((In&2)===0||s!==Xn)&&(s===Xn&&((In&2)===0&&(Uc|=c),Ri===4&&Bu(s,hn,fa,!1)),rl(s))}function K5(s,o,c){if((In&6)!==0)throw Error(i(327));var d=!c&&(o&127)===0&&(o&s.expiredLanes)===0||Qe(s,o),b=d?pT(s,o):o1(s,o,!0),x=d;do{if(b===0){Wh&&!d&&Bu(s,o,0,!1);break}else{if(c=s.current.alternate,x&&!fT(c)){b=o1(s,o,!1),x=!1;continue}if(b===2){if(x=o,s.errorRecoveryDisabledLanes&x)var U=0;else U=s.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){o=U;t:{var st=s;b=hd;var gt=st.current.memoizedState.isDehydrated;if(gt&&(Kh(st,U).flags|=256),U=o1(st,U,!1),U!==2){if(t1&&!gt){st.errorRecoveryDisabledLanes|=x,Uc|=x,b=4;break t}x=zs,zs=b,x!==null&&(zs===null?zs=x:zs.push.apply(zs,x))}b=U}if(x=!1,b!==2)continue}}if(b===1){Kh(s,0),Bu(s,o,0,!0);break}t:{switch(d=s,x=b,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Bu(d,o,fa,!Du);break t;case 2:zs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(b=Jp+300-me(),10<b)){if(Bu(d,o,fa,!Du),xe(d,0,!0)!==0)break t;Kl=o,d.timeoutHandle=Tb(X5.bind(null,d,c,zs,tg,n1,o,fa,Uc,Yh,Du,x,"Throttled",-0,0),b);break t}X5(d,c,zs,tg,n1,o,fa,Uc,Yh,Du,x,null,-0,0)}}break}while(!0);rl(s)}function X5(s,o,c,d,b,x,U,st,gt,Ot,Vt,Gt,Dt,Mt){if(s.timeoutHandle=-1,Gt=o.subtreeFlags,Gt&8192||(Gt&16785408)===16785408){Gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},U5(o,x,Gt);var pe=(x&62914560)===x?Jp-me():(x&4194048)===x?W5-me():0;if(pe=XT(Gt,pe),pe!==null){Kl=x,s.cancelPendingCommit=pe(rb.bind(null,s,o,x,c,d,b,U,st,gt,Vt,Gt,null,Dt,Mt)),Bu(s,x,U,!Ot);return}}rb(s,o,x,c,d,b,U,st,gt)}function fT(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var b=c[d],x=b.getSnapshot;b=b.value;try{if(!vr(x(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Bu(s,o,c,d){o&=~e1,o&=~Uc,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var b=o;0<b;){var x=31-Ke(b),U=1<<x;d[x]=-1,b&=~U}c!==0&&Nr(s,c,o)}function eg(){return(In&6)===0?(dd(0),!1):!0}function a1(){if(an!==null){if(Fn===0)var s=an.return;else s=an,Ca=Ko=null,jh(s),zt=null,ue=0,s=an;for(;s!==null;)N5(s.alternate,s),s=s.return;an=null}}function Kh(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,PT(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Kl=0,a1(),Xn=s,an=c=Is(s.current,null),hn=o,Fn=0,ha=null,Du=!1,Wh=Qe(s,o),t1=!1,Yh=fa=e1=Uc=Mu=Ri=0,zs=hd=null,n1=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var b=31-Ke(d),x=1<<b;o|=s[b],d&=~x}return $l=o,Go(),c}function Q5(s,o){Me=null,$.H=id,o===yt||o===It?(o=Ut(),Fn=3):o===Lt?(o=Ut(),Fn=4):Fn=o===F0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ha=o,an===null&&(Ri=1,Hp(s,Ls(o,s.current)))}function J5(){var s=Si.current;return s===null?!0:(hn&4194048)===hn?Gi===null:(hn&62914560)===hn||(hn&536870912)!==0?s===Gi:!1}function Z5(){var s=$.H;return $.H=id,s===null?id:s}function tb(){var s=$.A;return $.A=cT,s}function ng(){Ri=4,Du||(hn&4194048)!==hn&&Si.current!==null||(Wh=!0),(Mu&134217727)===0&&(Uc&134217727)===0||Xn===null||Bu(Xn,hn,fa,!1)}function o1(s,o,c){var d=In;In|=2;var b=Z5(),x=tb();(Xn!==s||hn!==o)&&(tg=null,Kh(s,o)),o=!1;var U=Ri;t:do try{if(Fn!==0&&an!==null){var st=an,gt=ha;switch(Fn){case 8:a1(),U=6;break t;case 3:case 2:case 9:case 6:Si.current===null&&(o=!0);var Ot=Fn;if(Fn=0,ha=null,Xh(s,st,gt,Ot),c&&Wh){U=0;break t}break;default:Ot=Fn,Fn=0,ha=null,Xh(s,st,gt,Ot)}}dT(),U=Ri;break}catch(Vt){Q5(s,Vt)}while(!0);return o&&s.shellSuspendCounter++,Ca=Ko=null,In=d,$.H=b,$.A=x,an===null&&(Xn=null,hn=0,Go()),U}function dT(){for(;an!==null;)eb(an)}function pT(s,o){var c=In;In|=2;var d=Z5(),b=tb();Xn!==s||hn!==o?(tg=null,Zp=me()+500,Kh(s,o)):Wh=Qe(s,o);t:do try{if(Fn!==0&&an!==null){o=an;var x=ha;e:switch(Fn){case 1:Fn=0,ha=null,Xh(s,o,x,1);break;case 2:case 9:if(Ht(x)){Fn=0,ha=null,nb(o);break}o=function(){Fn!==2&&Fn!==9||Xn!==s||(Fn=7),rl(s)},x.then(o,o);break t;case 3:Fn=7;break t;case 4:Fn=5;break t;case 7:Ht(x)?(Fn=0,ha=null,nb(o)):(Fn=0,ha=null,Xh(s,o,x,7));break;case 5:var U=null;switch(an.tag){case 26:U=an.memoizedState;case 5:case 27:var st=an;if(U?zb(U):st.stateNode.complete){Fn=0,ha=null;var gt=st.sibling;if(gt!==null)an=gt;else{var Ot=st.return;Ot!==null?(an=Ot,ig(Ot)):an=null}break e}}Fn=0,ha=null,Xh(s,o,x,5);break;case 6:Fn=0,ha=null,Xh(s,o,x,6);break;case 8:a1(),Ri=6;break t;default:throw Error(i(462))}}gT();break}catch(Vt){Q5(s,Vt)}while(!0);return Ca=Ko=null,$.H=d,$.A=b,In=c,an!==null?0:(Xn=null,hn=0,Go(),Ri)}function gT(){for(;an!==null&&!oe();)eb(an)}function eb(s){var o=E5(s.alternate,s,$l);s.memoizedProps=s.pendingProps,o===null?ig(s):an=o}function nb(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=b5(c,o,o.pendingProps,o.type,void 0,hn);break;case 11:o=b5(c,o,o.pendingProps,o.type.render,o.ref,hn);break;case 5:jh(o);default:N5(c,o),o=an=Pc(o,$l),o=E5(c,o,$l)}s.memoizedProps=s.pendingProps,o===null?ig(s):an=o}function Xh(s,o,c,d){Ca=Ko=null,jh(o),zt=null,ue=0;var b=o.return;try{if(iT(s,b,o,c,hn)){Ri=1,Hp(s,Ls(c,s.current)),an=null;return}}catch(x){if(b!==null)throw an=b,x;Ri=1,Hp(s,Ls(c,s.current)),an=null;return}o.flags&32768?(rn||d===1?s=!0:Wh||(hn&536870912)!==0?s=!1:(Du=s=!0,(d===2||d===9||d===3||d===6)&&(d=Si.current,d!==null&&d.tag===13&&(d.flags|=16384))),ib(o,s)):ig(o)}function ig(s){var o=s;do{if((o.flags&32768)!==0){ib(o,Du);return}s=o.return;var c=aT(o.alternate,o,$l);if(c!==null){an=c;return}if(o=o.sibling,o!==null){an=o;return}an=o=s}while(o!==null);Ri===0&&(Ri=5)}function ib(s,o){do{var c=oT(s.alternate,s);if(c!==null){c.flags&=32767,an=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){an=s;return}an=s=c}while(s!==null);Ri=6,an=null}function rb(s,o,c,d,b,x,U,st,gt){s.cancelPendingCommit=null;do rg();while(cr!==0);if((In&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=ua,fe(s,c,x,U,st,gt),s===Xn&&(an=Xn=null,hn=0),$h=o,Fu=s,Kl=c,i1=x,r1=b,Y5=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,bT(tn,function(){return ub(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,b=J.p,J.p=2,U=In,In|=4;try{lT(s,o,c)}finally{In=U,J.p=b,$.T=d}}cr=1,sb(),ab(),ob()}}function sb(){if(cr===1){cr=0;var s=Fu,o=$h,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var d=J.p;J.p=2;var b=In;In|=4;try{B5(o,s);var x=b1,U=to(s.containerInfo),st=x.focusedElem,gt=x.selectionRange;if(U!==st&&st&&st.ownerDocument&&yr(st.ownerDocument.documentElement,st)){if(gt!==null&&sa(st)){var Ot=gt.start,Vt=gt.end;if(Vt===void 0&&(Vt=Ot),"selectionStart"in st)st.selectionStart=Ot,st.selectionEnd=Math.min(Vt,st.value.length);else{var Gt=st.ownerDocument||document,Dt=Gt&&Gt.defaultView||window;if(Dt.getSelection){var Mt=Dt.getSelection(),pe=st.textContent.length,Le=Math.min(gt.start,pe),Wn=gt.end===void 0?Le:Math.min(gt.end,pe);!Mt.extend&&Le>Wn&&(U=Wn,Wn=Le,Le=U);var Ct=Or(st,Le),wt=Or(st,Wn);if(Ct&&wt&&(Mt.rangeCount!==1||Mt.anchorNode!==Ct.node||Mt.anchorOffset!==Ct.offset||Mt.focusNode!==wt.node||Mt.focusOffset!==wt.offset)){var kt=Gt.createRange();kt.setStart(Ct.node,Ct.offset),Mt.removeAllRanges(),Le>Wn?(Mt.addRange(kt),Mt.extend(wt.node,wt.offset)):(kt.setEnd(wt.node,wt.offset),Mt.addRange(kt))}}}}for(Gt=[],Mt=st;Mt=Mt.parentNode;)Mt.nodeType===1&&Gt.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof st.focus=="function"&&st.focus(),st=0;st<Gt.length;st++){var qt=Gt[st];qt.element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}}mg=!!y1,b1=y1=null}finally{In=b,J.p=d,$.T=c}}s.current=o,cr=2}}function ab(){if(cr===2){cr=0;var s=Fu,o=$h,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var d=J.p;J.p=2;var b=In;In|=4;try{O5(s,o.alternate,o)}finally{In=b,J.p=d,$.T=c}}cr=3}}function ob(){if(cr===4||cr===3){cr=0,ye();var s=Fu,o=$h,c=Kl,d=Y5;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?cr=5:(cr=0,$h=Fu=null,lb(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(ju=null),Jn(c),o=o.stateNode,Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(We,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=$.T,b=J.p,J.p=2,$.T=null;try{for(var x=s.onRecoverableError,U=0;U<d.length;U++){var st=d[U];x(st.value,{componentStack:st.stack})}}finally{$.T=o,J.p=b}}(Kl&3)!==0&&rg(),rl(s),b=s.pendingLanes,(c&261930)!==0&&(b&42)!==0?s===s1?fd++:(fd=0,s1=s):fd=0,dd(0)}}function lb(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Dc(o)))}function rg(){return sb(),ab(),ob(),ub()}function ub(){if(cr!==5)return!1;var s=Fu,o=i1;i1=0;var c=Jn(Kl),d=$.T,b=J.p;try{J.p=32>c?32:c,$.T=null,c=r1,r1=null;var x=Fu,U=Kl;if(cr=0,$h=Fu=null,Kl=0,(In&6)!==0)throw Error(i(331));var st=In;if(In|=4,H5(x.current),z5(x,x.current,U,c),In=st,dd(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(We,x)}catch{}return!0}finally{J.p=b,$.T=d,lb(s,o)}}function cb(s,o,c){o=Ls(c,o),o=j0(s.stateNode,o,2),s=jn(s,o,2),s!==null&&(Zi(s,2),rl(s))}function Bn(s,o,c){if(s.tag===3)cb(s,s,c);else for(;o!==null;){if(o.tag===3){cb(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ju===null||!ju.has(d))){s=Ls(c,s),c=h5(2),d=jn(o,c,2),d!==null&&(f5(c,d,o,s),Zi(d,2),rl(d));break}}o=o.return}}function l1(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new hT;var b=new Set;d.set(o,b)}else b=d.get(o),b===void 0&&(b=new Set,d.set(o,b));b.has(c)||(t1=!0,b.add(c),s=mT.bind(null,s,o,c),o.then(s,s))}function mT(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Xn===s&&(hn&c)===c&&(Ri===4||Ri===3&&(hn&62914560)===hn&&300>me()-Jp?(In&2)===0&&Kh(s,0):e1|=c,Yh===hn&&(Yh=0)),rl(s)}function hb(s,o){o===0&&(o=yi()),s=ro(s,o),s!==null&&(Zi(s,o),rl(s))}function vT(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),hb(s,c)}function yT(s,o){var c=0;switch(s.tag){case 31:case 13:var d=s.stateNode,b=s.memoizedState;b!==null&&(c=b.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),hb(s,c)}function bT(s,o){return te(s,o)}var sg=null,Qh=null,u1=!1,ag=!1,c1=!1,Vu=0;function rl(s){s!==Qh&&s.next===null&&(Qh===null?sg=Qh=s:Qh=Qh.next=s),ag=!0,u1||(u1=!0,wT())}function dd(s,o){if(!c1&&ag){c1=!0;do for(var c=!1,d=sg;d!==null;){if(s!==0){var b=d.pendingLanes;if(b===0)var x=0;else{var U=d.suspendedLanes,st=d.pingedLanes;x=(1<<31-Ke(42|s)+1)-1,x&=b&~(U&~st),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,gb(d,x))}else x=hn,x=xe(d,d===Xn?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Qe(d,x)||(c=!0,gb(d,x));d=d.next}while(c);c1=!1}}function _T(){fb()}function fb(){ag=u1=!1;var s=0;Vu!==0&&LT()&&(s=Vu);for(var o=me(),c=null,d=sg;d!==null;){var b=d.next,x=db(d,o);x===0?(d.next=null,c===null?sg=b:c.next=b,b===null&&(Qh=c)):(c=d,(s!==0||(x&3)!==0)&&(ag=!0)),d=b}cr!==0&&cr!==5||dd(s),Vu!==0&&(Vu=0)}function db(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,b=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var U=31-Ke(x),st=1<<U,gt=b[U];gt===-1?((st&c)===0||(st&d)!==0)&&(b[U]=Es(st,o)):gt<=o&&(s.expiredLanes|=st),x&=~st}if(o=Xn,c=hn,c=xe(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===o&&(Fn===2||Fn===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&ae(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Qe(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&ae(d),Jn(c)){case 2:case 8:c=Te;break;case 32:c=tn;break;case 268435456:c=Ge;break;default:c=tn}return d=pb.bind(null,s),c=te(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&ae(d),s.callbackPriority=2,s.callbackNode=null,2}function pb(s,o){if(cr!==0&&cr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(rg()&&s.callbackNode!==c)return null;var d=hn;return d=xe(s,s===Xn?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(K5(s,d,o),db(s,me()),s.callbackNode!=null&&s.callbackNode===c?pb.bind(null,s):null)}function gb(s,o){if(rg())return null;K5(s,o,!0)}function wT(){kT(function(){(In&6)!==0?te(_e,_T):fb()})}function h1(){if(Vu===0){var s=g;s===0&&(s=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),Vu=s}return Vu}function mb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ms(""+s)}function vb(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function xT(s,o,c,d,b){if(o==="submit"&&c&&c.stateNode===b){var x=mb((b[Dn]||null).action),U=d.submitter;U&&(o=(o=U[Dn]||null)?mb(o.formAction):U.getAttribute("formAction"),o!==null&&(x=o,U=null));var st=new Sa("action","action",null,d,b);s.push({event:st,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Vu!==0){var gt=U?vb(b,U):new FormData(b);L0(c,{pending:!0,data:gt,method:b.method,action:x},null,gt)}}else typeof x=="function"&&(st.preventDefault(),gt=U?vb(b,U):new FormData(b),L0(c,{pending:!0,data:gt,method:b.method,action:x},x,gt))},currentTarget:b}]})}}for(var f1=0;f1<Qr.length;f1++){var d1=Qr[f1],ST=d1.toLowerCase(),AT=d1[0].toUpperCase()+d1.slice(1);en(ST,"on"+AT)}en(Uo,"onAnimationEnd"),en(no,"onAnimationIteration"),en(qo,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(wu,"onTransitionRun"),en(kl,"onTransitionStart"),en(Ho,"onTransitionCancel"),en(xu,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ET=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pd));function yb(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],b=d.event;d=d.listeners;t:{var x=void 0;if(o)for(var U=d.length-1;0<=U;U--){var st=d[U],gt=st.instance,Ot=st.currentTarget;if(st=st.listener,gt!==x&&b.isPropagationStopped())break t;x=st,b.currentTarget=Ot;try{x(b)}catch(Vt){Cn(Vt)}b.currentTarget=null,x=gt}else for(U=0;U<d.length;U++){if(st=d[U],gt=st.instance,Ot=st.currentTarget,st=st.listener,gt!==x&&b.isPropagationStopped())break t;x=st,b.currentTarget=Ot;try{x(b)}catch(Vt){Cn(Vt)}b.currentTarget=null,x=gt}}}}function on(s,o){var c=o[er];c===void 0&&(c=o[er]=new Set);var d=s+"__bubble";c.has(d)||(bb(o,s,2,!1),c.add(d))}function p1(s,o,c){var d=0;o&&(d|=4),bb(c,s,d,o)}var og="_reactListening"+Math.random().toString(36).slice(2);function g1(s){if(!s[og]){s[og]=!0,Ks.forEach(function(c){c!=="selectionchange"&&(ET.has(c)||p1(c,!1,s),p1(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[og]||(o[og]=!0,p1("selectionchange",!1,o))}}function bb(s,o,c,d){switch($b(o)){case 2:var b=ZT;break;case 8:b=t6;break;default:b=I1}c=b.bind(null,o,c,s),b=void 0,!Ya||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),d?b!==void 0?s.addEventListener(o,c,{capture:!0,passive:b}):s.addEventListener(o,c,!0):b!==void 0?s.addEventListener(o,c,{passive:b}):s.addEventListener(o,c,!1)}function m1(s,o,c,d,b){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var U=d.tag;if(U===3||U===4){var st=d.stateNode.containerInfo;if(st===b)break;if(U===4)for(U=d.return;U!==null;){var gt=U.tag;if((gt===3||gt===4)&&U.stateNode.containerInfo===b)return;U=U.return}for(;st!==null;){if(U=Ur(st),U===null)return;if(gt=U.tag,gt===5||gt===6||gt===26||gt===27){d=x=U;continue t}st=st.parentNode}}d=d.return}Cl(function(){var Ot=x,Vt=Wa(c),Gt=[];t:{var Dt=bs.get(s);if(Dt!==void 0){var Mt=Sa,pe=s;switch(s){case"keypress":if($r(c)===0)break t;case"keydown":case"keyup":Mt=Fo;break;case"focusin":pe="focus",Mt=Aa;break;case"focusout":pe="blur",Mt=Aa;break;case"beforeblur":case"afterblur":Mt=Aa;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=G;break;case Uo:case no:case qo:Mt=Oo;break;case xu:Mt=vt;break;case"scroll":case"scrollend":Mt=Rl;break;case"wheel":Mt=Bt;break;case"copy":case"cut":case"paste":Mt=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=Qa;break;case"toggle":case"beforetoggle":Mt=se}var Le=(o&4)!==0,Wn=!Le&&(s==="scroll"||s==="scrollend"),Ct=Le?Dt!==null?Dt+"Capture":null:Dt;Le=[];for(var wt=Ot,kt;wt!==null;){var qt=wt;if(kt=qt.stateNode,qt=qt.tag,qt!==5&&qt!==26&&qt!==27||kt===null||Ct===null||(qt=ir(wt,Ct),qt!=null&&Le.push(gd(wt,qt,kt))),Wn)break;wt=wt.return}0<Le.length&&(Dt=new Mt(Dt,pe,null,c,Vt),Gt.push({event:Dt,listeners:Le}))}}if((o&7)===0){t:{if(Dt=s==="mouseover"||s==="pointerover",Mt=s==="mouseout"||s==="pointerout",Dt&&c!==Lo&&(pe=c.relatedTarget||c.fromElement)&&(Ur(pe)||pe[Ti]))break t;if((Mt||Dt)&&(Dt=Vt.window===Vt?Vt:(Dt=Vt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Mt?(pe=c.relatedTarget||c.toElement,Mt=Ot,pe=pe?Ur(pe):null,pe!==null&&(Wn=a(pe),Le=pe.tag,pe!==Wn||Le!==5&&Le!==27&&Le!==6)&&(pe=null)):(Mt=null,pe=Ot),Mt!==pe)){if(Le=ea,qt="onMouseLeave",Ct="onMouseEnter",wt="mouse",(s==="pointerout"||s==="pointerover")&&(Le=Qa,qt="onPointerLeave",Ct="onPointerEnter",wt="pointer"),Wn=Mt==null?Dt:ya(Mt),kt=pe==null?Dt:ya(pe),Dt=new Le(qt,wt+"leave",Mt,c,Vt),Dt.target=Wn,Dt.relatedTarget=kt,qt=null,Ur(Vt)===Ot&&(Le=new Le(Ct,wt+"enter",pe,c,Vt),Le.target=kt,Le.relatedTarget=Wn,qt=Le),Wn=qt,Mt&&pe)e:{for(Le=TT,Ct=Mt,wt=pe,kt=0,qt=Ct;qt;qt=Le(qt))kt++;qt=0;for(var Ae=wt;Ae;Ae=Le(Ae))qt++;for(;0<kt-qt;)Ct=Le(Ct),kt--;for(;0<qt-kt;)wt=Le(wt),qt--;for(;kt--;){if(Ct===wt||wt!==null&&Ct===wt.alternate){Le=Ct;break e}Ct=Le(Ct),wt=Le(wt)}Le=null}else Le=null;Mt!==null&&_b(Gt,Dt,Mt,Le,!1),pe!==null&&Wn!==null&&_b(Gt,Wn,pe,Le,!0)}}t:{if(Dt=Ot?ya(Ot):window,Mt=Dt.nodeName&&Dt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Dt.type==="file")var Tn=zi;else if(Vi(Dt))if(Ll)Tn=yu;else{Tn=Sh;var be=Ic}else Mt=Dt.nodeName,!Mt||Mt.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Ot&&gs(Ot.elementType)&&(Tn=zi):Tn=Cs;if(Tn&&(Tn=Tn(s,Ot))){ra(Gt,Tn,c,Vt);break t}be&&be(s,Dt,Ot),s==="focusout"&&Ot&&Dt.type==="number"&&Ot.memoizedProps.value!=null&&Ga(Dt,"number",Dt.value)}switch(be=Ot?ya(Ot):window,s){case"focusin":(Vi(be)||be.contentEditable==="true")&&(aa=be,oa=Ot,Yn=null);break;case"focusout":Yn=oa=aa=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,br(Gt,c,Vt);break;case"selectionchange":if(eo)break;case"keydown":case"keyup":br(Gt,c,Vt)}var Ye;if(R)t:{switch(s){case"compositionstart":var fn="onCompositionStart";break t;case"compositionend":fn="onCompositionEnd";break t;case"compositionupdate":fn="onCompositionUpdate";break t}fn=void 0}else Re?De(s,c)&&(fn="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(fn="onCompositionStart");fn&&(St&&c.locale!=="ko"&&(Re||fn!=="onCompositionStart"?fn==="onCompositionEnd"&&Re&&(Ye=Yr()):(Lr=Vt,Po="value"in Lr?Lr.value:Lr.textContent,Re=!0)),be=lg(Ot,fn),0<be.length&&(fn=new Ta(fn,s,null,c,Vt),Gt.push({event:fn,listeners:be}),Ye?fn.data=Ye:(Ye=Je(c),Ye!==null&&(fn.data=Ye)))),(Ye=rt?An(s,c):Mn(s,c))&&(fn=lg(Ot,"onBeforeInput"),0<fn.length&&(be=new Ta("onBeforeInput","beforeinput",null,c,Vt),Gt.push({event:be,listeners:fn}),be.data=Ye)),xT(Gt,s,Ot,c,Vt)}yb(Gt,o)})}function gd(s,o,c){return{instance:s,listener:o,currentTarget:c}}function lg(s,o){for(var c=o+"Capture",d=[];s!==null;){var b=s,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=ir(s,c),b!=null&&d.unshift(gd(s,b,x)),b=ir(s,o),b!=null&&d.push(gd(s,b,x))),s.tag===3)return d;s=s.return}return[]}function TT(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _b(s,o,c,d,b){for(var x=o._reactName,U=[];c!==null&&c!==d;){var st=c,gt=st.alternate,Ot=st.stateNode;if(st=st.tag,gt!==null&&gt===d)break;st!==5&&st!==26&&st!==27||Ot===null||(gt=Ot,b?(Ot=ir(c,x),Ot!=null&&U.unshift(gd(c,Ot,gt))):b||(Ot=ir(c,x),Ot!=null&&U.push(gd(c,Ot,gt)))),c=c.return}U.length!==0&&s.push({event:o,listeners:U})}var NT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function wb(s){return(typeof s=="string"?s:""+s).replace(NT,`
`).replace(CT,"")}function xb(s,o){return o=wb(o),wb(s)===o}function Gn(s,o,c,d,b,x){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||pr(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&pr(s,""+d);break;case"className":Pn(s,"class",d);break;case"tabIndex":Pn(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(s,c,d);break;case"style":pu(s,d,x);break;case"data":if(o!=="object"){Pn(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=ms(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&Gn(s,o,"name",b.name,b,null),Gn(s,o,"formEncType",b.formEncType,b,null),Gn(s,o,"formMethod",b.formMethod,b,null),Gn(s,o,"formTarget",b.formTarget,b,null)):(Gn(s,o,"encType",b.encType,b,null),Gn(s,o,"method",b.method,b,null),Gn(s,o,"target",b.target,b,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=ms(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=gn);break;case"onScroll":d!=null&&on("scroll",s);break;case"onScrollEnd":d!=null&&on("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=ms(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":on("beforetoggle",s),on("toggle",s),ba(s,"popover",d);break;case"xlinkActuate":Cr(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Cr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Cr(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Cr(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Cr(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Cr(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ba(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ro.get(c)||c,ba(s,c,d))}}function v1(s,o,c,d,b,x){switch(c){case"style":pu(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof d=="string"?pr(s,d):(typeof d=="number"||typeof d=="bigint")&&pr(s,""+d);break;case"onScroll":d!=null&&on("scroll",s);break;case"onScrollEnd":d!=null&&on("scrollend",s);break;case"onClick":d!=null&&(s.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),x=s[Dn]||null,x=x!=null?x[c]:null,typeof x=="function"&&s.removeEventListener(o,x,b),typeof d=="function")){typeof x!="function"&&x!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,b);break t}c in s?s[c]=d:d===!0?s.setAttribute(c,""):ba(s,c,d)}}}function jr(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",s),on("load",s);var d=!1,b=!1,x;for(x in c)if(c.hasOwnProperty(x)){var U=c[x];if(U!=null)switch(x){case"src":d=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Gn(s,o,x,U,c,null)}}b&&Gn(s,o,"srcSet",c.srcSet,c,null),d&&Gn(s,o,"src",c.src,c,null);return;case"input":on("invalid",s);var st=x=U=b=null,gt=null,Ot=null;for(d in c)if(c.hasOwnProperty(d)){var Vt=c[d];if(Vt!=null)switch(d){case"name":b=Vt;break;case"type":U=Vt;break;case"checked":gt=Vt;break;case"defaultChecked":Ot=Vt;break;case"value":x=Vt;break;case"defaultValue":st=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(i(137,o));break;default:Gn(s,o,d,Vt,c,null)}}Ha(s,x,st,gt,Ot,U,b,!1);return;case"select":on("invalid",s),d=U=x=null;for(b in c)if(c.hasOwnProperty(b)&&(st=c[b],st!=null))switch(b){case"value":x=st;break;case"defaultValue":U=st;break;case"multiple":d=st;default:Gn(s,o,b,st,c,null)}o=x,c=U,s.multiple=!!d,o!=null?un(s,!!d,o,!1):c!=null&&un(s,!!d,c,!0);return;case"textarea":on("invalid",s),x=b=d=null;for(U in c)if(c.hasOwnProperty(U)&&(st=c[U],st!=null))switch(U){case"value":d=st;break;case"defaultValue":b=st;break;case"children":x=st;break;case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(91));break;default:Gn(s,o,U,st,c,null)}wa(s,d,b,x);return;case"option":for(gt in c)if(c.hasOwnProperty(gt)&&(d=c[gt],d!=null))switch(gt){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Gn(s,o,gt,d,c,null)}return;case"dialog":on("beforetoggle",s),on("toggle",s),on("cancel",s),on("close",s);break;case"iframe":case"object":on("load",s);break;case"video":case"audio":for(d=0;d<pd.length;d++)on(pd[d],s);break;case"image":on("error",s),on("load",s);break;case"details":on("toggle",s);break;case"embed":case"source":case"link":on("error",s),on("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ot in c)if(c.hasOwnProperty(Ot)&&(d=c[Ot],d!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Gn(s,o,Ot,d,c,null)}return;default:if(gs(o)){for(Vt in c)c.hasOwnProperty(Vt)&&(d=c[Vt],d!==void 0&&v1(s,o,Vt,d,c,void 0));return}}for(st in c)c.hasOwnProperty(st)&&(d=c[st],d!=null&&Gn(s,o,st,d,c,null))}function RT(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,U=null,st=null,gt=null,Ot=null,Vt=null;for(Mt in c){var Gt=c[Mt];if(c.hasOwnProperty(Mt)&&Gt!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":gt=Gt;default:d.hasOwnProperty(Mt)||Gn(s,o,Mt,null,d,Gt)}}for(var Dt in d){var Mt=d[Dt];if(Gt=c[Dt],d.hasOwnProperty(Dt)&&(Mt!=null||Gt!=null))switch(Dt){case"type":x=Mt;break;case"name":b=Mt;break;case"checked":Ot=Mt;break;case"defaultChecked":Vt=Mt;break;case"value":U=Mt;break;case"defaultValue":st=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(i(137,o));break;default:Mt!==Gt&&Gn(s,o,Dt,Mt,d,Gt)}}Js(s,U,st,gt,Ot,Vt,x,b);return;case"select":Mt=U=st=Dt=null;for(x in c)if(gt=c[x],c.hasOwnProperty(x)&&gt!=null)switch(x){case"value":break;case"multiple":Mt=gt;default:d.hasOwnProperty(x)||Gn(s,o,x,null,d,gt)}for(b in d)if(x=d[b],gt=c[b],d.hasOwnProperty(b)&&(x!=null||gt!=null))switch(b){case"value":Dt=x;break;case"defaultValue":st=x;break;case"multiple":U=x;default:x!==gt&&Gn(s,o,b,x,d,gt)}o=st,c=U,d=Mt,Dt!=null?un(s,!!c,Dt,!1):!!d!=!!c&&(o!=null?un(s,!!c,o,!0):un(s,!!c,c?[]:"",!1));return;case"textarea":Mt=Dt=null;for(st in c)if(b=c[st],c.hasOwnProperty(st)&&b!=null&&!d.hasOwnProperty(st))switch(st){case"value":break;case"children":break;default:Gn(s,o,st,null,d,b)}for(U in d)if(b=d[U],x=c[U],d.hasOwnProperty(U)&&(b!=null||x!=null))switch(U){case"value":Dt=b;break;case"defaultValue":Mt=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==x&&Gn(s,o,U,b,d,x)}_a(s,Dt,Mt);return;case"option":for(var pe in c)if(Dt=c[pe],c.hasOwnProperty(pe)&&Dt!=null&&!d.hasOwnProperty(pe))switch(pe){case"selected":s.selected=!1;break;default:Gn(s,o,pe,null,d,Dt)}for(gt in d)if(Dt=d[gt],Mt=c[gt],d.hasOwnProperty(gt)&&Dt!==Mt&&(Dt!=null||Mt!=null))switch(gt){case"selected":s.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:Gn(s,o,gt,Dt,d,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in c)Dt=c[Le],c.hasOwnProperty(Le)&&Dt!=null&&!d.hasOwnProperty(Le)&&Gn(s,o,Le,null,d,Dt);for(Ot in d)if(Dt=d[Ot],Mt=c[Ot],d.hasOwnProperty(Ot)&&Dt!==Mt&&(Dt!=null||Mt!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,o));break;default:Gn(s,o,Ot,Dt,d,Mt)}return;default:if(gs(o)){for(var Wn in c)Dt=c[Wn],c.hasOwnProperty(Wn)&&Dt!==void 0&&!d.hasOwnProperty(Wn)&&v1(s,o,Wn,void 0,d,Dt);for(Vt in d)Dt=d[Vt],Mt=c[Vt],!d.hasOwnProperty(Vt)||Dt===Mt||Dt===void 0&&Mt===void 0||v1(s,o,Vt,Dt,d,Mt);return}}for(var Ct in c)Dt=c[Ct],c.hasOwnProperty(Ct)&&Dt!=null&&!d.hasOwnProperty(Ct)&&Gn(s,o,Ct,null,d,Dt);for(Gt in d)Dt=d[Gt],Mt=c[Gt],!d.hasOwnProperty(Gt)||Dt===Mt||Dt==null&&Mt==null||Gn(s,o,Gt,Dt,d,Mt)}function Sb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IT(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var b=c[d],x=b.transferSize,U=b.initiatorType,st=b.duration;if(x&&st&&Sb(U)){for(U=0,st=b.responseEnd,d+=1;d<c.length;d++){var gt=c[d],Ot=gt.startTime;if(Ot>st)break;var Vt=gt.transferSize,Gt=gt.initiatorType;Vt&&Sb(Gt)&&(gt=gt.responseEnd,U+=Vt*(gt<st?1:(st-Ot)/(gt-Ot)))}if(--d,o+=8*(x+U)/(b.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var y1=null,b1=null;function ug(s){return s.nodeType===9?s:s.ownerDocument}function Ab(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function _1(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var w1=null;function LT(){var s=window.event;return s&&s.type==="popstate"?s===w1?!1:(w1=s,!0):(w1=null,!1)}var Tb=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,Nb=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof Nb<"u"?function(s){return Nb.resolve(null).then(s).catch(OT)}:Tb;function OT(s){setTimeout(function(){throw s})}function zu(s){return s==="head"}function Cb(s,o){var c=o,d=0;do{var b=c.nextSibling;if(s.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(d===0){s.removeChild(b),ef(o);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")md(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,md(c);for(var x=c.firstChild;x;){var U=x.nextSibling,st=x.nodeName;x[zr]||st==="SCRIPT"||st==="STYLE"||st==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=U}}else c==="body"&&md(s.ownerDocument.body);c=b}while(c);ef(o)}function Rb(s,o){var c=s;s=0;do{var d=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=d}while(c)}function x1(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":x1(c),Ts(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function DT(s,o,c,d){for(;s.nodeType===1;){var b=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[zr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=Oa(s.nextSibling),s===null)break}return null}function MT(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Oa(s.nextSibling),s===null))return null;return s}function Ib(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Oa(s.nextSibling),s===null))return null;return s}function S1(s){return s.data==="$?"||s.data==="$~"}function A1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function jT(s,o){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||c.readyState!=="loading")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Oa(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var E1=null;function Lb(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(o===0)return Oa(s.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}s=s.nextSibling}return null}function Pb(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return s;o--}else c!=="/$"&&c!=="/&"||o++}s=s.previousSibling}return null}function kb(s,o,c){switch(o=ug(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function md(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ts(s)}var Da=new Map,Ob=new Set;function cg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Xl=J.d;J.d={f:FT,r:BT,D:VT,C:zT,L:UT,m:qT,X:GT,S:HT,M:WT};function FT(){var s=Xl.f(),o=eg();return s||o}function BT(s){var o=qr(s);o!==null&&o.tag===5&&o.type==="form"?Qy(o):Xl.r(s)}var Jh=typeof document>"u"?null:document;function Db(s,o,c){var d=Jh;if(d&&typeof o=="string"&&o){var b=qn(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),Ob.has(b)||(Ob.add(b),s={rel:s,crossOrigin:c,href:o},d.querySelector(b)===null&&(o=d.createElement("link"),jr(o,"link",s),ni(o),d.head.appendChild(o)))}}function VT(s){Xl.D(s),Db("dns-prefetch",s,null)}function zT(s,o){Xl.C(s,o),Db("preconnect",s,o)}function UT(s,o,c){Xl.L(s,o,c);var d=Jh;if(d&&s&&o){var b='link[rel="preload"][as="'+qn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+qn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+qn(c.imageSizes)+'"]')):b+='[href="'+qn(s)+'"]';var x=b;switch(o){case"style":x=Zh(s);break;case"script":x=tf(s)}Da.has(x)||(s=m({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Da.set(x,s),d.querySelector(b)!==null||o==="style"&&d.querySelector(vd(x))||o==="script"&&d.querySelector(yd(x))||(o=d.createElement("link"),jr(o,"link",s),ni(o),d.head.appendChild(o)))}}function qT(s,o){Xl.m(s,o);var c=Jh;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+qn(d)+'"][href="'+qn(s)+'"]',x=b;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=tf(s)}if(!Da.has(x)&&(s=m({rel:"modulepreload",href:s},o),Da.set(x,s),c.querySelector(b)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(yd(x)))return}d=c.createElement("link"),jr(d,"link",s),ni(d),c.head.appendChild(d)}}}function HT(s,o,c){Xl.S(s,o,c);var d=Jh;if(d&&s){var b=ps(d).hoistableStyles,x=Zh(s);o=o||"default";var U=b.get(x);if(!U){var st={loading:0,preload:null};if(U=d.querySelector(vd(x)))st.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Da.get(x))&&T1(s,c);var gt=U=d.createElement("link");ni(gt),jr(gt,"link",s),gt._p=new Promise(function(Ot,Vt){gt.onload=Ot,gt.onerror=Vt}),gt.addEventListener("load",function(){st.loading|=1}),gt.addEventListener("error",function(){st.loading|=2}),st.loading|=4,hg(U,o,d)}U={type:"stylesheet",instance:U,count:1,state:st},b.set(x,U)}}}function GT(s,o){Xl.X(s,o);var c=Jh;if(c&&s){var d=ps(c).hoistableScripts,b=tf(s),x=d.get(b);x||(x=c.querySelector(yd(b)),x||(s=m({src:s,async:!0},o),(o=Da.get(b))&&N1(s,o),x=c.createElement("script"),ni(x),jr(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(b,x))}}function WT(s,o){Xl.M(s,o);var c=Jh;if(c&&s){var d=ps(c).hoistableScripts,b=tf(s),x=d.get(b);x||(x=c.querySelector(yd(b)),x||(s=m({src:s,async:!0,type:"module"},o),(o=Da.get(b))&&N1(s,o),x=c.createElement("script"),ni(x),jr(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(b,x))}}function Mb(s,o,c,d){var b=(b=ht.current)?cg(b):null;if(!b)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Zh(c.href),c=ps(b).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Zh(c.href);var x=ps(b).hoistableStyles,U=x.get(s);if(U||(b=b.ownerDocument||b,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,U),(x=b.querySelector(vd(s)))&&!x._p&&(U.instance=x,U.state.loading=5),Da.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Da.set(s,c),x||YT(b,s,c,U.state))),o&&d===null)throw Error(i(528,""));return U}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tf(c),c=ps(b).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Zh(s){return'href="'+qn(s)+'"'}function vd(s){return'link[rel="stylesheet"]['+s+"]"}function jb(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function YT(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),jr(o,"link",c),ni(o),s.head.appendChild(o))}function tf(s){return'[src="'+qn(s)+'"]'}function yd(s){return"script[async]"+s}function Fb(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+qn(c.href)+'"]');if(d)return o.instance=d,ni(d),d;var b=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),ni(d),jr(d,"style",b),hg(d,c.precedence,s),o.instance=d;case"stylesheet":b=Zh(c.href);var x=s.querySelector(vd(b));if(x)return o.state.loading|=4,o.instance=x,ni(x),x;d=jb(c),(b=Da.get(b))&&T1(d,b),x=(s.ownerDocument||s).createElement("link"),ni(x);var U=x;return U._p=new Promise(function(st,gt){U.onload=st,U.onerror=gt}),jr(x,"link",d),o.state.loading|=4,hg(x,c.precedence,s),o.instance=x;case"script":return x=tf(c.src),(b=s.querySelector(yd(x)))?(o.instance=b,ni(b),b):(d=c,(b=Da.get(x))&&(d=m({},c),N1(d,b)),s=s.ownerDocument||s,b=s.createElement("script"),ni(b),jr(b,"link",d),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,hg(d,c.precedence,s));return o.instance}function hg(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=d.length?d[d.length-1]:null,x=b,U=0;U<d.length;U++){var st=d[U];if(st.dataset.precedence===o)x=st;else if(x!==b)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function T1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function N1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var fg=null;function Bb(s,o,c){if(fg===null){var d=new Map,b=fg=new Map;b.set(c,d)}else b=fg,d=b.get(c),d||(d=new Map,b.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),b=0;b<c.length;b++){var x=c[b];if(!(x[zr]||x[bn]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var U=x.getAttribute(o)||"";U=s+U;var st=d.get(U);st?st.push(x):d.set(U,[x])}}return d}function Vb(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function $T(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function zb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function KT(s,o,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Zh(d.href),x=o.querySelector(vd(b));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=dg.bind(s),o.then(s,s)),c.state.loading|=4,c.instance=x,ni(x);return}x=o.ownerDocument||o,d=jb(d),(b=Da.get(b))&&T1(d,b),x=x.createElement("link"),ni(x);var U=x;U._p=new Promise(function(st,gt){U.onload=st,U.onerror=gt}),jr(x,"link",d),c.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=dg.bind(s),o.addEventListener("load",c),o.addEventListener("error",c))}}var C1=0;function XT(s,o){return s.stylesheets&&s.count===0&&gg(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var d=setTimeout(function(){if(s.stylesheets&&gg(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+o);0<s.imgBytes&&C1===0&&(C1=62500*IT());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&gg(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>C1?50:800)+o);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(b)}}:null}function dg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var pg=null;function gg(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,pg=new Map,o.forEach(QT,s),pg=null,dg.call(s))}function QT(s,o){if(!(o.state.loading&4)){var c=pg.get(s);if(c)var d=c.get(null);else{c=new Map,pg.set(s,c);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var U=b[x];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(c.set(U.dataset.precedence,U),d=U)}d&&c.set(null,d)}b=o.instance,U=b.getAttribute("data-precedence"),x=c.get(U)||d,x===d&&c.set(null,b),c.set(U,b),this.count++,d=dg.bind(this),b.addEventListener("load",d),b.addEventListener("error",d),x?x.parentNode.insertBefore(b,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var bd={$$typeof:j,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function JT(s,o,c,d,b,x,U,st,gt){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=d,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=gt,this.incompleteTransitions=new Map}function Ub(s,o,c,d,b,x,U,st,gt,Ot,Vt,Gt){return s=new JT(s,o,c,U,gt,Ot,Vt,Gt,st),o=1,x===!0&&(o|=24),x=wr(3,null,null,o),s.current=x,x.stateNode=s,o=Ru(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:c,cache:o},Rn(x),s}function qb(s){return s?(s=sr,s):sr}function Hb(s,o,c,d,b,x){b=qb(b),d.context===null?d.context=b:d.pendingContext=b,d=Ie(o),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=jn(s,d,o),c!==null&&(Us(c,s,o),qi(c,s,o))}function Gb(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function R1(s,o){Gb(s,o),(s=s.alternate)&&Gb(s,o)}function Wb(s){if(s.tag===13||s.tag===31){var o=ro(s,67108864);o!==null&&Us(o,s,67108864),R1(s,67108864)}}function Yb(s){if(s.tag===13||s.tag===31){var o=da();o=ei(o);var c=ro(s,o);c!==null&&Us(c,s,o),R1(s,o)}}var mg=!0;function ZT(s,o,c,d){var b=$.T;$.T=null;var x=J.p;try{J.p=2,I1(s,o,c,d)}finally{J.p=x,$.T=b}}function t6(s,o,c,d){var b=$.T;$.T=null;var x=J.p;try{J.p=8,I1(s,o,c,d)}finally{J.p=x,$.T=b}}function I1(s,o,c,d){if(mg){var b=L1(d);if(b===null)m1(s,o,d,vg,c),Kb(s,d);else if(n6(b,s,o,c,d))d.stopPropagation();else if(Kb(s,d),o&4&&-1<e6.indexOf(s)){for(;b!==null;){var x=qr(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var U=yn(x.pendingLanes);if(U!==0){var st=x;for(st.pendingLanes|=2,st.entangledLanes|=2;U;){var gt=1<<31-Ke(U);st.entanglements[1]|=gt,U&=~gt}rl(x),(In&6)===0&&(Zp=me()+500,dd(0))}}break;case 31:case 13:st=ro(x,2),st!==null&&Us(st,x,2),eg(),R1(x,2)}if(x=L1(d),x===null&&m1(s,o,d,vg,c),x===b)break;b=x}b!==null&&d.stopPropagation()}else m1(s,o,d,null,c)}}function L1(s){return s=Wa(s),P1(s)}var vg=null;function P1(s){if(vg=null,s=Ur(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===31){if(s=u(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return vg=s,null}function $b(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case _e:return 2;case Te:return 8;case tn:case Ne:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var k1=!1,Uu=null,qu=null,Hu=null,_d=new Map,wd=new Map,Gu=[],e6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(s,o){switch(s){case"focusin":case"focusout":Uu=null;break;case"dragenter":case"dragleave":qu=null;break;case"mouseover":case"mouseout":Hu=null;break;case"pointerover":case"pointerout":_d.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wd.delete(o.pointerId)}}function xd(s,o,c,d,b,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:x,targetContainers:[b]},o!==null&&(o=qr(o),o!==null&&Wb(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function n6(s,o,c,d,b){switch(o){case"focusin":return Uu=xd(Uu,s,o,c,d,b),!0;case"dragenter":return qu=xd(qu,s,o,c,d,b),!0;case"mouseover":return Hu=xd(Hu,s,o,c,d,b),!0;case"pointerover":var x=b.pointerId;return _d.set(x,xd(_d.get(x)||null,s,o,c,d,b)),!0;case"gotpointercapture":return x=b.pointerId,wd.set(x,xd(wd.get(x)||null,s,o,c,d,b)),!0}return!1}function Xb(s){var o=Ur(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,Ua(s.priority,function(){Yb(c)});return}}else if(o===31){if(o=u(c),o!==null){s.blockedOn=o,Ua(s.priority,function(){Yb(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yg(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=L1(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);Lo=d,c.target.dispatchEvent(d),Lo=null}else return o=qr(c),o!==null&&Wb(o),s.blockedOn=c,!1;o.shift()}return!0}function Qb(s,o,c){yg(s)&&c.delete(o)}function i6(){k1=!1,Uu!==null&&yg(Uu)&&(Uu=null),qu!==null&&yg(qu)&&(qu=null),Hu!==null&&yg(Hu)&&(Hu=null),_d.forEach(Qb),wd.forEach(Qb)}function bg(s,o){s.blockedOn===o&&(s.blockedOn=null,k1||(k1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,i6)))}var _g=null;function Jb(s){_g!==s&&(_g=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_g===s&&(_g=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],b=s[o+2];if(typeof d!="function"){if(P1(d||c)===null)continue;break}var x=qr(c);x!==null&&(s.splice(o,3),o-=3,L0(x,{pending:!0,data:b,method:c.method,action:d},d,b))}}))}function ef(s){function o(gt){return bg(gt,s)}Uu!==null&&bg(Uu,s),qu!==null&&bg(qu,s),Hu!==null&&bg(Hu,s),_d.forEach(o),wd.forEach(o);for(var c=0;c<Gu.length;c++){var d=Gu[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Gu.length&&(c=Gu[0],c.blockedOn===null);)Xb(c),c.blockedOn===null&&Gu.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var b=c[d],x=c[d+1],U=b[Dn]||null;if(typeof x=="function")U||Jb(c);else if(U){var st=null;if(x&&x.hasAttribute("formAction")){if(b=x,U=x[Dn]||null)st=U.formAction;else if(P1(b)!==null)continue}else st=U.action;typeof st=="function"?c[d+1]=st:(c.splice(d,3),d-=3),Jb(c)}}}function Zb(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(U){return b=U})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function O1(s){this._internalRoot=s}wg.prototype.render=O1.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=da();Hb(c,d,s,o,null,null)},wg.prototype.unmount=O1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Hb(s.current,2,null,s,null,null),eg(),o[Ti]=null}};function wg(s){this._internalRoot=s}wg.prototype.unstable_scheduleHydration=function(s){if(s){var o=_i();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Gu.length&&o!==0&&o<Gu[c].priority;c++);Gu.splice(c,0,s),c===0&&Xb(s)}};var t_=t.version;if(t_!=="19.2.4")throw Error(i(527,t_,"19.2.4"));J.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var r6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xg.isDisabled&&xg.supportsFiber)try{We=xg.inject(r6),Un=xg}catch{}}return Ad.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,d="",b=o5,x=l5,U=u5;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(U=o.onRecoverableError)),o=Ub(s,1,!1,null,null,c,d,null,b,x,U,Zb),s[Ti]=o.current,g1(s),new O1(o)},Ad.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var d=!1,b="",x=o5,U=l5,st=u5,gt=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(U=c.onCaughtError),c.onRecoverableError!==void 0&&(st=c.onRecoverableError),c.formState!==void 0&&(gt=c.formState)),o=Ub(s,1,!0,o,c??null,d,b,gt,x,U,st,Zb),o.context=qb(null),c=o.current,d=da(),d=ei(d),b=Ie(d),b.callback=null,jn(c,b,d),c=d,o.current.lanes=c,Zi(o,c),rl(o),s[Ti]=o.current,g1(s),new wg(o)},Ad.version="19.2.4",Ad}var c_;function y6(){if(c_)return j1.exports;c_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),j1.exports=v6(),j1.exports}var b6=y6();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var h_="popstate";function f_(n){return typeof n=="object"&&n!=null&&"pathname"in n&&"search"in n&&"hash"in n&&"state"in n&&"key"in n}function _6(n={}){function t(r,a){let{pathname:l="/",search:u="",hash:h=""}=ph(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),E2("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(r,a){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof a=="string"?a:tp(a))}function i(r,a){Va(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return x6(t,e,i,n)}function vi(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Va(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w6(){return Math.random().toString(36).substring(2,10)}function d_(n,t){return{usr:n.state,key:n.key,idx:t,masked:n.unstable_mask?{pathname:n.pathname,search:n.search,hash:n.hash}:void 0}}function E2(n,t,e=null,i,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ph(t):t,state:e,key:t&&t.key||i||w6(),unstable_mask:r}}function tp({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ph(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function x6(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let C=p(),E=C==null?null:C-f;f=C,h&&h({action:u,location:T.location,delta:E})}function _(C,E){u="PUSH";let D=f_(C)?C:E2(T.location,C,E);e&&e(D,C),f=p()+1;let j=d_(D,f),H=T.createHref(D.unstable_mask||D);try{l.pushState(j,"",H)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;r.location.assign(H)}a&&h&&h({action:u,location:T.location,delta:1})}function y(C,E){u="REPLACE";let D=f_(C)?C:E2(T.location,C,E);e&&e(D,C),f=p();let j=d_(D,f),H=T.createHref(D.unstable_mask||D);l.replaceState(j,"",H),a&&h&&h({action:u,location:T.location,delta:0})}function S(C){return S6(C)}let T={get action(){return u},get location(){return n(r,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(h_,m),h=C,()=>{r.removeEventListener(h_,m),h=null}},createHref(C){return t(r,C)},createURL:S,encodeLocation(C){let E=S(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:_,replace:y,go(C){return l.go(C)}};return T}function S6(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),vi(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:tp(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function FS(n,t,e="/"){return A6(n,t,e,!1)}function A6(n,t,e,i){let r=typeof t=="string"?ph(t):t,a=au(r.pathname||"/",e);if(a==null)return null;let l=BS(n);E6(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=M6(a);u=O6(l[h],f,i)}return u}function BS(n,t=[],e=[],i="",r=!1){let a=(l,u,h=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&h)return;vi(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let m=fl([i,p.relativePath]),_=e.concat(p);l.children&&l.children.length>0&&(vi(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),BS(l.children,t,_,m,h)),!(l.path==null&&!l.index)&&t.push({path:m,score:P6(m,l.index),routesMeta:_})};return n.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,u);else for(let f of VS(l.path))a(l,u,!0,f)}),t}function VS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=VS(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),r&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function E6(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:k6(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var T6=/^:[\w-]+$/,N6=3,C6=2,R6=1,I6=10,L6=-2,p_=n=>n==="*";function P6(n,t){let e=n.split("/"),i=e.length;return e.some(p_)&&(i+=L6),t&&(i+=C6),e.filter(r=>!p_(r)).reduce((r,a)=>r+(T6.test(a)?N6:a===""?R6:I6),i)}function k6(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function O6(n,t,e=!1){let{routesMeta:i}=n,r={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=pm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!m&&f&&e&&!i[i.length-1].route.index&&(m=pm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:fl([a,m.pathname]),pathnameBase:V6(fl([a,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(a=fl([a,m.pathnameBase]))}return l}function pm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=D6(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:m},_)=>{if(p==="*"){let S=u[_]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const y=u[_];return m&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function D6(n,t=!1,e=!0){Va(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h,f,p)=>{if(i.push({paramName:u,isOptional:h!=null}),h){let m=p.charAt(f+l.length);return m&&m!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function M6(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Va(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function au(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var j6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function F6(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?ph(n):n,a;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?a=g_(e.substring(1),"/"):a=g_(e,t)):a=t,{pathname:a,search:z6(i),hash:U6(r)}}function g_(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function z1(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B6(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function wv(n){let t=B6(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Hm(n,t,e,i=!1){let r;typeof n=="string"?r=ph(n):(r={...n},vi(!r.pathname||!r.pathname.includes("?"),z1("?","pathname","search",r)),vi(!r.pathname||!r.pathname.includes("#"),z1("#","pathname","hash",r)),vi(!r.search||!r.search.includes("#"),z1("#","search","hash",r)));let a=n===""||r.pathname==="",l=a?"/":r.pathname,u;if(l==null)u=e;else{let m=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),m-=1;r.pathname=_.join("/")}u=m>=0?t[m]:"/"}let h=F6(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var fl=n=>n.join("/").replace(/\/\/+/g,"/"),V6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),z6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,U6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,q6=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function H6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function G6(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function US(n,t){let e=n;if(typeof e!="string"||!j6.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(zS)try{let a=new URL(window.location.href),l=e.startsWith("//")?new URL(a.protocol+e):new URL(e),u=au(l.pathname,t);l.origin===a.origin&&u!=null?e=u+l.search+l.hash:r=!0}catch{Va(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qS=["POST","PUT","PATCH","DELETE"];new Set(qS);var W6=["GET",...qS];new Set(W6);var kf=Tt.createContext(null);kf.displayName="DataRouter";var Gm=Tt.createContext(null);Gm.displayName="DataRouterState";var Y6=Tt.createContext(!1),HS=Tt.createContext({isTransitioning:!1});HS.displayName="ViewTransition";var $6=Tt.createContext(new Map);$6.displayName="Fetchers";var K6=Tt.createContext(null);K6.displayName="Await";var ma=Tt.createContext(null);ma.displayName="Navigation";var _p=Tt.createContext(null);_p.displayName="Location";var Ao=Tt.createContext({outlet:null,matches:[],isDataRoute:!1});Ao.displayName="Route";var xv=Tt.createContext(null);xv.displayName="RouteError";var GS="REACT_ROUTER_ERROR",X6="REDIRECT",Q6="ROUTE_ERROR_RESPONSE";function J6(n){if(n.startsWith(`${GS}:${X6}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Z6(n){if(n.startsWith(`${GS}:${Q6}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new q6(t.status,t.statusText,t.data)}catch{}}function tN(n,{relative:t}={}){vi(Of(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=Tt.useContext(ma),{hash:r,pathname:a,search:l}=wp(n,{relative:t}),u=a;return e!=="/"&&(u=a==="/"?e:fl([e,a])),i.createHref({pathname:u,search:l,hash:r})}function Of(){return Tt.useContext(_p)!=null}function fu(){return vi(Of(),"useLocation() may be used only in the context of a <Router> component."),Tt.useContext(_p).location}var WS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YS(n){Tt.useContext(ma).static||Tt.useLayoutEffect(n)}function $S(){let{isDataRoute:n}=Tt.useContext(Ao);return n?gN():eN()}function eN(){vi(Of(),"useNavigate() may be used only in the context of a <Router> component.");let n=Tt.useContext(kf),{basename:t,navigator:e}=Tt.useContext(ma),{matches:i}=Tt.useContext(Ao),{pathname:r}=fu(),a=JSON.stringify(wv(i)),l=Tt.useRef(!1);return YS(()=>{l.current=!0}),Tt.useCallback((h,f={})=>{if(Va(l.current,WS),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=Hm(h,JSON.parse(a),r,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:fl([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,a,r,n])}var nN=Tt.createContext(null);function iN(n){let t=Tt.useContext(Ao).outlet;return Tt.useMemo(()=>t&&Tt.createElement(nN.Provider,{value:n},t),[t,n])}function wp(n,{relative:t}={}){let{matches:e}=Tt.useContext(Ao),{pathname:i}=fu(),r=JSON.stringify(wv(e));return Tt.useMemo(()=>Hm(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function rN(n,t){return KS(n,t)}function KS(n,t,e){var C;vi(Of(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=Tt.useContext(ma),{matches:r}=Tt.useContext(Ao),a=r[r.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let E=f&&f.path||"";QS(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=fu(),m;if(t){let E=typeof t=="string"?ph(t):t;vi(h==="/"||((C=E.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=p;let _=m.pathname||"/",y=_;if(h!=="/"){let E=h.replace(/^\//,"").split("/");y="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=FS(n,{pathname:y});Va(f||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Va(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=uN(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:fl([h,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:fl([h,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),r,e);return t&&T?Tt.createElement(_p.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...m},navigationType:"POP"}},T):T}function sN(){let n=pN(),t=H6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=Tt.createElement(Tt.Fragment,null,Tt.createElement("p",null," Hey developer "),Tt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Tt.createElement("code",{style:a},"ErrorBoundary")," or"," ",Tt.createElement("code",{style:a},"errorElement")," prop on your route.")),Tt.createElement(Tt.Fragment,null,Tt.createElement("h2",null,"Unexpected Application Error!"),Tt.createElement("h3",{style:{fontStyle:"italic"}},t),e?Tt.createElement("pre",{style:r},e):null,l)}var aN=Tt.createElement(sN,null),XS=class extends Tt.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=Z6(n.digest);e&&(n=e)}let t=n!==void 0?Tt.createElement(Ao.Provider,{value:this.props.routeContext},Tt.createElement(xv.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?Tt.createElement(oN,{error:n},t):t}};XS.contextType=Y6;var U1=new WeakMap;function oN({children:n,error:t}){let{basename:e}=Tt.useContext(ma);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=J6(t.digest);if(i){let r=U1.get(t);if(r)throw r;let a=US(i.location,e);if(zS&&!U1.get(t))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw U1.set(t,l),l}return Tt.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function lN({routeContext:n,match:t,children:e}){let i=Tt.useContext(kf);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Tt.createElement(Ao.Provider,{value:n},e)}function uN(n,t=[],e){let i=e==null?void 0:e.state;if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let r=n,a=i==null?void 0:i.errors;if(a!=null){let p=r.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);vi(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,p+1))}let l=!1,u=-1;if(e&&i){l=i.renderFallback;for(let p=0;p<r.length;p++){let m=r[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=p),m.route.id){let{loaderData:_,errors:y}=i,S=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){e.isStatic&&(l=!0),u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}}let h=e==null?void 0:e.onError,f=i&&h?(p,m)=>{var _,y;h(p,{location:i.location,params:((y=(_=i.matches)==null?void 0:_[0])==null?void 0:y.params)??{},unstable_pattern:G6(i.matches),errorInfo:m})}:void 0;return r.reduceRight((p,m,_)=>{let y,S=!1,T=null,C=null;i&&(y=a&&m.route.id?a[m.route.id]:void 0,T=m.route.errorElement||aN,l&&(u<0&&_===0?(QS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):u===_&&(S=!0,C=m.route.hydrateFallbackElement||null)));let E=t.concat(r.slice(0,_+1)),D=()=>{let j;return y?j=T:S?j=C:m.route.Component?j=Tt.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=p,Tt.createElement(lN,{match:m,routeContext:{outlet:p,matches:E,isDataRoute:i!=null},children:j})};return i&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?Tt.createElement(XS,{location:i.location,revalidation:i.revalidation,component:T,error:y,children:D(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):D()},null)}function Sv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cN(n){let t=Tt.useContext(kf);return vi(t,Sv(n)),t}function hN(n){let t=Tt.useContext(Gm);return vi(t,Sv(n)),t}function fN(n){let t=Tt.useContext(Ao);return vi(t,Sv(n)),t}function Av(n){let t=fN(n),e=t.matches[t.matches.length-1];return vi(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function dN(){return Av("useRouteId")}function pN(){var i;let n=Tt.useContext(xv),t=hN("useRouteError"),e=Av("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function gN(){let{router:n}=cN("useNavigate"),t=Av("useNavigate"),e=Tt.useRef(!1);return YS(()=>{e.current=!0}),Tt.useCallback(async(r,a={})=>{Va(e.current,WS),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...a}))},[n,t])}var m_={};function QS(n,t,e){!t&&!m_[n]&&(m_[n]=!0,Va(!1,e))}Tt.memo(mN);function mN({routes:n,future:t,state:e,isStatic:i,onError:r}){return KS(n,void 0,{state:e,isStatic:i,onError:r})}function JS({to:n,replace:t,state:e,relative:i}){vi(Of(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Tt.useContext(ma);Va(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Tt.useContext(Ao),{pathname:l}=fu(),u=$S(),h=Hm(n,wv(a),l,i==="path"),f=JSON.stringify(h);return Tt.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:i})},[u,f,i,t,e]),null}function vN(n){return iN(n.context)}function Qu(n){vi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yN({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:a=!1,unstable_useTransitions:l}){vi(!Of(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Tt.useMemo(()=>({basename:u,navigator:r,static:a,unstable_useTransitions:l,future:{}}),[u,r,a,l]);typeof e=="string"&&(e=ph(e));let{pathname:f="/",search:p="",hash:m="",state:_=null,key:y="default",unstable_mask:S}=e,T=Tt.useMemo(()=>{let C=au(f,u);return C==null?null:{location:{pathname:C,search:p,hash:m,state:_,key:y,unstable_mask:S},navigationType:i}},[u,f,p,m,_,y,i,S]);return Va(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:Tt.createElement(ma.Provider,{value:h},Tt.createElement(_p.Provider,{children:t,value:T}))}function bN({children:n,location:t}){return rN(T2(n),t)}function T2(n,t=[]){let e=[];return Tt.Children.forEach(n,(i,r)=>{if(!Tt.isValidElement(i))return;let a=[...t,r];if(i.type===Tt.Fragment){e.push.apply(e,T2(i.props.children,a));return}vi(i.type===Qu,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=T2(i.props.children,a)),e.push(l)}),e}var $g="get",Kg="application/x-www-form-urlencoded";function Wm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function _N(n){return Wm(n)&&n.tagName.toLowerCase()==="button"}function wN(n){return Wm(n)&&n.tagName.toLowerCase()==="form"}function xN(n){return Wm(n)&&n.tagName.toLowerCase()==="input"}function SN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AN(n,t){return n.button===0&&(!t||t==="_self")&&!SN(n)}var Sg=null;function EN(){if(Sg===null)try{new FormData(document.createElement("form"),0),Sg=!1}catch{Sg=!0}return Sg}var TN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q1(n){return n!=null&&!TN.has(n)?(Va(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kg}"`),null):n}function NN(n,t){let e,i,r,a,l;if(wN(n)){let u=n.getAttribute("action");i=u?au(u,t):null,e=n.getAttribute("method")||$g,r=q1(n.getAttribute("enctype"))||Kg,a=new FormData(n)}else if(_N(n)||xN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?au(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||$g,r=q1(n.getAttribute("formenctype"))||q1(u.getAttribute("enctype"))||Kg,a=new FormData(u,n),!EN()){let{name:f,type:p,value:m}=n;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,m)}}else{if(Wm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=$g,i=null,r=Kg,l=n}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function CN(n,t,e,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:t&&au(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function RN(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LN(n,t,e){let i=await Promise.all(n.map(async r=>{let a=t.routes[r.route.id];if(a){let l=await RN(a,e);return l.links?l.links():[]}return[]}));return DN(i.flat(1).filter(IN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function v_(n,t,e,i,r,a){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>{var p;return e[f].pathname!==h.pathname||((p=e[f].route.path)==null?void 0:p.endsWith("*"))&&e[f].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?t.filter((h,f)=>{var m;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=e[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function PN(n,t,{includeHydrateFallback:e}={}){return kN(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function kN(n){return[...new Set(n)]}function ON(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function DN(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let a=JSON.stringify(ON(r));return e.has(a)||(e.add(a),i.push({key:a,link:r})),i},[])}function ZS(){let n=Tt.useContext(kf);return Ev(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MN(){let n=Tt.useContext(Gm);return Ev(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Tv=Tt.createContext(void 0);Tv.displayName="FrameworkContext";function tA(){let n=Tt.useContext(Tv);return Ev(n,"You must render this element inside a <HydratedRouter> element"),n}function jN(n,t){let e=Tt.useContext(Tv),[i,r]=Tt.useState(!1),[a,l]=Tt.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,_=Tt.useRef(null);Tt.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let T=E=>{E.forEach(D=>{l(D.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[n]),Tt.useEffect(()=>{if(i){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[i]);let y=()=>{r(!0)},S=()=>{r(!1),l(!1)};return e?n!=="intent"?[a,_,{}]:[a,_,{onFocus:Ed(u,y),onBlur:Ed(h,S),onMouseEnter:Ed(f,y),onMouseLeave:Ed(p,S),onTouchStart:Ed(m,y)}]:[!1,_,{}]}function Ed(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function FN({page:n,...t}){let{router:e}=ZS(),i=Tt.useMemo(()=>FS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?Tt.createElement(VN,{page:n,matches:i,...t}):null}function BN(n){let{manifest:t,routeModules:e}=tA(),[i,r]=Tt.useState([]);return Tt.useEffect(()=>{let a=!1;return LN(n,t,e).then(l=>{a||r(l)}),()=>{a=!0}},[n,t,e]),i}function VN({page:n,matches:t,...e}){let i=fu(),{future:r,manifest:a,routeModules:l}=tA(),{basename:u}=ZS(),{loaderData:h,matches:f}=MN(),p=Tt.useMemo(()=>v_(n,t,f,a,i,"data"),[n,t,f,a,i]),m=Tt.useMemo(()=>v_(n,t,f,a,i,"assets"),[n,t,f,a,i]),_=Tt.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,C=!1;if(t.forEach(D=>{var H;let j=a.routes[D.route.id];!j||!j.hasLoader||(!p.some(K=>K.route.id===D.route.id)&&D.route.id in h&&((H=l[D.route.id])!=null&&H.shouldRevalidate)||j.hasClientLoader?C=!0:T.add(D.route.id))}),T.size===0)return[];let E=CN(n,u,r.unstable_trailingSlashAwareDataRequests,"data");return C&&T.size>0&&E.searchParams.set("_routes",t.filter(D=>T.has(D.route.id)).map(D=>D.route.id).join(",")),[E.pathname+E.search]},[u,r.unstable_trailingSlashAwareDataRequests,h,i,a,p,t,n,l]),y=Tt.useMemo(()=>PN(m,a),[m,a]),S=BN(m);return Tt.createElement(Tt.Fragment,null,_.map(T=>Tt.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...e})),y.map(T=>Tt.createElement("link",{key:T,rel:"modulepreload",href:T,...e})),S.map(({key:T,link:C})=>Tt.createElement("link",{key:T,nonce:e.nonce,...C,crossOrigin:C.crossOrigin??e.crossOrigin})))}function zN(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var UN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UN&&(window.__reactRouterVersion="7.13.1")}catch{}function qN({basename:n,children:t,unstable_useTransitions:e,window:i}){let r=Tt.useRef();r.current==null&&(r.current=_6({window:i,v5Compat:!0}));let a=r.current,[l,u]=Tt.useState({action:a.action,location:a.location}),h=Tt.useCallback(f=>{e===!1?u(f):Tt.startTransition(()=>u(f))},[e]);return Tt.useLayoutEffect(()=>a.listen(h),[a,h]),Tt.createElement(yN,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:e})}var eA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eh=Tt.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,unstable_mask:u,state:h,target:f,to:p,preventScrollReset:m,viewTransition:_,unstable_defaultShouldRevalidate:y,...S},T){let{basename:C,navigator:E,unstable_useTransitions:D}=Tt.useContext(ma),j=typeof p=="string"&&eA.test(p),H=US(p,C);p=H.to;let K=tN(p,{relative:r}),Z=fu(),k=null;if(u){let mt=Hm(u,[],Z.unstable_mask?Z.unstable_mask.pathname:"/",!0);C!=="/"&&(mt.pathname=mt.pathname==="/"?C:fl([C,mt.pathname])),k=E.createHref(mt)}let[I,B,q]=jN(i,S),L=WN(p,{replace:l,unstable_mask:u,state:h,target:f,preventScrollReset:m,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:y,unstable_useTransitions:D});function P(mt){t&&t(mt),mt.defaultPrevented||L(mt)}let z=!(H.isExternal||a),ot=Tt.createElement("a",{...S,...q,href:(z?k:void 0)||H.absoluteURL||K,onClick:z?P:t,ref:zN(T,B),target:f,"data-discover":!j&&e==="render"?"true":void 0});return I&&!j?Tt.createElement(Tt.Fragment,null,ot,Tt.createElement(FN,{page:K})):ot});eh.displayName="Link";var af=Tt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:u,children:h,...f},p){let m=wp(l,{relative:f.relative}),_=fu(),y=Tt.useContext(Gm),{navigator:S,basename:T}=Tt.useContext(ma),C=y!=null&&QN(m)&&u===!0,E=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,D=_.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;e||(D=D.toLowerCase(),j=j?j.toLowerCase():null,E=E.toLowerCase()),j&&T&&(j=au(j,T)||j);const H=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let K=D===E||!r&&D.startsWith(E)&&D.charAt(H)==="/",Z=j!=null&&(j===E||!r&&j.startsWith(E)&&j.charAt(E.length)==="/"),k={isActive:K,isPending:Z,isTransitioning:C},I=K?t:void 0,B;typeof i=="function"?B=i(k):B=[i,K?"active":null,Z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(k):a;return Tt.createElement(eh,{...f,"aria-current":I,className:B,ref:p,style:q,to:l,viewTransition:u},typeof h=="function"?h(k):h)});af.displayName="NavLink";var HN=Tt.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:a,method:l=$g,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:_,...y},S)=>{let{unstable_useTransitions:T}=Tt.useContext(ma),C=KN(),E=XN(u,{relative:f}),D=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&eA.test(u),H=K=>{if(h&&h(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,k=(Z==null?void 0:Z.getAttribute("formmethod"))||l,I=()=>C(Z||K.currentTarget,{fetcherKey:t,method:k,navigate:e,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:_});T&&e!==!1?Tt.startTransition(()=>I()):I()};return Tt.createElement("form",{ref:S,method:D,action:E,onSubmit:i?h:H,...y,"data-discover":!j&&n==="render"?"true":void 0})});HN.displayName="Form";function GN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nA(n){let t=Tt.useContext(kf);return vi(t,GN(n)),t}function WN(n,{target:t,replace:e,unstable_mask:i,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=$S(),m=fu(),_=wp(n,{relative:l});return Tt.useCallback(y=>{if(AN(y,t)){y.preventDefault();let S=e!==void 0?e:tp(m)===tp(_),T=()=>p(n,{replace:S,unstable_mask:i,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});f?Tt.startTransition(()=>T()):T()}},[m,p,_,e,i,r,t,n,a,l,u,h,f])}var YN=0,$N=()=>`__${String(++YN)}__`;function KN(){let{router:n}=nA("useSubmit"),{basename:t}=Tt.useContext(ma),e=dN(),i=n.fetch,r=n.navigate;return Tt.useCallback(async(a,l={})=>{let{action:u,method:h,encType:f,formData:p,body:m}=NN(a,t);if(l.navigate===!1){let _=l.fetcherKey||$N();await i(_,e,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,t,e])}function XN(n,{relative:t}={}){let{basename:e}=Tt.useContext(ma),i=Tt.useContext(Ao);vi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...wp(n||".",{relative:t})},l=fu();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:fl([e,a.pathname])),tp(a)}function QN(n,{relative:t}={}){let e=Tt.useContext(HS);vi(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nA("useViewTransitionState"),r=wp(n,{relative:t});if(!e.isTransitioning)return!1;let a=au(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=au(e.nextLocation.pathname,i)||e.nextLocation.pathname;return pm(r.pathname,l)!=null||pm(r.pathname,a)!=null}const JN=()=>{};var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},ZN=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[e++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[e++],l=n[e++],u=n[e++],h=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},rA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,u=l?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,p=a>>2,m=(a&3)<<4|u>>4;let _=(u&15)<<2|f>>6,y=f&63;h||(y=64,l||(_=64)),i.push(e[p],e[m],e[_],e[y])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(iA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ZN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const m=r<n.length?e[n.charAt(r)]:64;if(++r,a==null||u==null||f==null||m==null)throw new tC;const _=a<<2|u>>4;if(i.push(_),f!==64){const y=u<<4&240|f>>2;if(i.push(y),m!==64){const S=f<<6&192|m;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eC=function(n){const t=iA(n);return rA.encodeByteArray(t,!0)},gm=function(n){return eC(n).replace(/\./g,"")},sA=function(n){try{return rA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=()=>nC().__FIREBASE_DEFAULTS__,rC=()=>{if(typeof process>"u"||typeof y_>"u")return;const n=y_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&sA(n[1]);return t&&JSON.parse(t)},Ym=()=>{try{return JN()||iC()||rC()||sC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aA=n=>{var t,e;return(e=(t=Ym())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},aC=n=>{const t=aA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},oA=()=>{var n;return(n=Ym())===null||n===void 0?void 0:n.config},lA=n=>{var t;return(t=Ym())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gm(JSON.stringify(e)),gm(JSON.stringify(l)),""].join(".")}const Bd={};function uC(){const n={prod:[],emulator:[]};for(const t of Object.keys(Bd))Bd[t]?n.emulator.push(t):n.prod.push(t);return n}function cC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let b_=!1;function cA(n,t){if(typeof window>"u"||typeof document>"u"||!Df(window.location.host)||Bd[n]===t||Bd[n]||b_)return;Bd[n]=t;function e(_){return`__firebase__banner__${_}`}const i="__firebase__banner",a=uC().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,y){_.setAttribute("width","24"),_.setAttribute("id",y),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{b_=!0,l()},_}function p(_,y){_.setAttribute("id",y),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=cC(i),y=e("text"),S=document.getElementById(y)||document.createElement("span"),T=e("learnmore"),C=document.getElementById(T)||document.createElement("a"),E=e("preprendIcon"),D=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;u(j),p(C,T);const H=f();h(D,E),j.append(D,S,C,H),document.body.appendChild(j)}a?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function fC(){var n;const t=(n=Ym())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mC(){const n=hs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vC(){return!fC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yC(){try{return typeof indexedDB=="object"}catch{return!1}}function bC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="FirebaseError";class du extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=_C,Object.setPrototypeOf(this,du.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xp.prototype.create)}}class xp{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?wC(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new du(r,u,i)}}function wC(n,t){return n.replace(xC,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const xC=/\{\$([^}]+)}/g;function SC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function lh(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const a=n[r],l=t[r];if(__(a)&&__(l)){if(!lh(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function __(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function AC(n,t){const e=new EC(n,t);return e.subscribe.bind(e)}class EC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");TC(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=H1),r.error===void 0&&(r.error=H1),r.complete===void 0&&(r.complete=H1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function H1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(n){return n&&n._delegate?n._delegate:n}class uh{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new oC;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RC(t))try{this.getOrInitializeService({instanceIdentifier:Wc})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=Wc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wc){return this.instances.has(t)}getOptions(t=Wc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Wc){return this.component?this.component.multipleInstances?t:Wc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CC(n){return n===Wc?void 0:n}function RC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new NC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(dn||(dn={}));const LC={debug:dn.DEBUG,verbose:dn.VERBOSE,info:dn.INFO,warn:dn.WARN,error:dn.ERROR,silent:dn.SILENT},PC=dn.INFO,kC={[dn.DEBUG]:"log",[dn.VERBOSE]:"log",[dn.INFO]:"info",[dn.WARN]:"warn",[dn.ERROR]:"error"},OC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=kC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nv{constructor(t){this.name=t,this._logLevel=PC,this._logHandler=OC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dn.DEBUG,...t),this._logHandler(this,dn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dn.VERBOSE,...t),this._logHandler(this,dn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dn.INFO,...t),this._logHandler(this,dn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dn.WARN,...t),this._logHandler(this,dn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dn.ERROR,...t),this._logHandler(this,dn.ERROR,...t)}}const DC=(n,t)=>t.some(e=>n instanceof e);let w_,x_;function MC(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hA=new WeakMap,N2=new WeakMap,fA=new WeakMap,G1=new WeakMap,Cv=new WeakMap;function FC(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(uc(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&hA.set(e,n)}).catch(()=>{}),Cv.set(t,n),t}function BC(n){if(N2.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});N2.set(n,t)}let C2={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return N2.get(n);if(t==="objectStoreNames")return n.objectStoreNames||fA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return uc(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function VC(n){C2=n(C2)}function zC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(W1(this),t,...e);return fA.set(i,t.sort?t.sort():[t]),uc(i)}:jC().includes(n)?function(...t){return n.apply(W1(this),t),uc(hA.get(this))}:function(...t){return uc(n.apply(W1(this),t))}}function UC(n){return typeof n=="function"?zC(n):(n instanceof IDBTransaction&&BC(n),DC(n,MC())?new Proxy(n,C2):n)}function uc(n){if(n instanceof IDBRequest)return FC(n);if(G1.has(n))return G1.get(n);const t=UC(n);return t!==n&&(G1.set(n,t),Cv.set(t,n)),t}const W1=n=>Cv.get(n);function qC(n,t,{blocked:e,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,t),u=uc(l);return i&&l.addEventListener("upgradeneeded",h=>{i(uc(l.result),h.oldVersion,h.newVersion,uc(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const HC=["get","getKey","getAll","getAllKeys","count"],GC=["put","add","delete","clear"],Y1=new Map;function S_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Y1.get(t))return Y1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=GC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||HC.includes(e)))return;const a=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&h.done]))[0]};return Y1.set(t,a),a}VC(n=>({...n,get:(t,e,i)=>S_(t,e)||n.get(t,e,i),has:(t,e)=>!!S_(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(YC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function YC(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const R2="@firebase/app",A_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=new Nv("@firebase/app"),$C="@firebase/app-compat",KC="@firebase/analytics-compat",XC="@firebase/analytics",QC="@firebase/app-check-compat",JC="@firebase/app-check",ZC="@firebase/auth",tR="@firebase/auth-compat",eR="@firebase/database",nR="@firebase/data-connect",iR="@firebase/database-compat",rR="@firebase/functions",sR="@firebase/functions-compat",aR="@firebase/installations",oR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",hR="@firebase/performance-compat",fR="@firebase/remote-config",dR="@firebase/remote-config-compat",pR="@firebase/storage",gR="@firebase/storage-compat",mR="@firebase/firestore",vR="@firebase/ai",yR="@firebase/firestore-compat",bR="firebase",_R="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="[DEFAULT]",wR={[R2]:"fire-core",[$C]:"fire-core-compat",[XC]:"fire-analytics",[KC]:"fire-analytics-compat",[JC]:"fire-app-check",[QC]:"fire-app-check-compat",[ZC]:"fire-auth",[tR]:"fire-auth-compat",[eR]:"fire-rtdb",[nR]:"fire-data-connect",[iR]:"fire-rtdb-compat",[rR]:"fire-fn",[sR]:"fire-fn-compat",[aR]:"fire-iid",[oR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[hR]:"fire-perf-compat",[fR]:"fire-rc",[dR]:"fire-rc-compat",[pR]:"fire-gcs",[gR]:"fire-gcs-compat",[mR]:"fire-fst",[yR]:"fire-fst-compat",[vR]:"fire-vertex","fire-js":"fire-js",[bR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Map,xR=new Map,L2=new Map;function E_(n,t){try{n.container.addComponent(t)}catch(e){ou.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function xf(n){const t=n.name;if(L2.has(t))return ou.debug(`There were multiple attempts to register component ${t}.`),!1;L2.set(t,n);for(const e of mm.values())E_(e,n);for(const e of xR.values())E_(e,n);return!0}function Rv(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function vo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cc=new xp("app","Firebase",SR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new uh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=_R;function dA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:I2,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw cc.create("bad-app-name",{appName:String(r)});if(e||(e=oA()),!e)throw cc.create("no-options");const a=mm.get(r);if(a){if(lh(e,a.options)&&lh(i,a.config))return a;throw cc.create("duplicate-app",{appName:r})}const l=new IC(r);for(const h of L2.values())l.addComponent(h);const u=new AR(e,i,l);return mm.set(r,u),u}function pA(n=I2){const t=mm.get(n);if(!t&&n===I2&&oA())return dA();if(!t)throw cc.create("no-app",{appName:n});return t}function hc(n,t,e){var i;let r=(i=wR[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${t}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ou.warn(u.join(" "));return}xf(new uh(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",TR=1,ep="firebase-heartbeat-store";let $1=null;function gA(){return $1||($1=qC(ER,TR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ep)}catch(e){console.warn(e)}}}}).catch(n=>{throw cc.create("idb-open",{originalErrorMessage:n.message})})),$1}async function NR(n){try{const e=(await gA()).transaction(ep),i=await e.objectStore(ep).get(mA(n));return await e.done,i}catch(t){if(t instanceof du)ou.warn(t.message);else{const e=cc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ou.warn(e.message)}}}async function T_(n,t){try{const i=(await gA()).transaction(ep,"readwrite");await i.objectStore(ep).put(t,mA(n)),await i.done}catch(e){if(e instanceof du)ou.warn(e.message);else{const i=cc.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ou.warn(i.message)}}}function mA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1024,RR=30;class IR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new PR(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=N_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>RR){const l=kR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ou.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N_(),{heartbeatsToSend:i,unsentEntries:r}=LR(this._heartbeatsCache.heartbeats),a=gm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ou.warn(e),""}}}function N_(){return new Date().toISOString().substring(0,10)}function LR(n,t=CR){const e=[];let i=n.slice();for(const r of n){const a=e.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),C_(e)>t){a.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),C_(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class PR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yC()?bC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await NR(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return T_(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return T_(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function C_(n){return gm(JSON.stringify({version:2,heartbeats:n})).length}function kR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n){xf(new uh("platform-logger",t=>new WC(t),"PRIVATE")),xf(new uh("heartbeat",t=>new IR(t),"PRIVATE")),hc(R2,A_,n),hc(R2,A_,"esm2017"),hc("fire-js","")}OR("");function Iv(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function vA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DR=vA,yA=new xp("auth","Firebase",vA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Nv("@firebase/auth");function MR(n,...t){vm.logLevel<=dn.WARN&&vm.warn(`Auth (${Mf}): ${n}`,...t)}function Xg(n,...t){vm.logLevel<=dn.ERROR&&vm.error(`Auth (${Mf}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n,...t){throw Pv(n,...t)}function wo(n,...t){return Pv(n,...t)}function Lv(n,t,e){const i=Object.assign(Object.assign({},DR()),{[t]:e});return new xp("auth","Firebase",i).create(t,{appName:n.name})}function nh(n){return Lv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jR(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&_l(n,"argument-error"),Lv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pv(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return yA.create(n,...t)}function je(n,t,...e){if(!n)throw Pv(t,...e)}function iu(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Xg(t),new Error(t)}function lu(n,t){n||iu(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FR(){return R_()==="http:"||R_()==="https:"}function R_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FR()||pC()||"connection"in navigator)?navigator.onLine:!0}function VR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,e){this.shortDelay=t,this.longDelay=e,lu(e>t,"Short delay should be less than long delay!"),this.isMobile=hC()||gC()}get(){return BR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,t){lu(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;iu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;iu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;iu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qR=new Ap(3e4,6e4);function Ov(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function jf(n,t,e,i,r={}){return _A(n,r,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const u=Sp(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:t,headers:h},a);return dC()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Df(n.emulatorConfig.host)&&(f.credentials="include"),bA.fetch()(await wA(n,n.config.apiHost,e,u),f)})}async function _A(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},zR),t);try{const r=new GR(n),a=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Ag(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ag(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Ag(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Ag(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Lv(n,p,f);_l(n,p)}}catch(r){if(r instanceof du)throw r;_l(n,"network-request-failed",{message:String(r)})}}async function HR(n,t,e,i,r={}){const a=await jf(n,t,e,i,r);return"mfaPendingCredential"in a&&_l(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function wA(n,t,e,i){const r=`${t}${e}?${i}`,a=n,l=a.config.emulator?kv(n.config,r):`${n.config.apiScheme}://${r}`;return UR.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(wo(this.auth,"network-request-failed")),qR.get())})}}function Ag(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=wo(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,t){return jf(n,"POST","/v1/accounts:delete",t)}async function ym(n,t){return jf(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YR(n,t=!1){const e=Ws(n),i=await e.getIdToken(t),r=Dv(i);je(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:Vd(K1(r.auth_time)),issuedAtTime:Vd(K1(r.iat)),expirationTime:Vd(K1(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function K1(n){return Number(n)*1e3}function Dv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Xg("JWT malformed, contained fewer than 3 sections"),null;try{const r=sA(e);return r?JSON.parse(r):(Xg("Failed to decode base64 JWT payload"),null)}catch(r){return Xg("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function I_(n){const t=Dv(n);return je(t,"internal-error"),je(typeof t.exp<"u","internal-error"),je(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof du&&$R(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $R({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vd(this.lastLoginAt),this.creationTime=Vd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(n){var t;const e=n.auth,i=await n.getIdToken(),r=await np(n,ym(e,{idToken:i}));je(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?xA(a.providerUserInfo):[],u=QR(n.providerData,l),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new k2(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function XR(n){const t=Ws(n);await bm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QR(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function xA(n){return n.map(t=>{var{providerId:e}=t,i=Iv(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,t){const e=await _A(n,{},async()=>{const i=Sp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,l=await wA(n,r,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return n.emulatorConfig&&Df(n.emulatorConfig.host)&&(h.credentials="include"),bA.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function ZR(n,t){return jf(n,"POST","/v2/accounts:revokeToken",Ov(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){je(t.idToken,"internal-error"),je(typeof t.idToken<"u","internal-error"),je(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):I_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){je(t.length!==0,"internal-error");const e=I_(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:a}=await JR(t,e);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:a}=e,l=new df;return i&&(je(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(je(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),a&&(je(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new df,this.toJSON())}_performRefresh(){return iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n,t){je(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class yo{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,a=Iv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new k2(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await np(this,this.stsTokenManager.getToken(this.auth,t));return je(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return YR(this,t)}reload(){return XR(this)}_assign(t){this!==t&&(je(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new yo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await bm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vo(this.auth.app))return Promise.reject(nh(this.auth));const t=await this.getIdToken();return await np(this,WR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,a,l,u,h,f,p;const m=(i=e.displayName)!==null&&i!==void 0?i:void 0,_=(r=e.email)!==null&&r!==void 0?r:void 0,y=(a=e.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=e.photoURL)!==null&&l!==void 0?l:void 0,T=(u=e.tenantId)!==null&&u!==void 0?u:void 0,C=(h=e._redirectEventId)!==null&&h!==void 0?h:void 0,E=(f=e.createdAt)!==null&&f!==void 0?f:void 0,D=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:H,isAnonymous:K,providerData:Z,stsTokenManager:k}=e;je(j&&k,t,"internal-error");const I=df.fromJSON(this.name,k);je(typeof j=="string",t,"internal-error"),Yu(m,t.name),Yu(_,t.name),je(typeof H=="boolean",t,"internal-error"),je(typeof K=="boolean",t,"internal-error"),Yu(y,t.name),Yu(S,t.name),Yu(T,t.name),Yu(C,t.name),Yu(E,t.name),Yu(D,t.name);const B=new yo({uid:j,auth:t,email:_,emailVerified:H,displayName:m,isAnonymous:K,photoURL:S,phoneNumber:y,tenantId:T,stsTokenManager:I,createdAt:E,lastLoginAt:D});return Z&&Array.isArray(Z)&&(B.providerData=Z.map(q=>Object.assign({},q))),C&&(B._redirectEventId=C),B}static async _fromIdTokenResponse(t,e,i=!1){const r=new df;r.updateFromServerResponse(e);const a=new yo({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await bm(a),a}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];je(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?xA(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),u=new df;u.updateFromIdToken(i);const h=new yo({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new k2(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function ru(n){lu(n instanceof Function,"Expected a class definition");let t=L_.get(n);return t?(lu(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,L_.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}SA.type="NONE";const P_=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(n,t,e){return`firebase:${n}:${t}:${e}`}class pf{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Qg(this.userKey,r.apiKey,a),this.fullPersistenceKey=Qg("persistence",r.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ym(this.auth,{idToken:t}).catch(()=>{});return e?yo._fromGetAccountInfoResponse(this.auth,e,t):null}return yo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new pf(ru(P_),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=r[0]||ru(P_);const l=Qg(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(l);if(p){let m;if(typeof p=="string"){const _=await ym(t,{idToken:p}).catch(()=>{});if(!_)break;m=await yo._fromGetAccountInfoResponse(t,_,p)}else m=yo._fromJSON(t,p);f!==a&&(u=m),a=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new pf(a,t,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new pf(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RA(t))return"Blackberry";if(IA(t))return"Webos";if(EA(t))return"Safari";if((t.includes("chrome/")||TA(t))&&!t.includes("edge/"))return"Chrome";if(CA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function AA(n=hs()){return/firefox\//i.test(n)}function EA(n=hs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TA(n=hs()){return/crios\//i.test(n)}function NA(n=hs()){return/iemobile/i.test(n)}function CA(n=hs()){return/android/i.test(n)}function RA(n=hs()){return/blackberry/i.test(n)}function IA(n=hs()){return/webos/i.test(n)}function Mv(n=hs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tI(n=hs()){var t;return Mv(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function eI(){return mC()&&document.documentMode===10}function LA(n=hs()){return Mv(n)||CA(n)||IA(n)||RA(n)||/windows phone/i.test(n)||NA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n,t=[]){let e;switch(n){case"Browser":e=k_(hs());break;case"Worker":e=`${k_(hs())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Mf}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=a=>new Promise((l,u)=>{try{const h=t(a);l(h)}catch(h){u(h)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(n,t={}){return jf(n,"GET","/v2/passwordPolicy",Ov(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=6;class sI{constructor(t){var e,i,r,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=l.minPasswordLength)!==null&&e!==void 0?e:rI,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(e=h.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ru(e)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await pf.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ym(this,{idToken:t}),i=await yo._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(vo(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await bm(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vo(this.app))return Promise.reject(nh(this));const e=t?Ws(t):null;return e&&je(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&je(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vo(this.app)?Promise.reject(nh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vo(this.app)?Promise.reject(nh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ru(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iI(this),e=new sI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xp("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await ZR(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ru(t)||this._popupRedirectResolver;je(e,this,"argument-error"),this.redirectPersistenceManager=await pf.create(this,[ru(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,r);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(vo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&MR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $m(n){return Ws(n)}class O_{constructor(t){this.auth=t,this.observer=null,this.addObserver=AC(e=>this.observer=e)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(n){jv=n}function lI(n){return jv.loadJS(n)}function uI(){return jv.gapiScript}function cI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(n,t){const e=Rv(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),a=e.getOptions();if(lh(a,t??{}))return r;_l(r,"already-initialized")}return e.initialize({options:t})}function fI(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(ru);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function dI(n,t,e){const i=$m(n);je(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,a=kA(t),{host:l,port:u}=pI(t),h=u===null?"":`:${u}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(lh(f,i.config.emulator)&&lh(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Df(l)?(uA(`${a}//${l}${h}`),cA("Auth",!0)):gI()}function kA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function pI(n){const t=kA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:D_(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:D_(l)}}}function D_(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function gI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return iu("not implemented")}_getIdTokenResponse(t){return iu("not implemented")}_linkToIdToken(t,e){return iu("not implemented")}_getReauthenticationResolver(t){return iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(n,t){return HR(n,"POST","/v1/accounts:signInWithIdp",Ov(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="http://localhost";class ch extends OA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ch(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):_l("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,a=Iv(e,["providerId","signInMethod"]);if(!i||!r)return null;const l=new ch(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return gf(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,gf(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,gf(t,e)}buildRequest(){const t={requestUri:mI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Sp(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Ep{constructor(){super("facebook.com")}static credential(t){return ch._fromParams({providerId:Ju.PROVIDER_ID,signInMethod:Ju.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ju.credentialFromTaggedObject(t)}static credentialFromError(t){return Ju.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ju.credential(t.oauthAccessToken)}catch{return null}}}Ju.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ju.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Ep{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ch._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return nu.credentialFromTaggedObject(t)}static credentialFromError(t){return nu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return nu.credential(e,i)}catch{return null}}}nu.GOOGLE_SIGN_IN_METHOD="google.com";nu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Ep{constructor(){super("github.com")}static credential(t){return ch._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zu.credentialFromTaggedObject(t)}static credentialFromError(t){return Zu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zu.credential(t.oauthAccessToken)}catch{return null}}}Zu.GITHUB_SIGN_IN_METHOD="github.com";Zu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Ep{constructor(){super("twitter.com")}static credential(t,e){return ch._fromParams({providerId:tc.PROVIDER_ID,signInMethod:tc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return tc.credentialFromTaggedObject(t)}static credentialFromError(t){return tc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return tc.credential(e,i)}catch{return null}}}tc.TWITTER_SIGN_IN_METHOD="twitter.com";tc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const a=await yo._fromIdTokenResponse(t,i,r),l=M_(i);return new Sf({user:a,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=M_(i);return new Sf({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function M_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends du{constructor(t,e,i,r){var a;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new _m(t,e,i,r)}}function DA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,a,t,i):a})}async function vI(n,t,e=!1){const i=await np(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Sf._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(n,t,e=!1){const{auth:i}=n;if(vo(i.app))return Promise.reject(nh(i));const r="reauthenticate";try{const a=await np(n,DA(i,r,t,n),e);je(a.idToken,i,"internal-error");const l=Dv(a.idToken);je(l,i,"internal-error");const{sub:u}=l;return je(n.uid===u,i,"user-mismatch"),Sf._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&_l(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(n,t,e=!1){if(vo(n.app))return Promise.reject(nh(n));const i="signIn",r=await DA(n,i,t),a=await Sf._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(a.user),a}function _I(n,t,e,i){return Ws(n).onIdTokenChanged(t,e,i)}function wI(n,t,e){return Ws(n).beforeAuthStateChanged(t,e)}function xI(n,t,e,i){return Ws(n).onAuthStateChanged(t,e,i)}function SI(n){return Ws(n).signOut()}const wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wm,"1"),this.storage.removeItem(wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1e3,EI=10;class jA extends MA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);eI()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,EI):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}jA.type="LOCAL";const TI=jA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends MA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}FA.type="SESSION";const BA=FA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Km(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:a}=e.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(e.origin,a)),h=await NI(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=Bv("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(m){const _=m;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(){return window}function RI(n){dl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return typeof dl().WorkerGlobalScope<"u"&&typeof dl().importScripts=="function"}async function II(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LI(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function PI(){return VA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebaseLocalStorageDb",kI=1,xm="firebaseLocalStorage",UA="fbase_key";class Tp{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Xm(n,t){return n.transaction([xm],t?"readwrite":"readonly").objectStore(xm)}function OI(){const n=indexedDB.deleteDatabase(zA);return new Tp(n).toPromise()}function O2(){const n=indexedDB.open(zA,kI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(xm,{keyPath:UA})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(xm)?t(i):(i.close(),await OI(),t(await O2()))})})}async function j_(n,t,e){const i=Xm(n,!0).put({[UA]:t,value:e});return new Tp(i).toPromise()}async function DI(n,t){const e=Xm(n,!1).get(t),i=await new Tp(e).toPromise();return i===void 0?null:i.value}function F_(n,t){const e=Xm(n,!0).delete(t);return new Tp(e).toPromise()}const MI=800,jI=3;class qA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O2(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>jI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(PI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await II(),!this.activeServiceWorker)return;this.sender=new CI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await O2();return await j_(t,wm,"1"),await F_(t,wm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>j_(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>DI(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>F_(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const a=Xm(r,!1).getAll();return new Tp(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:a}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qA.type="LOCAL";const FI=qA;new Ap(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n,t){return t?ru(t):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends OA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return gf(t,this._buildIdpRequest())}_linkToIdToken(t,e){return gf(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return gf(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function BI(n){return bI(n.auth,new Vv(n),n.bypassAuthState)}function VI(n){const{auth:t,user:e}=n;return je(e,t,"internal-error"),yI(e,new Vv(n),n.bypassAuthState)}async function zI(n){const{auth:t,user:e}=n;return je(e,t,"internal-error"),vI(e,new Vv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,e,i,r,a=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:a,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BI;case"linkViaPopup":case"linkViaRedirect":return zI;case"reauthViaPopup":case"reauthViaRedirect":return VI;default:_l(this.auth,"internal-error")}}resolve(t){lu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Ap(2e3,1e4);async function qI(n,t,e){if(vo(n.app))return Promise.reject(wo(n,"operation-not-supported-in-this-environment"));const i=$m(n);jR(n,t,Fv);const r=HA(i,e);return new Xc(i,"signInViaPopup",t,r).executeNotNull()}class Xc extends GA{constructor(t,e,i,r,a){super(t,e,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Xc.currentPopupAction&&Xc.currentPopupAction.cancel(),Xc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return je(t,this.auth,"internal-error"),t}async onExecution(){lu(this.filter.length===1,"Popup operations only handle one event");const t=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(wo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(wo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UI.get())};t()}}Xc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="pendingRedirect",Jg=new Map;class GI extends GA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Jg.get(this.auth._key());if(!t){try{const i=await WI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Jg.set(this.auth._key(),t)}return this.bypassAuthState||Jg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WI(n,t){const e=KI(t),i=$I(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function YI(n,t){Jg.set(n._key(),t)}function $I(n){return ru(n._redirectPersistence)}function KI(n){return Qg(HI,n.config.apiKey,n.name)}async function XI(n,t,e=!1){if(vo(n.app))return Promise.reject(nh(n));const i=$m(n),r=HA(i,t),l=await new GI(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=600*1e3;class JI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!WA(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(wo(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=QI&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(t))}saveEventToCache(t){this.cachedEventUids.add(B_(t)),this.lastProcessedEventTime=Date.now()}}function B_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function WA({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ZI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(n,t={}){return jf(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nL=/^https?/;async function iL(n){if(n.config.emulator)return;const{authorizedDomains:t}=await tL(n);for(const e of t)try{if(rL(e))return}catch{}_l(n,"unauthorized-domain")}function rL(n){const t=P2(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!nL.test(e))return!1;if(eL.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new Ap(3e4,6e4);function V_(){const n=dl().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function aL(n){return new Promise((t,e)=>{var i,r,a;function l(){V_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{V_(),e(wo(n,"network-request-failed"))},timeout:sL.get()})}if(!((r=(i=dl().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((a=dl().gapi)===null||a===void 0)&&a.load)l();else{const u=cI("iframefcb");return dl()[u]=()=>{gapi.load?l():e(wo(n,"network-request-failed"))},lI(`${uI()}?onload=${u}`).catch(h=>e(h))}}).catch(t=>{throw Zg=null,t})}let Zg=null;function oL(n){return Zg=Zg||aL(n),Zg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new Ap(5e3,15e3),uL="__/auth/iframe",cL="emulator/auth/iframe",hL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dL(n){const t=n.config;je(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?kv(t,cL):`https://${n.config.authDomain}/${uL}`,i={apiKey:t.apiKey,appName:n.name,v:Mf},r=fL.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${e}?${Sp(i).slice(1)}`}async function pL(n){const t=await oL(n),e=dl().gapi;return je(e,n,"internal-error"),t.open({where:document.body,url:dL(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hL,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=wo(n,"network-request-failed"),u=dl().setTimeout(()=>{a(l)},lL.get());function h(){dl().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mL=500,vL=600,yL="_blank",bL="http://localhost";class z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _L(n,t,e,i=mL,r=vL){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},gL),{width:i.toString(),height:r.toString(),top:a,left:l}),f=hs().toLowerCase();e&&(u=TA(f)?yL:e),AA(f)&&(t=t||bL,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[y,S])=>`${_}${y}=${S},`,"");if(tI(f)&&u!=="_self")return wL(t||"",u),new z_(null);const m=window.open(t||"",u,p);je(m,n,"popup-blocked");try{m.focus()}catch{}return new z_(m)}function wL(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="__/auth/handler",SL="emulator/auth/handler",AL=encodeURIComponent("fac");async function U_(n,t,e,i,r,a){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Mf,eventId:r};if(t instanceof Fv){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",SC(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(t instanceof Ep){const p=t.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),f=h?`#${AL}=${encodeURIComponent(h)}`:"";return`${EL(n)}?${Sp(u).slice(1)}${f}`}function EL({config:n}){return n.emulator?kv(n,SL):`https://${n.authDomain}/${xL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="webStorageSupport";class TL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BA,this._completeRedirectFn=XI,this._overrideRedirectResult=YI}async _openPopup(t,e,i,r){var a;lu((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await U_(t,e,i,P2(),r);return _L(t,l,Bv())}async _openRedirect(t,e,i,r){await this._originValidation(t);const a=await U_(t,e,i,P2(),r);return RI(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:a}=this.eventManagers[e];return r?Promise.resolve(r):(lu(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await pL(t),i=new JI(t);return e.register("authEvent",r=>(je(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(X1,{type:X1},r=>{var a;const l=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[X1];l!==void 0&&e(!!l),_l(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=iL(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return LA()||EA()||Mv()}}const NL=TL;var q_="@firebase/auth",H_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IL(n){xf(new uh("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PA(n)},f=new aI(i,r,a,h);return fI(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),xf(new uh("auth-internal",t=>{const e=$m(t.getProvider("auth").getImmediate());return(i=>new CL(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),hc(q_,H_,RL(n)),hc(q_,H_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=300,PL=lA("authIdTokenMaxAge")||LL;let G_=null;const kL=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>PL)return;const r=e==null?void 0:e.token;G_!==r&&(G_=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function OL(n=pA()){const t=Rv(n,"auth");if(t.isInitialized())return t.getImmediate();const e=hI(n,{popupRedirectResolver:NL,persistence:[FI,TI,BA]}),i=lA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=kL(a.toString());wI(e,l,()=>l(e.currentUser)),_I(e,u=>l(u))}}const r=aA("auth");return r&&dI(e,`http://${r}`),e}function DL(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}oI({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const a=wo("internal-error");a.customData=r,e(a)},i.type="text/javascript",i.charset="UTF-8",DL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IL("Browser");var ML="firebase",jL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hc(ML,jL,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fc,YA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,I){function B(){}B.prototype=I.prototype,k.D=I.prototype,k.prototype=new B,k.prototype.constructor=k,k.C=function(q,L,P){for(var z=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)z[ot-2]=arguments[ot];return I.prototype[L].apply(q,z)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,I,B){B||(B=0);var q=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)q[L]=I.charCodeAt(B++)|I.charCodeAt(B++)<<8|I.charCodeAt(B++)<<16|I.charCodeAt(B++)<<24;else for(L=0;16>L;++L)q[L]=I[B++]|I[B++]<<8|I[B++]<<16|I[B++]<<24;I=k.g[0],B=k.g[1],L=k.g[2];var P=k.g[3],z=I+(P^B&(L^P))+q[0]+3614090360&4294967295;I=B+(z<<7&4294967295|z>>>25),z=P+(L^I&(B^L))+q[1]+3905402710&4294967295,P=I+(z<<12&4294967295|z>>>20),z=L+(B^P&(I^B))+q[2]+606105819&4294967295,L=P+(z<<17&4294967295|z>>>15),z=B+(I^L&(P^I))+q[3]+3250441966&4294967295,B=L+(z<<22&4294967295|z>>>10),z=I+(P^B&(L^P))+q[4]+4118548399&4294967295,I=B+(z<<7&4294967295|z>>>25),z=P+(L^I&(B^L))+q[5]+1200080426&4294967295,P=I+(z<<12&4294967295|z>>>20),z=L+(B^P&(I^B))+q[6]+2821735955&4294967295,L=P+(z<<17&4294967295|z>>>15),z=B+(I^L&(P^I))+q[7]+4249261313&4294967295,B=L+(z<<22&4294967295|z>>>10),z=I+(P^B&(L^P))+q[8]+1770035416&4294967295,I=B+(z<<7&4294967295|z>>>25),z=P+(L^I&(B^L))+q[9]+2336552879&4294967295,P=I+(z<<12&4294967295|z>>>20),z=L+(B^P&(I^B))+q[10]+4294925233&4294967295,L=P+(z<<17&4294967295|z>>>15),z=B+(I^L&(P^I))+q[11]+2304563134&4294967295,B=L+(z<<22&4294967295|z>>>10),z=I+(P^B&(L^P))+q[12]+1804603682&4294967295,I=B+(z<<7&4294967295|z>>>25),z=P+(L^I&(B^L))+q[13]+4254626195&4294967295,P=I+(z<<12&4294967295|z>>>20),z=L+(B^P&(I^B))+q[14]+2792965006&4294967295,L=P+(z<<17&4294967295|z>>>15),z=B+(I^L&(P^I))+q[15]+1236535329&4294967295,B=L+(z<<22&4294967295|z>>>10),z=I+(L^P&(B^L))+q[1]+4129170786&4294967295,I=B+(z<<5&4294967295|z>>>27),z=P+(B^L&(I^B))+q[6]+3225465664&4294967295,P=I+(z<<9&4294967295|z>>>23),z=L+(I^B&(P^I))+q[11]+643717713&4294967295,L=P+(z<<14&4294967295|z>>>18),z=B+(P^I&(L^P))+q[0]+3921069994&4294967295,B=L+(z<<20&4294967295|z>>>12),z=I+(L^P&(B^L))+q[5]+3593408605&4294967295,I=B+(z<<5&4294967295|z>>>27),z=P+(B^L&(I^B))+q[10]+38016083&4294967295,P=I+(z<<9&4294967295|z>>>23),z=L+(I^B&(P^I))+q[15]+3634488961&4294967295,L=P+(z<<14&4294967295|z>>>18),z=B+(P^I&(L^P))+q[4]+3889429448&4294967295,B=L+(z<<20&4294967295|z>>>12),z=I+(L^P&(B^L))+q[9]+568446438&4294967295,I=B+(z<<5&4294967295|z>>>27),z=P+(B^L&(I^B))+q[14]+3275163606&4294967295,P=I+(z<<9&4294967295|z>>>23),z=L+(I^B&(P^I))+q[3]+4107603335&4294967295,L=P+(z<<14&4294967295|z>>>18),z=B+(P^I&(L^P))+q[8]+1163531501&4294967295,B=L+(z<<20&4294967295|z>>>12),z=I+(L^P&(B^L))+q[13]+2850285829&4294967295,I=B+(z<<5&4294967295|z>>>27),z=P+(B^L&(I^B))+q[2]+4243563512&4294967295,P=I+(z<<9&4294967295|z>>>23),z=L+(I^B&(P^I))+q[7]+1735328473&4294967295,L=P+(z<<14&4294967295|z>>>18),z=B+(P^I&(L^P))+q[12]+2368359562&4294967295,B=L+(z<<20&4294967295|z>>>12),z=I+(B^L^P)+q[5]+4294588738&4294967295,I=B+(z<<4&4294967295|z>>>28),z=P+(I^B^L)+q[8]+2272392833&4294967295,P=I+(z<<11&4294967295|z>>>21),z=L+(P^I^B)+q[11]+1839030562&4294967295,L=P+(z<<16&4294967295|z>>>16),z=B+(L^P^I)+q[14]+4259657740&4294967295,B=L+(z<<23&4294967295|z>>>9),z=I+(B^L^P)+q[1]+2763975236&4294967295,I=B+(z<<4&4294967295|z>>>28),z=P+(I^B^L)+q[4]+1272893353&4294967295,P=I+(z<<11&4294967295|z>>>21),z=L+(P^I^B)+q[7]+4139469664&4294967295,L=P+(z<<16&4294967295|z>>>16),z=B+(L^P^I)+q[10]+3200236656&4294967295,B=L+(z<<23&4294967295|z>>>9),z=I+(B^L^P)+q[13]+681279174&4294967295,I=B+(z<<4&4294967295|z>>>28),z=P+(I^B^L)+q[0]+3936430074&4294967295,P=I+(z<<11&4294967295|z>>>21),z=L+(P^I^B)+q[3]+3572445317&4294967295,L=P+(z<<16&4294967295|z>>>16),z=B+(L^P^I)+q[6]+76029189&4294967295,B=L+(z<<23&4294967295|z>>>9),z=I+(B^L^P)+q[9]+3654602809&4294967295,I=B+(z<<4&4294967295|z>>>28),z=P+(I^B^L)+q[12]+3873151461&4294967295,P=I+(z<<11&4294967295|z>>>21),z=L+(P^I^B)+q[15]+530742520&4294967295,L=P+(z<<16&4294967295|z>>>16),z=B+(L^P^I)+q[2]+3299628645&4294967295,B=L+(z<<23&4294967295|z>>>9),z=I+(L^(B|~P))+q[0]+4096336452&4294967295,I=B+(z<<6&4294967295|z>>>26),z=P+(B^(I|~L))+q[7]+1126891415&4294967295,P=I+(z<<10&4294967295|z>>>22),z=L+(I^(P|~B))+q[14]+2878612391&4294967295,L=P+(z<<15&4294967295|z>>>17),z=B+(P^(L|~I))+q[5]+4237533241&4294967295,B=L+(z<<21&4294967295|z>>>11),z=I+(L^(B|~P))+q[12]+1700485571&4294967295,I=B+(z<<6&4294967295|z>>>26),z=P+(B^(I|~L))+q[3]+2399980690&4294967295,P=I+(z<<10&4294967295|z>>>22),z=L+(I^(P|~B))+q[10]+4293915773&4294967295,L=P+(z<<15&4294967295|z>>>17),z=B+(P^(L|~I))+q[1]+2240044497&4294967295,B=L+(z<<21&4294967295|z>>>11),z=I+(L^(B|~P))+q[8]+1873313359&4294967295,I=B+(z<<6&4294967295|z>>>26),z=P+(B^(I|~L))+q[15]+4264355552&4294967295,P=I+(z<<10&4294967295|z>>>22),z=L+(I^(P|~B))+q[6]+2734768916&4294967295,L=P+(z<<15&4294967295|z>>>17),z=B+(P^(L|~I))+q[13]+1309151649&4294967295,B=L+(z<<21&4294967295|z>>>11),z=I+(L^(B|~P))+q[4]+4149444226&4294967295,I=B+(z<<6&4294967295|z>>>26),z=P+(B^(I|~L))+q[11]+3174756917&4294967295,P=I+(z<<10&4294967295|z>>>22),z=L+(I^(P|~B))+q[2]+718787259&4294967295,L=P+(z<<15&4294967295|z>>>17),z=B+(P^(L|~I))+q[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(L+(z<<21&4294967295|z>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+P&4294967295}i.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var B=I-this.blockSize,q=this.B,L=this.h,P=0;P<I;){if(L==0)for(;P<=B;)r(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<I;)if(q[L++]=k.charCodeAt(P++),L==this.blockSize){r(this,q),L=0;break}}else for(;P<I;)if(q[L++]=k[P++],L==this.blockSize){r(this,q),L=0;break}}this.h=L,this.o+=I},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var B=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=B&255,B/=256;for(this.u(k),k=Array(16),I=B=0;4>I;++I)for(var q=0;32>q;q+=8)k[B++]=this.g[I]>>>q&255;return k};function a(k,I){var B=u;return Object.prototype.hasOwnProperty.call(B,k)?B[k]:B[k]=I(k)}function l(k,I){this.h=I;for(var B=[],q=!0,L=k.length-1;0<=L;L--){var P=k[L]|0;q&&P==I||(B[L]=P,q=!1)}this.g=B}var u={};function h(k){return-128<=k&&128>k?a(k,function(I){return new l([I|0],0>I?-1:0)}):new l([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return C(f(-k));for(var I=[],B=1,q=0;k>=B;q++)I[q]=k/B|0,B*=4294967296;return new l(I,0)}function p(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return C(p(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=f(Math.pow(I,8)),q=m,L=0;L<k.length;L+=8){var P=Math.min(8,k.length-L),z=parseInt(k.substring(L,L+P),I);8>P?(P=f(Math.pow(I,P)),q=q.j(P).add(f(z))):(q=q.j(B),q=q.add(f(z)))}return q}var m=h(0),_=h(1),y=h(16777216);n=l.prototype,n.m=function(){if(T(this))return-C(this).m();for(var k=0,I=1,B=0;B<this.g.length;B++){var q=this.i(B);k+=(0<=q?q:4294967296+q)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(T(this))return"-"+C(this).toString(k);for(var I=f(Math.pow(k,6)),B=this,q="";;){var L=H(B,I).g;B=E(B,L.j(I));var P=((0<B.g.length?B.g[0]:B.h)>>>0).toString(k);if(B=L,S(B))return P+q;for(;6>P.length;)P="0"+P;q=P+q}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function T(k){return k.h==-1}n.l=function(k){return k=E(this,k),T(k)?-1:S(k)?0:1};function C(k){for(var I=k.g.length,B=[],q=0;q<I;q++)B[q]=~k.g[q];return new l(B,~k.h).add(_)}n.abs=function(){return T(this)?C(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),B=[],q=0,L=0;L<=I;L++){var P=q+(this.i(L)&65535)+(k.i(L)&65535),z=(P>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);q=z>>>16,P&=65535,z&=65535,B[L]=z<<16|P}return new l(B,B[B.length-1]&-2147483648?-1:0)};function E(k,I){return k.add(C(I))}n.j=function(k){if(S(this)||S(k))return m;if(T(this))return T(k)?C(this).j(C(k)):C(C(this).j(k));if(T(k))return C(this.j(C(k)));if(0>this.l(y)&&0>k.l(y))return f(this.m()*k.m());for(var I=this.g.length+k.g.length,B=[],q=0;q<2*I;q++)B[q]=0;for(q=0;q<this.g.length;q++)for(var L=0;L<k.g.length;L++){var P=this.i(q)>>>16,z=this.i(q)&65535,ot=k.i(L)>>>16,mt=k.i(L)&65535;B[2*q+2*L]+=z*mt,D(B,2*q+2*L),B[2*q+2*L+1]+=P*mt,D(B,2*q+2*L+1),B[2*q+2*L+1]+=z*ot,D(B,2*q+2*L+1),B[2*q+2*L+2]+=P*ot,D(B,2*q+2*L+2)}for(q=0;q<I;q++)B[q]=B[2*q+1]<<16|B[2*q];for(q=I;q<2*I;q++)B[q]=0;return new l(B,0)};function D(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function j(k,I){this.g=k,this.h=I}function H(k,I){if(S(I))throw Error("division by zero");if(S(k))return new j(m,m);if(T(k))return I=H(C(k),I),new j(C(I.g),C(I.h));if(T(I))return I=H(k,C(I)),new j(C(I.g),I.h);if(30<k.g.length){if(T(k)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var B=_,q=I;0>=q.l(k);)B=K(B),q=K(q);var L=Z(B,1),P=Z(q,1);for(q=Z(q,2),B=Z(B,2);!S(q);){var z=P.add(q);0>=z.l(k)&&(L=L.add(B),P=z),q=Z(q,1),B=Z(B,1)}return I=E(k,L.j(I)),new j(L,I)}for(L=m;0<=k.l(I);){for(B=Math.max(1,Math.floor(k.m()/I.m())),q=Math.ceil(Math.log(B)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),P=f(B),z=P.j(I);T(z)||0<z.l(k);)B-=q,P=f(B),z=P.j(I);S(P)&&(P=_),L=L.add(P),k=E(k,z)}return new j(L,k)}n.A=function(k){return H(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),B=[],q=0;q<I;q++)B[q]=this.i(q)&k.i(q);return new l(B,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),B=[],q=0;q<I;q++)B[q]=this.i(q)|k.i(q);return new l(B,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),B=[],q=0;q<I;q++)B[q]=this.i(q)^k.i(q);return new l(B,this.h^k.h)};function K(k){for(var I=k.g.length+1,B=[],q=0;q<I;q++)B[q]=k.i(q)<<1|k.i(q-1)>>>31;return new l(B,k.h)}function Z(k,I){var B=I>>5;I%=32;for(var q=k.g.length-B,L=[],P=0;P<q;P++)L[P]=0<I?k.i(P+B)>>>I|k.i(P+B+1)<<32-I:k.i(P+B);return new l(L,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,YA=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,fc=l}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $A,kd,KA,tm,D2,XA,QA,JA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,R,V){return v==Array.prototype||v==Object.prototype||(v[R]=V.value),v};function e(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eg=="object"&&Eg];for(var R=0;R<v.length;++R){var V=v[R];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=e(this);function r(v,R){if(R)t:{var V=i;v=v.split(".");for(var rt=0;rt<v.length-1;rt++){var St=v[rt];if(!(St in V))break t;V=V[St]}v=v[v.length-1],rt=V[v],R=R(rt),R!=rt&&R!=null&&t(V,v,{configurable:!0,writable:!0,value:R})}}function a(v,R){v instanceof String&&(v+="");var V=0,rt=!1,St={next:function(){if(!rt&&V<v.length){var Pt=V++;return{value:R(Pt,v[Pt]),done:!1}}return rt=!0,{done:!0,value:void 0}}};return St[Symbol.iterator]=function(){return St},St}r("Array.prototype.values",function(v){return v||function(){return a(this,function(R,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(v){var R=typeof v;return R=R!="object"?R:v?Array.isArray(v)?"array":R:"null",R=="array"||R=="object"&&typeof v.length=="number"}function f(v){var R=typeof v;return R=="object"&&v!=null||R=="function"}function p(v,R,V){return v.call.apply(v.bind,arguments)}function m(v,R,V){if(!v)throw Error();if(2<arguments.length){var rt=Array.prototype.slice.call(arguments,2);return function(){var St=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(St,rt),v.apply(R,St)}}return function(){return v.apply(R,arguments)}}function _(v,R,V){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,_.apply(null,arguments)}function y(v,R){var V=Array.prototype.slice.call(arguments,1);return function(){var rt=V.slice();return rt.push.apply(rt,arguments),v.apply(this,rt)}}function S(v,R){function V(){}V.prototype=R.prototype,v.aa=R.prototype,v.prototype=new V,v.prototype.constructor=v,v.Qb=function(rt,St,Pt){for(var Jt=Array(arguments.length-2),De=2;De<arguments.length;De++)Jt[De-2]=arguments[De];return R.prototype[St].apply(rt,Jt)}}function T(v){const R=v.length;if(0<R){const V=Array(R);for(let rt=0;rt<R;rt++)V[rt]=v[rt];return V}return[]}function C(v,R){for(let V=1;V<arguments.length;V++){const rt=arguments[V];if(h(rt)){const St=v.length||0,Pt=rt.length||0;v.length=St+Pt;for(let Jt=0;Jt<Pt;Jt++)v[St+Jt]=rt[Jt]}else v.push(rt)}}class E{constructor(R,V){this.i=R,this.j=V,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function D(v){return/^[\s\xa0]*$/.test(v)}function j(){var v=u.navigator;return v&&(v=v.userAgent)?v:""}function H(v){return H[" "](v),v}H[" "]=function(){};var K=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Z(v,R,V){for(const rt in v)R.call(V,v[rt],rt,v)}function k(v,R){for(const V in v)R.call(void 0,v[V],V,v)}function I(v){const R={};for(const V in v)R[V]=v[V];return R}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(v,R){let V,rt;for(let St=1;St<arguments.length;St++){rt=arguments[St];for(V in rt)v[V]=rt[V];for(let Pt=0;Pt<B.length;Pt++)V=B[Pt],Object.prototype.hasOwnProperty.call(rt,V)&&(v[V]=rt[V])}}function L(v){var R=1;v=v.split(":");const V=[];for(;0<R&&v.length;)V.push(v.shift()),R--;return v.length&&V.push(v.join(":")),V}function P(v){u.setTimeout(()=>{throw v},0)}function z(){var v=ut;let R=null;return v.g&&(R=v.g,v.g=v.g.next,v.g||(v.h=null),R.next=null),R}class ot{constructor(){this.h=this.g=null}add(R,V){const rt=mt.get();rt.set(R,V),this.h?this.h.next=rt:this.g=rt,this.h=rt}}var mt=new E(()=>new $,v=>v.reset());class ${constructor(){this.next=this.g=this.h=null}set(R,V){this.h=R,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let J,et=!1,ut=new ot,pt=()=>{const v=u.Promise.resolve(void 0);J=()=>{v.then(tt)}};var tt=()=>{for(var v;v=z();){try{v.h.call(v.g)}catch(V){P(V)}var R=mt;R.j(v),100>R.h&&(R.h++,v.next=R.g,R.g=v)}et=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(v,R){this.type=v,this.g=this.target=R,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var nt=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var v=!1,R=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const V=()=>{};u.addEventListener("test",V,R),u.removeEventListener("test",V,R)}catch{}return v})();function lt(v,R){if(Y.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var V=this.type=v.type,rt=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=R,R=v.relatedTarget){if(K){t:{try{H(R.nodeName);var St=!0;break t}catch{}St=!1}St||(R=null)}}else V=="mouseover"?R=v.fromElement:V=="mouseout"&&(R=v.toElement);this.relatedTarget=R,rt?(this.clientX=rt.clientX!==void 0?rt.clientX:rt.pageX,this.clientY=rt.clientY!==void 0?rt.clientY:rt.pageY,this.screenX=rt.screenX||0,this.screenY=rt.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:ht[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&lt.aa.h.call(this)}}S(lt,Y);var ht={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Rt(v,R,V,rt,St){this.listener=v,this.proxy=null,this.src=R,this.type=V,this.capture=!!rt,this.ha=St,this.key=++Nt,this.da=this.fa=!1}function Qt(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Kt(v){this.src=v,this.g={},this.h=0}Kt.prototype.add=function(v,R,V,rt,St){var Pt=v.toString();v=this.g[Pt],v||(v=this.g[Pt]=[],this.h++);var Jt=ie(v,R,rt,St);return-1<Jt?(R=v[Jt],V||(R.fa=!1)):(R=new Rt(R,this.src,Pt,!!rt,St),R.fa=V,v.push(R)),R};function ee(v,R){var V=R.type;if(V in v.g){var rt=v.g[V],St=Array.prototype.indexOf.call(rt,R,void 0),Pt;(Pt=0<=St)&&Array.prototype.splice.call(rt,St,1),Pt&&(Qt(R),v.g[V].length==0&&(delete v.g[V],v.h--))}}function ie(v,R,V,rt){for(var St=0;St<v.length;++St){var Pt=v[St];if(!Pt.da&&Pt.listener==R&&Pt.capture==!!V&&Pt.ha==rt)return St}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),Ft={};function dt(v,R,V,rt,St){if(Array.isArray(R)){for(var Pt=0;Pt<R.length;Pt++)dt(v,R[Pt],V,rt,St);return null}return V=Fe(V),v&&v[_t]?v.K(R,V,f(rt)?!!rt.capture:!1,St):Oe(v,R,V,!1,rt,St)}function Oe(v,R,V,rt,St,Pt){if(!R)throw Error("Invalid event type");var Jt=f(St)?!!St.capture:!!St,De=ye(v);if(De||(v[ve]=De=new Kt(v)),V=De.add(R,V,rt,Jt,Pt),V.proxy)return V;if(rt=de(),V.proxy=rt,rt.src=v,rt.listener=V,v.addEventListener)nt||(St=Jt),St===void 0&&(St=!1),v.addEventListener(R.toString(),rt,St);else if(v.attachEvent)v.attachEvent(ae(R.toString()),rt);else if(v.addListener&&v.removeListener)v.addListener(rt);else throw Error("addEventListener and attachEvent are unavailable.");return V}function de(){function v(V){return R.call(v.src,v.listener,V)}const R=oe;return v}function Zt(v,R,V,rt,St){if(Array.isArray(R))for(var Pt=0;Pt<R.length;Pt++)Zt(v,R[Pt],V,rt,St);else rt=f(rt)?!!rt.capture:!!rt,V=Fe(V),v&&v[_t]?(v=v.i,R=String(R).toString(),R in v.g&&(Pt=v.g[R],V=ie(Pt,V,rt,St),-1<V&&(Qt(Pt[V]),Array.prototype.splice.call(Pt,V,1),Pt.length==0&&(delete v.g[R],v.h--)))):v&&(v=ye(v))&&(R=v.g[R.toString()],v=-1,R&&(v=ie(R,V,rt,St)),(V=-1<v?R[v]:null)&&te(V))}function te(v){if(typeof v!="number"&&v&&!v.da){var R=v.src;if(R&&R[_t])ee(R.i,v);else{var V=v.type,rt=v.proxy;R.removeEventListener?R.removeEventListener(V,rt,v.capture):R.detachEvent?R.detachEvent(ae(V),rt):R.addListener&&R.removeListener&&R.removeListener(rt),(V=ye(R))?(ee(V,v),V.h==0&&(V.src=null,R[ve]=null)):Qt(v)}}}function ae(v){return v in Ft?Ft[v]:Ft[v]="on"+v}function oe(v,R){if(v.da)v=!0;else{R=new lt(R,this);var V=v.listener,rt=v.ha||v.src;v.fa&&te(v),v=V.call(rt,R)}return v}function ye(v){return v=v[ve],v instanceof Kt?v:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(v){return typeof v=="function"?v:(v[me]||(v[me]=function(R){return v.handleEvent(R)}),v[me])}function _e(){M.call(this),this.i=new Kt(this),this.M=this,this.F=null}S(_e,M),_e.prototype[_t]=!0,_e.prototype.removeEventListener=function(v,R,V,rt){Zt(this,v,R,V,rt)};function Te(v,R){var V,rt=v.F;if(rt)for(V=[];rt;rt=rt.F)V.push(rt);if(v=v.M,rt=R.type||R,typeof R=="string")R=new Y(R,v);else if(R instanceof Y)R.target=R.target||v;else{var St=R;R=new Y(rt,v),q(R,St)}if(St=!0,V)for(var Pt=V.length-1;0<=Pt;Pt--){var Jt=R.g=V[Pt];St=tn(Jt,rt,!0,R)&&St}if(Jt=R.g=v,St=tn(Jt,rt,!0,R)&&St,St=tn(Jt,rt,!1,R)&&St,V)for(Pt=0;Pt<V.length;Pt++)Jt=R.g=V[Pt],St=tn(Jt,rt,!1,R)&&St}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var v=this.i,R;for(R in v.g){for(var V=v.g[R],rt=0;rt<V.length;rt++)Qt(V[rt]);delete v.g[R],v.h--}}this.F=null},_e.prototype.K=function(v,R,V,rt){return this.i.add(String(v),R,!1,V,rt)},_e.prototype.L=function(v,R,V,rt){return this.i.add(String(v),R,!0,V,rt)};function tn(v,R,V,rt){if(R=v.i.g[String(R)],!R)return!0;R=R.concat();for(var St=!0,Pt=0;Pt<R.length;++Pt){var Jt=R[Pt];if(Jt&&!Jt.da&&Jt.capture==V){var De=Jt.listener,Je=Jt.ha||Jt.src;Jt.fa&&ee(v.i,Jt),St=De.call(Je,rt)!==!1&&St}}return St&&!rt.defaultPrevented}function Ne(v,R,V){if(typeof v=="function")V&&(v=_(v,V));else if(v&&typeof v.handleEvent=="function")v=_(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:u.setTimeout(v,R||0)}function Ge(v){v.g=Ne(()=>{v.g=null,v.i&&(v.i=!1,Ge(v))},v.l);const R=v.h;v.h=null,v.m.apply(null,R)}class le extends M{constructor(R,V){super(),this.m=R,this.l=V,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(v){M.call(this),this.h=v,this.g={}}S(ui,M);var We=[];function Un(v){Z(v.g,function(R,V){this.g.hasOwnProperty(V)&&te(R)},v),v.g={}}ui.prototype.N=function(){ui.aa.N.call(this),Un(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $e=u.JSON.stringify,Ke=u.JSON.parse,As=class{stringify(v){return u.JSON.stringify(v,void 0)}parse(v){return u.JSON.parse(v,void 0)}};function ln(){}ln.prototype.h=null;function va(v){return v.h||(v.h=v.i())}function Ln(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){Y.call(this,"d")}S(dr,Y);function yn(){Y.call(this,"c")}S(yn,Y);var xe={},Qe=null;function Es(){return Qe=Qe||new _e}xe.La="serverreachability";function yi(v){Y.call(this,xe.La,v)}S(yi,Y);function ji(v){const R=Es();Te(R,new yi(R))}xe.STAT_EVENT="statevent";function Zi(v,R){Y.call(this,xe.STAT_EVENT,v),this.stat=R}S(Zi,Y);function fe(v){const R=Es();Te(R,new Zi(R,v))}xe.Ma="timingevent";function Nr(v,R){Y.call(this,xe.Ma,v),this.size=R}S(Nr,Y);function tr(v,R){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){v()},R)}function bi(){this.g=!0}bi.prototype.xa=function(){this.g=!1};function ei(v,R,V,rt,St,Pt){v.info(function(){if(v.g)if(Pt)for(var Jt="",De=Pt.split("&"),Je=0;Je<De.length;Je++){var Re=De[Je].split("=");if(1<Re.length){var An=Re[0];Re=Re[1];var Mn=An.split("_");Jt=2<=Mn.length&&Mn[1]=="type"?Jt+(An+"="+Re+"&"):Jt+(An+"=redacted&")}}else Jt=null;else Jt=Pt;return"XMLHTTP REQ ("+rt+") [attempt "+St+"]: "+R+`
`+V+`
`+Jt})}function Jn(v,R,V,rt,St,Pt,Jt){v.info(function(){return"XMLHTTP RESP ("+rt+") [ attempt "+St+"]: "+R+`
`+V+`
`+Pt+" "+Jt})}function _i(v,R,V,rt){v.info(function(){return"XMLHTTP TEXT ("+R+"): "+Fi(v,V)+(rt?" "+rt:"")})}function Ua(v,R){v.info(function(){return"TIMEOUT: "+R})}bi.prototype.info=function(){};function Fi(v,R){if(!v.g)return R;if(!R)return null;try{var V=JSON.parse(R);if(V){for(v=0;v<V.length;v++)if(Array.isArray(V[v])){var rt=V[v];if(!(2>rt.length)){var St=rt[1];if(Array.isArray(St)&&!(1>St.length)){var Pt=St[0];if(Pt!="noop"&&Pt!="stop"&&Pt!="close")for(var Jt=1;Jt<St.length;Jt++)St[Jt]=""}}}}return $e(V)}catch{return R}}var bn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ti;function er(){}S(er,ln),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Ti=new er;function wi(v,R,V,rt){this.j=v,this.i=R,this.l=V,this.R=rt||1,this.U=new ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ds}function ds(){this.i=null,this.g="",this.h=!1}var $s={},zr={};function Ts(v,R,V){v.L=1,v.v=_a(qn(R)),v.m=V,v.P=!0,Ur(v,null)}function Ur(v,R){v.F=Date.now(),ps(v),v.A=qn(v.v);var V=v.A,rt=v.R;Array.isArray(rt)||(rt=[String(rt)]),Se(V.i,"t",rt),v.C=0,V=v.j.J,v.h=new ds,v.g=G(v.j,V?R:null,!v.m),0<v.O&&(v.M=new le(_(v.Y,v,v.g),v.O)),R=v.U,V=v.g,rt=v.ca;var St="readystatechange";Array.isArray(St)||(St&&(We[0]=St.toString()),St=We);for(var Pt=0;Pt<St.length;Pt++){var Jt=dt(V,St[Pt],rt||R.handleEvent,!1,R.h||R);if(!Jt)break;R.g[Jt.key]=Jt}R=v.H?I(v.H):{},v.m?(v.u||(v.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,R)):(v.u="GET",v.g.ea(v.A,v.u,null,R)),ji(),ei(v.i,v.u,v.A,v.l,v.R,v.m)}wi.prototype.ca=function(v){v=v.target;const R=this.M;R&&ii(v)==3?R.j():this.Y(v)},wi.prototype.Y=function(v){try{if(v==this.g)t:{const Mn=ii(this.g);var R=this.g.Ba();const ia=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||$a(this.g)))){this.J||Mn!=4||R==7||(R==8||0>=ia?ji(3):ji(2)),Ks(this);var V=this.g.Z();this.X=V;e:if(qr(this)){var rt=$a(this.g);v="";var St=rt.length,Pt=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),Xs(this);var Jt="";break e}this.h.i=new u.TextDecoder}for(R=0;R<St;R++)this.h.h=!0,v+=this.h.i.decode(rt[R],{stream:!(Pt&&R==St-1)});rt.length=0,this.h.g+=v,this.C=0,Jt=this.h.g}else Jt=this.g.oa();if(this.o=V==200,Jn(this.i,this.u,this.A,this.l,this.R,Mn,V),this.o){if(this.T&&!this.K){e:{if(this.g){var De,Je=this.g;if((De=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(De)){var Re=De;break e}}Re=null}if(V=Re)_i(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,V);else{this.o=!1,this.s=3,fe(12),nr(this),Xs(this);break t}}if(this.P){V=!0;let Vi;for(;!this.J&&this.C<Jt.length;)if(Vi=ya(this,Jt),Vi==zr){Mn==4&&(this.s=4,fe(14),V=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Vi==$s){this.s=4,fe(15),_i(this.i,this.l,Jt,"[Invalid Chunk]"),V=!1;break}else _i(this.i,this.l,Vi,null),Hr(this,Vi);if(qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Jt.length!=0||this.h.h||(this.s=1,fe(16),V=!1),this.o=this.o&&V,!V)_i(this.i,this.l,Jt,"[Invalid Chunked Response]"),nr(this),Xs(this);else if(0<Jt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Jt.length),jo(An),An.M=!0,fe(11))}}else _i(this.i,this.l,Jt,null),Hr(this,Jt);Mn==4&&nr(this),this.o&&!this.J&&(Mn==4?Na(this.j,this):(this.o=!1,ps(this)))}else ea(this.g),V==400&&0<Jt.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),nr(this),Xs(this)}}}catch{}finally{}};function qr(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function ya(v,R){var V=v.C,rt=R.indexOf(`
`,V);return rt==-1?zr:(V=Number(R.substring(V,rt)),isNaN(V)?$s:(rt+=1,rt+V>R.length?zr:(R=R.slice(rt,rt+V),v.C=rt+V,R)))}wi.prototype.cancel=function(){this.J=!0,nr(this)};function ps(v){v.S=Date.now()+v.I,ni(v,v.I)}function ni(v,R){if(v.B!=null)throw Error("WatchDog timer not null");v.B=tr(_(v.ba,v),R)}function Ks(v){v.B&&(u.clearTimeout(v.B),v.B=null)}wi.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Ua(this.i,this.A),this.L!=2&&(ji(),fe(17)),nr(this),this.s=2,Xs(this)):ni(this,this.S-v)};function Xs(v){v.j.G==0||v.J||Na(v.j,v)}function nr(v){Ks(v);var R=v.M;R&&typeof R.ma=="function"&&R.ma(),v.M=null,Un(v.U),v.g&&(R=v.g,v.g=null,R.abort(),R.ma())}function Hr(v,R){try{var V=v.j;if(V.G!=0&&(V.g==v||ba(V.h,v))){if(!v.K&&ba(V.h,v)&&V.G==3){try{var rt=V.Da.g.parse(R)}catch{rt=null}if(Array.isArray(rt)&&rt.length==3){var St=rt;if(St[0]==0){t:if(!V.u){if(V.g)if(V.g.F+3e3<v.F)vs(V),Aa(V);else break t;Xa(V),fe(18)}}else V.za=St[1],0<V.za-V.T&&37500>St[2]&&V.F&&V.v==0&&!V.C&&(V.C=tr(_(V.Za,V),6e3));if(1>=qa(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else mr(V,11)}else if((v.K||V.g==v)&&vs(V),!D(R))for(St=V.Da.g.parse(R),R=0;R<St.length;R++){let Re=St[R];if(V.T=Re[0],Re=Re[1],V.G==2)if(Re[0]=="c"){V.K=Re[1],V.ia=Re[2];const An=Re[3];An!=null&&(V.la=An,V.j.info("VER="+V.la));const Mn=Re[4];Mn!=null&&(V.Aa=Mn,V.j.info("SVER="+V.Aa));const ia=Re[5];ia!=null&&typeof ia=="number"&&0<ia&&(rt=1.5*ia,V.L=rt,V.j.info("backChannelRequestTimeoutMs_="+rt)),rt=V;const Vi=v.g;if(Vi){const ra=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var Pt=rt.h;Pt.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(Pt.j=Pt.l,Pt.g=new Set,Pt.h&&(Pn(Pt,Pt.h),Pt.h=null))}if(rt.D){const Xr=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xr&&(rt.ya=Xr,un(rt.I,rt.D,Xr))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-v.F,V.j.info("Handshake RTT: "+V.R+"ms")),rt=V;var Jt=v;if(rt.qa=A(rt,rt.J?rt.ia:null,rt.W),Jt.K){Cr(rt.h,Jt);var De=Jt,Je=rt.L;Je&&(De.I=Je),De.B&&(Ks(De),ps(De)),rt.g=Jt}else Mo(rt);0<V.i.length&&Oo(V)}else Re[0]!="stop"&&Re[0]!="close"||mr(V,7);else V.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?mr(V,7):na(V):Re[0]!="noop"&&V.l&&V.l.ta(Re),V.v=0)}}ji(4)}catch{}}var Nc=class{constructor(v,R){this.g=v,this.map=R}};function No(v){this.l=v||10,u.PerformanceNavigationTiming?(v=u.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Al(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function qa(v){return v.h?1:v.g?v.g.size:0}function ba(v,R){return v.h?v.h==R:v.g?v.g.has(R):!1}function Pn(v,R){v.g?v.g.add(R):v.h=R}function Cr(v,R){v.h&&v.h==R?v.h=null:v.g&&v.g.has(R)&&v.g.delete(R)}No.prototype.cancel=function(){if(this.i=Bi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Bi(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let R=v.i;for(const V of v.g.values())R=R.concat(V.D);return R}return T(v.i)}function El(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(h(v)){for(var R=[],V=v.length,rt=0;rt<V;rt++)R.push(v[rt]);return R}R=[],V=0;for(rt in v)R[V++]=v[rt];return R}function Tl(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(h(v)||typeof v=="string"){var R=[];v=v.length;for(var V=0;V<v;V++)R.push(V);return R}R=[],V=0;for(const rt in v)R[V++]=rt;return R}}}function Co(v,R){if(v.forEach&&typeof v.forEach=="function")v.forEach(R,void 0);else if(h(v)||typeof v=="string")Array.prototype.forEach.call(v,R,void 0);else for(var V=Tl(v),rt=El(v),St=rt.length,Pt=0;Pt<St;Pt++)R.call(void 0,rt[Pt],V&&V[Pt],v)}var Rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(v,R){if(v){v=v.split("&");for(var V=0;V<v.length;V++){var rt=v[V].indexOf("="),St=null;if(0<=rt){var Pt=v[V].substring(0,rt);St=v[V].substring(rt+1)}else Pt=v[V];R(Pt,St?decodeURIComponent(St.replace(/\+/g," ")):"")}}}function ci(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof ci){this.h=v.h,Js(this,v.j),this.o=v.o,this.g=v.g,Ha(this,v.s),this.l=v.l;var R=v.i,V=new ms;V.i=R.i,R.g&&(V.g=new Map(R.g),V.h=R.h),Ga(this,V),this.m=v.m}else v&&(R=String(v).match(Rr))?(this.h=!1,Js(this,R[1]||"",!0),this.o=wa(R[2]||""),this.g=wa(R[3]||"",!0),Ha(this,R[4]),this.l=wa(R[5]||"",!0),Ga(this,R[6]||"",!0),this.m=wa(R[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}ci.prototype.toString=function(){var v=[],R=this.j;R&&v.push(pr(R,Nl,!0),":");var V=this.g;return(V||R=="file")&&(v.push("//"),(R=this.o)&&v.push(pr(R,Nl,!0),"@"),v.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&v.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&v.push("/"),v.push(pr(V,V.charAt(0)=="/"?gs:pu,!0))),(V=this.i.toString())&&v.push("?",V),(V=this.m)&&v.push("#",pr(V,Io)),v.join("")};function qn(v){return new ci(v)}function Js(v,R,V){v.j=V?wa(R,!0):R,v.j&&(v.j=v.j.replace(/:$/,""))}function Ha(v,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);v.s=R}else v.s=null}function Ga(v,R,V){R instanceof ms?(v.i=R,gu(v.i,v.h)):(V||(R=pr(R,Ro)),v.i=new ms(R,v.h))}function un(v,R,V){v.i.set(R,V)}function _a(v){return un(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function wa(v,R){return v?R?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function pr(v,R,V){return typeof v=="string"?(v=encodeURI(v).replace(R,Cc),V&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Cc(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Nl=/[#\/\?@]/g,pu=/[#\?:]/g,gs=/[#\?]/g,Ro=/[#\?@]/g,Io=/#/g;function ms(v,R){this.h=this.g=null,this.i=v||null,this.j=!!R}function gn(v){v.g||(v.g=new Map,v.h=0,v.i&&Qs(v.i,function(R,V){v.add(decodeURIComponent(R.replace(/\+/g," ")),V)}))}n=ms.prototype,n.add=function(v,R){gn(this),this.i=null,v=Ir(this,v);var V=this.g.get(v);return V||this.g.set(v,V=[]),V.push(R),this.h+=1,this};function Lo(v,R){gn(v),R=Ir(v,R),v.g.has(R)&&(v.i=null,v.h-=v.g.get(R).length,v.g.delete(R))}function Wa(v,R){return gn(v),R=Ir(v,R),v.g.has(R)}n.forEach=function(v,R){gn(this),this.g.forEach(function(V,rt){V.forEach(function(St){v.call(R,St,rt,this)},this)},this)},n.na=function(){gn(this);const v=Array.from(this.g.values()),R=Array.from(this.g.keys()),V=[];for(let rt=0;rt<R.length;rt++){const St=v[rt];for(let Pt=0;Pt<St.length;Pt++)V.push(R[rt])}return V},n.V=function(v){gn(this);let R=[];if(typeof v=="string")Wa(this,v)&&(R=R.concat(this.g.get(Ir(this,v))));else{v=Array.from(this.g.values());for(let V=0;V<v.length;V++)R=R.concat(v[V])}return R},n.set=function(v,R){return gn(this),this.i=null,v=Ir(this,v),Wa(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[R]),this.h+=1,this},n.get=function(v,R){return v?(v=this.V(v),0<v.length?String(v[0]):R):R};function Se(v,R,V){Lo(v,R),0<V.length&&(v.i=null,v.g.set(Ir(v,R),T(V)),v.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],R=Array.from(this.g.keys());for(var V=0;V<R.length;V++){var rt=R[V];const Pt=encodeURIComponent(String(rt)),Jt=this.V(rt);for(rt=0;rt<Jt.length;rt++){var St=Pt;Jt[rt]!==""&&(St+="="+encodeURIComponent(String(Jt[rt]))),v.push(St)}}return this.i=v.join("&")};function Ir(v,R){return R=String(R),v.j&&(R=R.toLowerCase()),R}function gu(v,R){R&&!v.j&&(gn(v),v.i=null,v.g.forEach(function(V,rt){var St=rt.toLowerCase();rt!=St&&(Lo(this,rt),Se(this,St,V))},v)),v.j=R}function Gr(v,R){const V=new bi;if(u.Image){const rt=new Image;rt.onload=y(ir,V,"TestLoadImage: loaded",!0,R,rt),rt.onerror=y(ir,V,"TestLoadImage: error",!1,R,rt),rt.onabort=y(ir,V,"TestLoadImage: abort",!1,R,rt),rt.ontimeout=y(ir,V,"TestLoadImage: timeout",!1,R,rt),u.setTimeout(function(){rt.ontimeout&&rt.ontimeout()},1e4),rt.src=v}else R(!1)}function Cl(v,R){const V=new bi,rt=new AbortController,St=setTimeout(()=>{rt.abort(),ir(V,"TestPingServer: timeout",!1,R)},1e4);fetch(v,{signal:rt.signal}).then(Pt=>{clearTimeout(St),Pt.ok?ir(V,"TestPingServer: ok",!0,R):ir(V,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(St),ir(V,"TestPingServer: error",!1,R)})}function ir(v,R,V,rt,St){try{St&&(St.onload=null,St.onerror=null,St.onabort=null,St.ontimeout=null),rt(V)}catch{}}function gr(){this.g=new As}function Ya(v,R,V){const rt=V||"";try{Co(v,function(St,Pt){let Jt=St;f(St)&&(Jt=$e(St)),R.push(rt+Pt+"="+encodeURIComponent(Jt))})}catch(St){throw R.push(rt+"type="+encodeURIComponent("_badmap")),St}}function Ns(v){this.l=v.Ub||null,this.j=v.eb||!1}S(Ns,ln),Ns.prototype.g=function(){return new Lr(this.l,this.j)},Ns.prototype.i=(function(v){return function(){return v}})({});function Lr(v,R){_e.call(this),this.D=v,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Lr,_e),n=Lr.prototype,n.open=function(v,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=R,this.readyState=1,Yr(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(R.body=v),(this.D||u).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var R=v.value?v.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!v.done}))&&(this.response=this.responseText+=R)}v.done?Wr(this):Yr(this),this.readyState==3&&Po(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,Wr(this))},n.Qa=function(v){this.g&&(this.response=v,Wr(this))},n.ga=function(){this.g&&Wr(this)};function Wr(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Yr(v)}n.setRequestHeader=function(v,R){this.u.append(v,R)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],R=this.h.entries();for(var V=R.next();!V.done;)V=V.value,v.push(V[0]+": "+V[1]),V=R.next();return v.join(`\r
`)};function Yr(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function $r(v){let R="";return Z(v,function(V,rt){R+=rt,R+=":",R+=V,R+=`\r
`}),R}function xa(v,R,V){t:{for(rt in V){var rt=!1;break t}rt=!0}rt||(V=$r(V),typeof v=="string"?V!=null&&encodeURIComponent(String(V)):un(v,R,V))}function Sn(v){_e.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Sn,_e);var Ni=/^https?$/i,Kr=["POST","PUT"];n=Sn.prototype,n.Ha=function(v){this.J=v},n.ea=function(v,R,V,rt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);R=R?R.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ti.g(),this.v=this.o?va(this.o):va(Ti),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(R,String(v),!0),this.B=!1}catch(Pt){Sa(this,Pt);return}if(v=V||"",V=new Map(this.headers),rt)if(Object.getPrototypeOf(rt)===Object.prototype)for(var St in rt)V.set(St,rt[St]);else if(typeof rt.keys=="function"&&typeof rt.get=="function")for(const Pt of rt.keys())V.set(Pt,rt.get(Pt));else throw Error("Unknown input type for opt_headers: "+String(rt));rt=Array.from(V.keys()).find(Pt=>Pt.toLowerCase()=="content-type"),St=u.FormData&&v instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Kr,R,void 0))||rt||St||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pt,Jt]of V)this.g.setRequestHeader(Pt,Jt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(v),this.u=!1}catch(Pt){Sa(this,Pt)}};function Sa(v,R){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=R,v.m=5,Zs(v),ta(v)}function Zs(v){v.A||(v.A=!0,Te(v,"complete"),Te(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Te(this,"complete"),Te(this,"abort"),ta(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ta(this,!0)),Sn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Rl(this):this.bb())},n.bb=function(){Rl(this)};function Rl(v){if(v.h&&typeof l<"u"&&(!v.v[1]||ii(v)!=4||v.Z()!=2)){if(v.u&&ii(v)==4)Ne(v.Ea,0,v);else if(Te(v,"readystatechange"),ii(v)==4){v.h=!1;try{const Jt=v.Z();t:switch(Jt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break t;default:R=!1}var V;if(!(V=R)){var rt;if(rt=Jt===0){var St=String(v.D).match(Rr)[1]||null;!St&&u.self&&u.self.location&&(St=u.self.location.protocol.slice(0,-1)),rt=!Ni.test(St?St.toLowerCase():"")}V=rt}if(V)Te(v,"complete"),Te(v,"success");else{v.m=6;try{var Pt=2<ii(v)?v.g.statusText:""}catch{Pt=""}v.l=Pt+" ["+v.Z()+"]",Zs(v)}}finally{ta(v)}}}}function ta(v,R){if(v.g){Pr(v);const V=v.g,rt=v.v[0]?()=>{}:null;v.g=null,v.v=null,R||Te(v,"ready");try{V.onreadystatechange=rt}catch{}}}function Pr(v){v.I&&(u.clearTimeout(v.I),v.I=null)}n.isActive=function(){return!!this.g};function ii(v){return v.g?v.g.readyState:0}n.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var R=this.g.responseText;return v&&R.indexOf(v)==0&&(R=R.substring(v.length)),Ke(R)}};function $a(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(v){const R={};v=(v.g&&2<=ii(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let rt=0;rt<v.length;rt++){if(D(v[rt]))continue;var V=L(v[rt]);const St=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Pt=R[St]||[];R[St]=Pt,Pt.push(V)}k(R,function(rt){return rt.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(v,R,V){return V&&V.internalChannelParams&&V.internalChannelParams[v]||R}function ko(v){this.Aa=0,this.i=[],this.j=new bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,v),this.cb=rr("retryDelaySeedMs",1e4,v),this.Wa=rr("forwardChannelMaxRetries",2,v),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new No(v&&v.concurrentRequestLimit),this.Da=new gr,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ko.prototype,n.la=8,n.G=1,n.connect=function(v,R,V,rt){fe(0),this.W=v,this.H=R||{},V&&rt!==void 0&&(this.H.OSID=V,this.H.OAID=rt),this.F=this.X,this.I=A(this,null,this.W),Oo(this)};function na(v){if(Ka(v),v.G==3){var R=v.U++,V=qn(v.I);if(un(V,"SID",v.K),un(V,"RID",R),un(V,"TYPE","terminate"),Ea(v,V),R=new wi(v,v.j,R),R.L=2,R.v=_a(qn(V)),V=!1,u.navigator&&u.navigator.sendBeacon)try{V=u.navigator.sendBeacon(R.v.toString(),"")}catch{}!V&&u.Image&&(new Image().src=R.v,V=!0),V||(R.g=G(R.j,null),R.g.ea(R.v)),R.F=Date.now(),ps(R)}Qa(v)}function Aa(v){v.g&&(jo(v),v.g.cancel(),v.g=null)}function Ka(v){Aa(v),v.u&&(u.clearTimeout(v.u),v.u=null),vs(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&u.clearTimeout(v.s),v.s=null)}function Oo(v){if(!Al(v.h)&&!v.s){v.s=!0;var R=v.Ga;J||pt(),et||(J(),et=!0),ut.add(R,v),v.B=0}}function Il(v,R){return qa(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=R.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=tr(_(v.Ga,v,R),Fo(v,v.B)),v.B++,!0)}n.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const St=new wi(this,this.j,v);let Pt=this.o;if(this.S&&(Pt?(Pt=I(Pt),q(Pt,this.S)):Pt=this.S),this.m!==null||this.O||(St.H=Pt,Pt=null),this.P)t:{for(var R=0,V=0;V<this.i.length;V++){e:{var rt=this.i[V];if("__data__"in rt.map&&(rt=rt.map.__data__,typeof rt=="string")){rt=rt.length;break e}rt=void 0}if(rt===void 0)break;if(R+=rt,4096<R){R=V;break t}if(R===4096||V===this.i.length-1){R=V+1;break t}}R=1e3}else R=1e3;R=Ta(this,St,R),V=qn(this.I),un(V,"RID",v),un(V,"CVER",22),this.D&&un(V,"X-HTTP-Session-Id",this.D),Ea(this,V),Pt&&(this.O?R="headers="+encodeURIComponent(String($r(Pt)))+"&"+R:this.m&&xa(V,this.m,Pt)),Pn(this.h,St),this.Ua&&un(V,"TYPE","init"),this.P?(un(V,"$req",R),un(V,"SID","null"),St.T=!0,Ts(St,V,null)):Ts(St,V,R),this.G=2}}else this.G==3&&(v?Do(this,v):this.i.length==0||Al(this.h)||Do(this))};function Do(v,R){var V;R?V=R.l:V=v.U++;const rt=qn(v.I);un(rt,"SID",v.K),un(rt,"RID",V),un(rt,"AID",v.T),Ea(v,rt),v.m&&v.o&&xa(rt,v.m,v.o),V=new wi(v,v.j,V,v.B+1),v.m===null&&(V.H=v.o),R&&(v.i=R.D.concat(v.i)),R=Ta(v,V,1e3),V.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Pn(v.h,V),Ts(V,rt,R)}function Ea(v,R){v.H&&Z(v.H,function(V,rt){un(R,rt,V)}),v.l&&Co({},function(V,rt){un(R,rt,V)})}function Ta(v,R,V){V=Math.min(v.i.length,V);var rt=v.l?_(v.l.Na,v.l,v):null;t:{var St=v.i;let Pt=-1;for(;;){const Jt=["count="+V];Pt==-1?0<V?(Pt=St[0].g,Jt.push("ofs="+Pt)):Pt=0:Jt.push("ofs="+Pt);let De=!0;for(let Je=0;Je<V;Je++){let Re=St[Je].g;const An=St[Je].map;if(Re-=Pt,0>Re)Pt=Math.max(0,St[Je].g-100),De=!1;else try{Ya(An,Jt,"req"+Re+"_")}catch{rt&&rt(An)}}if(De){rt=Jt.join("&");break t}}}return v=v.i.splice(0,V),R.D=v,rt}function Mo(v){if(!v.g&&!v.u){v.Y=1;var R=v.Fa;J||pt(),et||(J(),et=!0),ut.add(R,v),v.v=0}}function Xa(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=tr(_(v.Fa,v),Fo(v,v.v)),v.v++,!0)}n.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=tr(_(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),Aa(this),mu(this))};function jo(v){v.A!=null&&(u.clearTimeout(v.A),v.A=null)}function mu(v){v.g=new wi(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var R=qn(v.qa);un(R,"RID","rpc"),un(R,"SID",v.K),un(R,"AID",v.T),un(R,"CI",v.F?"0":"1"),!v.F&&v.ja&&un(R,"TO",v.ja),un(R,"TYPE","xmlhttp"),Ea(v,R),v.m&&v.o&&xa(R,v.m,v.o),v.L&&(v.g.I=v.L);var V=v.g;v=v.ia,V.L=1,V.v=_a(qn(R)),V.m=null,V.P=!0,Ur(V,v)}n.Za=function(){this.C!=null&&(this.C=null,Aa(this),Xa(this),fe(19))};function vs(v){v.C!=null&&(u.clearTimeout(v.C),v.C=null)}function Na(v,R){var V=null;if(v.g==R){vs(v),jo(v),v.g=null;var rt=2}else if(ba(v.h,R))V=R.D,Cr(v.h,R),rt=1;else return;if(v.G!=0){if(R.o)if(rt==1){V=R.m?R.m.length:0,R=Date.now()-R.F;var St=v.B;rt=Es(),Te(rt,new Nr(rt,V)),Oo(v)}else Mo(v);else if(St=R.s,St==3||St==0&&0<R.X||!(rt==1&&Il(v,R)||rt==2&&Xa(v)))switch(V&&0<V.length&&(R=v.h,R.i=R.i.concat(V)),St){case 1:mr(v,5);break;case 4:mr(v,10);break;case 3:mr(v,6);break;default:mr(v,2)}}}function Fo(v,R){let V=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(V*=2),V*R}function mr(v,R){if(v.j.info("Error code "+R),R==2){var V=_(v.fb,v),rt=v.Xa;const St=!rt;rt=new ci(rt||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Js(rt,"https"),_a(rt),St?Gr(rt.toString(),V):Cl(rt.toString(),V)}else fe(2);v.G=0,v.l&&v.l.sa(R),Qa(v),Ka(v)}n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function Qa(v){if(v.G=0,v.ka=[],v.l){const R=Bi(v.h);(R.length!=0||v.i.length!=0)&&(C(v.ka,R),C(v.ka,v.i),v.h.i.length=0,T(v.i),v.i.length=0),v.l.ra()}}function A(v,R,V){var rt=V instanceof ci?qn(V):new ci(V);if(rt.g!="")R&&(rt.g=R+"."+rt.g),Ha(rt,rt.s);else{var St=u.location;rt=St.protocol,R=R?R+"."+St.hostname:St.hostname,St=+St.port;var Pt=new ci(null);rt&&Js(Pt,rt),R&&(Pt.g=R),St&&Ha(Pt,St),V&&(Pt.l=V),rt=Pt}return V=v.D,R=v.ya,V&&R&&un(rt,V,R),un(rt,"VER",v.la),Ea(v,rt),rt}function G(v,R,V){if(R&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=v.Ca&&!v.pa?new Sn(new Ns({eb:V})):new Sn(v.pa),R.Ha(v.J),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ft(){}n=ft.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vt(){}vt.prototype.g=function(v,R){return new Et(v,R)};function Et(v,R){_e.call(this),this.g=new ko(R),this.l=v,this.h=R&&R.messageUrlParams||null,v=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(v?v["X-WebChannel-Content-Type"]=R.messageContentType:v={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(v?v["X-WebChannel-Client-Profile"]=R.va:v={"X-WebChannel-Client-Profile":R.va}),this.g.S=v,(v=R&&R.Sb)&&!D(v)&&(this.g.m=v),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!D(R)&&(this.g.D=R,v=this.h,v!==null&&R in v&&(v=this.h,R in v&&delete v[R])),this.j=new se(this)}S(Et,_e),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){na(this.g)},Et.prototype.o=function(v){var R=this.g;if(typeof v=="string"){var V={};V.__data__=v,v=V}else this.u&&(V={},V.__data__=$e(v),v=V);R.i.push(new Nc(R.Ya++,v)),R.G==3&&Oo(R)},Et.prototype.N=function(){this.g.l=null,delete this.j,na(this.g),delete this.g,Et.aa.N.call(this)};function Bt(v){dr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var R=v.__sm__;if(R){t:{for(const V in R){v=V;break t}v=void 0}(this.i=v)&&(v=this.i,R=R!==null&&v in R?R[v]:void 0),this.data=R}else this.data=v}S(Bt,dr);function Xt(){yn.call(this),this.status=1}S(Xt,yn);function se(v){this.g=v}S(se,ft),se.prototype.ua=function(){Te(this.g,"a")},se.prototype.ta=function(v){Te(this.g,new Bt(v))},se.prototype.sa=function(v){Te(this.g,new Xt)},se.prototype.ra=function(){Te(this.g,"b")},vt.prototype.createWebChannel=vt.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,JA=function(){return new vt},QA=function(){return Es()},XA=xe,D2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bn.NO_ERROR=0,bn.TIMEOUT=8,bn.HTTP_ERROR=6,tm=bn,Dn.COMPLETE="complete",KA=Dn,Ln.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",_e.prototype.listen=_e.prototype.K,kd=Ln,Sn.prototype.listenOnce=Sn.prototype.L,Sn.prototype.getLastError=Sn.prototype.Ka,Sn.prototype.getLastErrorCode=Sn.prototype.Ba,Sn.prototype.getStatus=Sn.prototype.Z,Sn.prototype.getResponseJson=Sn.prototype.Oa,Sn.prototype.getResponseText=Sn.prototype.oa,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Ha,$A=Sn}).apply(typeof Eg<"u"?Eg:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",$_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Nv("@firebase/firestore");function of(){return hh.logLevel}function he(n,...t){if(hh.logLevel<=dn.DEBUG){const e=t.map(zv);hh.debug(`Firestore (${Ff}): ${n}`,...e)}}function uu(n,...t){if(hh.logLevel<=dn.ERROR){const e=t.map(zv);hh.error(`Firestore (${Ff}): ${n}`,...e)}}function vc(n,...t){if(hh.logLevel<=dn.WARN){const e=t.map(zv);hh.warn(`Firestore (${Ff}): ${n}`,...e)}}function zv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,ZA(n,i,e)}function ZA(n,t,e){let i=`FIRESTORE (${Ff}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw uu(i),new Error(i)}function On(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||ZA(t,r,i)}function He(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends du{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(os.UNAUTHENTICATED)))}shutdown(){}}class BL{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class VL{constructor(t){this.t=t,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){On(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let a=new dc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new dc,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const h=a;t.enqueueRetryable((async()=>{await h.promise,await r(this.currentUser)}))},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new dc)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(On(typeof i.accessToken=="string",31837,{l:i}),new t4(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return On(t===null||typeof t=="string",2055,{h:t}),new os(t)}}class zL{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=os.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UL{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new zL(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(os.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qL{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vo(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){On(this.o===void 0,3512);const i=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>i(a)))};const r=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(On(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new K_(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=HL(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%62))}return i}}function Ze(n,t){return n<t?-1:n>t?1:0}function M2(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Ze(i,r);{const a=e4(),l=GL(a.encode(X_(n,e)),a.encode(X_(t,e)));return l!==0?l:Ze(i,r)}}e+=i>65535?2:1}return Ze(n.length,t.length)}function X_(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function GL(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ze(n[e],t[e]);return Ze(n.length,t.length)}function Af(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class ul{constructor(t,e,i){e===void 0?e=0:e>t.length&&ke(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&ke(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ul.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ul?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=ul.compareSegments(t.get(r),e.get(r));if(a!==0)return a}return Ze(t.length,e.length)}static compareSegments(t,e){const i=ul.isNumericId(t),r=ul.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?ul.extractNumericId(t).compare(ul.extractNumericId(e)):M2(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fc.fromString(t.substring(4,t.length-2))}}class ti extends ul{construct(t,e,i){return new ti(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ce(Wt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ti(e)}static emptyPath(){return new ti([])}}const WL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends ul{construct(t,e,i){return new Br(t,e,i)}static isValidIdentifier(t){return WL.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Br([Q_])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(i.length===0)throw new ce(Wt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new ce(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ce(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new ce(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Br(e)}static emptyPath(){return new Br([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.path=t}static fromPath(t){return new Ee(ti.fromString(t))}static fromName(t){return new Ee(ti.fromString(t).popFirst(5))}static empty(){return new Ee(ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ti.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ti.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ee(new ti(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n,t,e){if(!e)throw new ce(Wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function YL(n,t,e,i){if(t===!0&&i===!0)throw new ce(Wt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function J_(n){if(!Ee.isDocumentKey(n))throw new ce(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Z_(n){if(Ee.isDocumentKey(n))throw new ce(Wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function i4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function Sm(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ce(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qm(n);throw new ce(Wt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,t){const e={typeString:n};return t&&(e.value=t),e}function Np(n,t){if(!i4(n))throw new ce(Wt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${i}' field to equal '${a.value}'`;break}}if(e)throw new ce(Wt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=-62135596800,ew=1e6;class oi{static now(){return oi.fromMillis(Date.now())}static fromDate(t){return oi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*ew);return new oi(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ce(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ce(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<tw)throw new ce(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ew}_compareTo(t){return this.seconds===t.seconds?Ze(this.nanoseconds,t.nanoseconds):Ze(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Np(t,oi._jsonSchema))return new oi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oi._jsonSchemaVersion="firestore/timestamp/1.0",oi._jsonSchema={type:Ji("string",oi._jsonSchemaVersion),seconds:Ji("number"),nanoseconds:Ji("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(t){return new ze(t)}static min(){return new ze(new oi(0,0))}static max(){return new ze(new oi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=-1;function $L(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ze.fromTimestamp(i===1e9?new oi(e+1,0):new oi(e,i));return new yc(r,Ee.empty(),t)}function KL(n){return new yc(n.readTime,n.key,ip)}class yc{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new yc(ze.min(),Ee.empty(),ip)}static max(){return new yc(ze.max(),Ee.empty(),ip)}}function XL(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ee.comparator(n.documentKey,t.documentKey),e!==0?e:Ze(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(n){if(n.code!==Wt.FAILED_PRECONDITION||n.message!==QL)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Yt(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Yt?e:Yt.resolve(e)}catch(e){return Yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Yt.reject(e)}static resolve(t){return new Yt(((e,i)=>{e(t)}))}static reject(t){return new Yt(((e,i)=>{i(t)}))}static waitFor(t){return new Yt(((e,i)=>{let r=0,a=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++a,l&&a===r&&e()}),(h=>i(h)))})),l=!0,a===r&&e()}))}static or(t){let e=Yt.resolve(!1);for(const i of t)e=e.next((r=>r?Yt.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,a)=>{i.push(e.call(this,r,a))})),this.waitFor(i)}static mapArray(t,e){return new Yt(((i,r)=>{const a=t.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;e(t[f]).next((p=>{l[f]=p,++u,u===a&&i(l)}),(p=>r(p)))}}))}static doWhile(t,e){return new Yt(((i,r)=>{const a=()=>{t()===!0?e().next((()=>{a()}),r):i()};a()}))}}function ZL(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Vf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Jm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-1;function Zm(n){return n==null}function Am(n){return n===0&&1/n==-1/0}function t8(n){return typeof n=="number"&&Number.isInteger(n)&&!Am(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="";function e8(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=nw(t)),t=n8(n.get(e),t);return nw(t)}function n8(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="";break;case r4:e+="";break;default:e+=a}}return e}function nw(n){return n+r4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function gh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function s4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,e){this.comparator=t,this.root=e||Fr.EMPTY}insert(t,e){return new Ai(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(t){return new Ai(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tg(this.root,t,this.comparator,!0)}}class Tg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fr{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=i??Fr.RED,this.left=r??Fr.EMPTY,this.right=a??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new Fr(t??this.key,e??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):a===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ke(27949);return t+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1;Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(t,e,i,r,a){return this}insert(t,e,i){return new Fr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.comparator=t,this.data=new Ai(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new rw(this.data.getIterator())}getIteratorFrom(t){return new rw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof fr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new fr(this.comparator);return e.data=t,e}}class rw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.fields=t,t.sort(Br.comparator)}static empty(){return new bo([])}unionWith(t){let e=new fr(Br.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new bo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Af(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new a4("Invalid base64 string: "+a):a}})(t);return new Vr(e)}static fromUint8Array(t){const e=(function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a})(t);return new Vr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ze(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const i8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bc(n){if(On(!!n,39018),typeof n=="string"){let t=0;const e=i8.exec(n);if(On(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pi(n.seconds),nanos:Pi(n.nanos)}}function Pi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _c(n){return typeof n=="string"?Vr.fromBase64String(n):Vr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="server_timestamp",l4="__type__",u4="__previous_value__",c4="__local_write_time__";function Hv(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[l4])===null||e===void 0?void 0:e.stringValue)===o4}function t0(n){const t=n.mapValue.fields[u4];return Hv(t)?t0(t):t}function rp(n){const t=bc(n.mapValue.fields[c4].timestampValue);return new oi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(t,e,i,r,a,l,u,h,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const Em="(default)";class sp{constructor(t,e){this.projectId=t,this.database=e||Em}static empty(){return new sp("","")}get isDefaultDatabase(){return this.database===Em}isEqual(t){return t instanceof sp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="__type__",s8="__max__",Ng={mapValue:{}},f4="__vector__",Tm="value";function wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hv(n)?4:o8(n)?9007199254740991:a8(n)?10:11:ke(28295,{value:n})}function wl(n,t){if(n===t)return!0;const e=wc(n);if(e!==wc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return rp(n).isEqual(rp(t));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=bc(r.timestampValue),u=bc(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,a){return _c(r.bytesValue).isEqual(_c(a.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,a){return Pi(r.geoPointValue.latitude)===Pi(a.geoPointValue.latitude)&&Pi(r.geoPointValue.longitude)===Pi(a.geoPointValue.longitude)})(n,t);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return Pi(r.integerValue)===Pi(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=Pi(r.doubleValue),u=Pi(a.doubleValue);return l===u?Am(l)===Am(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return Af(n.arrayValue.values||[],t.arrayValue.values||[],wl);case 10:case 11:return(function(r,a){const l=r.mapValue.fields||{},u=a.mapValue.fields||{};if(iw(l)!==iw(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!wl(l[h],u[h])))return!1;return!0})(n,t);default:return ke(52216,{left:n})}}function ap(n,t){return(n.values||[]).find((e=>wl(e,t)))!==void 0}function Ef(n,t){if(n===t)return 0;const e=wc(n),i=wc(t);if(e!==i)return Ze(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,t.booleanValue);case 2:return(function(a,l){const u=Pi(a.integerValue||a.doubleValue),h=Pi(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,t);case 3:return sw(n.timestampValue,t.timestampValue);case 4:return sw(rp(n),rp(t));case 5:return M2(n.stringValue,t.stringValue);case 6:return(function(a,l){const u=_c(a),h=_c(l);return u.compareTo(h)})(n.bytesValue,t.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=Ze(u[f],h[f]);if(p!==0)return p}return Ze(u.length,h.length)})(n.referenceValue,t.referenceValue);case 8:return(function(a,l){const u=Ze(Pi(a.latitude),Pi(l.latitude));return u!==0?u:Ze(Pi(a.longitude),Pi(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return aw(n.arrayValue,t.arrayValue);case 10:return(function(a,l){var u,h,f,p;const m=a.fields||{},_=l.fields||{},y=(u=m[Tm])===null||u===void 0?void 0:u.arrayValue,S=(h=_[Tm])===null||h===void 0?void 0:h.arrayValue,T=Ze(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return T!==0?T:aw(y,S)})(n.mapValue,t.mapValue);case 11:return(function(a,l){if(a===Ng.mapValue&&l===Ng.mapValue)return 0;if(a===Ng.mapValue)return 1;if(l===Ng.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let m=0;m<h.length&&m<p.length;++m){const _=M2(h[m],p[m]);if(_!==0)return _;const y=Ef(u[h[m]],f[p[m]]);if(y!==0)return y}return Ze(h.length,p.length)})(n.mapValue,t.mapValue);default:throw ke(23264,{le:e})}}function sw(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ze(n,t);const e=bc(n),i=bc(t),r=Ze(e.seconds,i.seconds);return r!==0?r:Ze(e.nanos,i.nanos)}function aw(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const a=Ef(e[r],i[r]);if(a)return a}return Ze(e.length,i.length)}function Tf(n){return j2(n)}function j2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=bc(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return _c(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Ee.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const a of e.values||[])r?r=!1:i+=",",i+=j2(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${j2(e.fields[l])}`;return r+"}"})(n.mapValue):ke(61005,{value:n})}function em(n){switch(wc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=t0(n);return t?16+em(t):16;case 5:return 2*n.stringValue.length;case 6:return _c(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+em(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return gh(i.fields,((a,l)=>{r+=a.length+em(l)})),r})(n.mapValue);default:throw ke(13486,{value:n})}}function ow(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function F2(n){return!!n&&"integerValue"in n}function Gv(n){return!!n&&"arrayValue"in n}function lw(n){return!!n&&"nullValue"in n}function uw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nm(n){return!!n&&"mapValue"in n}function a8(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[h4])===null||e===void 0?void 0:e.stringValue)===f4}function zd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return gh(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=zd(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=zd(n.arrayValue.values[e]);return t}return Object.assign({},n)}function o8(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===s8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.value=t}static empty(){return new ja({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!nm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=zd(e)}setAll(t){let e=Br.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=zd(l):r.push(u.lastSegment())}));const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());nm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return wl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];nm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){gh(e,((r,a)=>t[r]=a));for(const r of i)delete t[r]}clone(){return new ja(zd(this.value))}}function d4(n){const t=[];return gh(n.fields,((e,i)=>{const r=new Br([e]);if(nm(i)){const a=d4(i.mapValue).fields;if(a.length===0)t.push(r);else for(const l of a)t.push(r.child(l))}else t.push(r)})),new bo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,e,i,r,a,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(t){return new ls(t,0,ze.min(),ze.min(),ze.min(),ja.empty(),0)}static newFoundDocument(t,e,i,r){return new ls(t,1,e,ze.min(),i,r,0)}static newNoDocument(t,e){return new ls(t,2,e,ze.min(),ze.min(),ja.empty(),0)}static newUnknownDocument(t,e){return new ls(t,3,e,ze.min(),ze.min(),ja.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ja.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ja.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ls&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ls(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,e){this.position=t,this.inclusive=e}}function cw(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],l=n.position[r];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(l.referenceValue),e.key):i=Ef(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function hw(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!wl(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,e="asc"){this.field=t,this.dir=e}}function l8(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{}class Xi extends p4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new c8(t,e,i):e==="array-contains"?new d8(t,i):e==="in"?new p8(t,i):e==="not-in"?new g8(t,i):e==="array-contains-any"?new m8(t,i):new Xi(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new h8(t,i):new f8(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ef(e,this.value)):e!==null&&wc(this.value)===wc(e)&&this.matchesComparison(Ef(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class So extends p4{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new So(t,e)}matches(t){return g4(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function g4(n){return n.op==="and"}function m4(n){return u8(n)&&g4(n)}function u8(n){for(const t of n.filters)if(t instanceof So)return!1;return!0}function B2(n){if(n instanceof Xi)return n.field.canonicalString()+n.op.toString()+Tf(n.value);if(m4(n))return n.filters.map((t=>B2(t))).join(",");{const t=n.filters.map((e=>B2(e))).join(",");return`${n.op}(${t})`}}function v4(n,t){return n instanceof Xi?(function(i,r){return r instanceof Xi&&i.op===r.op&&i.field.isEqual(r.field)&&wl(i.value,r.value)})(n,t):n instanceof So?(function(i,r){return r instanceof So&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,l,u)=>a&&v4(l,r.filters[u])),!0):!1})(n,t):void ke(19439)}function y4(n){return n instanceof Xi?(function(e){return`${e.field.canonicalString()} ${e.op} ${Tf(e.value)}`})(n):n instanceof So?(function(e){return e.op.toString()+" {"+e.getFilters().map(y4).join(" ,")+"}"})(n):"Filter"}class c8 extends Xi{constructor(t,e,i){super(t,e,i),this.key=Ee.fromName(i.referenceValue)}matches(t){const e=Ee.comparator(t.key,this.key);return this.matchesComparison(e)}}class h8 extends Xi{constructor(t,e){super(t,"in",e),this.keys=b4("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class f8 extends Xi{constructor(t,e){super(t,"not-in",e),this.keys=b4("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function b4(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map((i=>Ee.fromName(i.referenceValue)))}class d8 extends Xi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gv(e)&&ap(e.arrayValue,this.value)}}class p8 extends Xi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ap(this.value.arrayValue,e)}}class g8 extends Xi{constructor(t,e){super(t,"not-in",e)}matches(t){if(ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ap(this.value.arrayValue,e)}}class m8 extends Xi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gv(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>ap(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(t,e=null,i=[],r=[],a=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this.Pe=null}}function fw(n,t=null,e=[],i=[],r=null,a=null,l=null){return new v8(n,t,e,i,r,a,l)}function Wv(n){const t=He(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>B2(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Zm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Tf(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Tf(i))).join(",")),t.Pe=e}return t.Pe}function Yv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!l8(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!v4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!hw(n.startAt,t.startAt)&&hw(n.endAt,t.endAt)}function V2(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,e=null,i=[],r=[],a=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function y8(n,t,e,i,r,a,l,u){return new zf(n,t,e,i,r,a,l,u)}function _4(n){return new zf(n)}function dw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function w4(n){return n.collectionGroup!==null}function Ud(n){const t=He(n);if(t.Te===null){t.Te=[];const e=new Set;for(const a of t.explicitOrderBy)t.Te.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new fr(Br.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(t).forEach((a=>{e.has(a.canonicalString())||a.isKeyField()||t.Te.push(new op(a,i))})),e.has(Br.keyField().canonicalString())||t.Te.push(new op(Br.keyField(),i))}return t.Te}function pl(n){const t=He(n);return t.Ie||(t.Ie=b8(t,Ud(n))),t.Ie}function b8(n,t){if(n.limitType==="F")return fw(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new op(r.field,a)}));const e=n.endAt?new Nm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Nm(n.startAt.position,n.startAt.inclusive):null;return fw(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function z2(n,t){const e=n.filters.concat([t]);return new zf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function U2(n,t,e){return new zf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function e0(n,t){return Yv(pl(n),pl(t))&&n.limitType===t.limitType}function x4(n){return`${Wv(pl(n))}|lt:${n.limitType}`}function lf(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>y4(r))).join(", ")}]`),Zm(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Tf(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Tf(r))).join(",")),`Target(${i})`})(pl(n))}; limitType=${n.limitType})`}function n0(n,t){return t.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,t)&&(function(i,r){for(const a of Ud(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,h){const f=cw(l,u,h);return l.inclusive?f<=0:f<0})(i.startAt,Ud(i),r)||i.endAt&&!(function(l,u,h){const f=cw(l,u,h);return l.inclusive?f>=0:f>0})(i.endAt,Ud(i),r))})(n,t)}function _8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function S4(n){return(t,e)=>{let i=!1;for(const r of Ud(n)){const a=w8(r,t,e);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function w8(n,t,e){const i=n.field.isKeyField()?Ee.comparator(t.key,e.key):(function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Ef(h,f):ke(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){gh(this.inner,((e,i)=>{for(const[r,a]of i)t(r,a)}))}isEmpty(){return s4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=new Ai(Ee.comparator);function cu(){return x8}const A4=new Ai(Ee.comparator);function Od(...n){let t=A4;for(const e of n)t=t.insert(e.key,e);return t}function E4(n){let t=A4;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Qc(){return qd()}function T4(){return qd()}function qd(){return new mh((n=>n.toString()),((n,t)=>n.isEqual(t)))}const S8=new Ai(Ee.comparator),A8=new fr(Ee.comparator);function pn(...n){let t=A8;for(const e of n)t=t.add(e);return t}const E8=new fr(Ze);function T8(){return E8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Am(t)?"-0":t}}function N4(n){return{integerValue:""+n}}function N8(n,t){return t8(t)?N4(t):$v(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this._=void 0}}function C8(n,t,e){return n instanceof lp?(function(r,a){const l={fields:{[l4]:{stringValue:o4},[c4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Hv(a)&&(a=t0(a)),a&&(l.fields[u4]=a),{mapValue:l}})(e,t):n instanceof up?R4(n,t):n instanceof cp?I4(n,t):(function(r,a){const l=C4(r,a),u=pw(l)+pw(r.Ee);return F2(l)&&F2(r.Ee)?N4(u):$v(r.serializer,u)})(n,t)}function R8(n,t,e){return n instanceof up?R4(n,t):n instanceof cp?I4(n,t):e}function C4(n,t){return n instanceof Cm?(function(i){return F2(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(t)?t:{integerValue:0}:null}class lp extends i0{}class up extends i0{constructor(t){super(),this.elements=t}}function R4(n,t){const e=L4(t);for(const i of n.elements)e.some((r=>wl(r,i)))||e.push(i);return{arrayValue:{values:e}}}class cp extends i0{constructor(t){super(),this.elements=t}}function I4(n,t){let e=L4(t);for(const i of n.elements)e=e.filter((r=>!wl(r,i)));return{arrayValue:{values:e}}}class Cm extends i0{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function pw(n){return Pi(n.integerValue||n.doubleValue)}function L4(n){return Gv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(t,e){this.field=t,this.transform=e}}function L8(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof up&&r instanceof up||i instanceof cp&&r instanceof cp?Af(i.elements,r.elements,wl):i instanceof Cm&&r instanceof Cm?wl(i.Ee,r.Ee):i instanceof lp&&r instanceof lp})(n.transform,t.transform)}class P8{constructor(t,e){this.version=t,this.transformResults=e}}class su{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new su}static exists(t){return new su(void 0,t)}static updateTime(t){return new su(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function im(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class r0{}function P4(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new O4(n.key,su.none()):new Cp(n.key,n.data,su.none());{const e=n.data,i=ja.empty();let r=new fr(Br.comparator);for(let a of t.fields)if(!r.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new vh(n.key,i,new bo(r.toArray()),su.none())}}function k8(n,t,e){n instanceof Cp?(function(r,a,l){const u=r.value.clone(),h=mw(r.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof vh?(function(r,a,l){if(!im(r.precondition,a))return void a.convertToUnknownDocument(l.version);const u=mw(r.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(k4(r)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,t,e):(function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function Hd(n,t,e,i){return n instanceof Cp?(function(a,l,u,h){if(!im(a.precondition,l))return u;const f=a.value.clone(),p=vw(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,t,e,i):n instanceof vh?(function(a,l,u,h){if(!im(a.precondition,l))return u;const f=vw(a.fieldTransforms,h,l),p=l.data;return p.setAll(k4(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(n,t,e,i):(function(a,l,u){return im(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function O8(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=C4(i.transform,r||null);a!=null&&(e===null&&(e=ja.empty()),e.set(i.field,a))}return e||null}function gw(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Af(i,r,((a,l)=>L8(a,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Cp extends r0{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vh extends r0{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function k4(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function mw(n,t,e){const i=new Map;On(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const a=n[r],l=a.transform,u=t.data.field(a.field);i.set(a.field,R8(l,u,e[r]))}return i}function vw(n,t,e){const i=new Map;for(const r of n){const a=r.transform,l=e.data.field(r.field);i.set(r.field,C8(a,l,t))}return i}class O4 extends r0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D8 extends r0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&k8(a,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Hd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Hd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=T4();return this.mutations.forEach((r=>{const a=t.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=e.has(r.key)?null:u;const h=P4(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(ze.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),pn())}isEqual(t){return this.batchId===t.batchId&&Af(this.mutations,t.mutations,((e,i)=>gw(e,i)))&&Af(this.baseMutations,t.baseMutations,((e,i)=>gw(e,i)))}}class Kv{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){On(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=(function(){return S8})();const a=t.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new Kv(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki,xn;function B8(n){switch(n){case Wt.OK:return ke(64938);case Wt.CANCELLED:case Wt.UNKNOWN:case Wt.DEADLINE_EXCEEDED:case Wt.RESOURCE_EXHAUSTED:case Wt.INTERNAL:case Wt.UNAVAILABLE:case Wt.UNAUTHENTICATED:return!1;case Wt.INVALID_ARGUMENT:case Wt.NOT_FOUND:case Wt.ALREADY_EXISTS:case Wt.PERMISSION_DENIED:case Wt.FAILED_PRECONDITION:case Wt.ABORTED:case Wt.OUT_OF_RANGE:case Wt.UNIMPLEMENTED:case Wt.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function D4(n){if(n===void 0)return uu("GRPC error has no .code"),Wt.UNKNOWN;switch(n){case Ki.OK:return Wt.OK;case Ki.CANCELLED:return Wt.CANCELLED;case Ki.UNKNOWN:return Wt.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return Wt.INTERNAL;case Ki.UNAVAILABLE:return Wt.UNAVAILABLE;case Ki.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case Ki.NOT_FOUND:return Wt.NOT_FOUND;case Ki.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case Ki.ABORTED:return Wt.ABORTED;case Ki.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case Ki.DATA_LOSS:return Wt.DATA_LOSS;default:return ke(39323,{code:n})}}(xn=Ki||(Ki={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=new fc([4294967295,4294967295],0);function yw(n){const t=e4().encode(n),e=new YA;return e.update(t),new Uint8Array(e.digest())}function bw(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new fc([e,i],0),new fc([r,a],0)]}class Xv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Dd(`Invalid padding: ${e}`);if(i<0)throw new Dd(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Dd(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Dd(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=fc.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(fc.fromNumber(i)));return r.compare(V8)===1&&(r=new fc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=yw(t),[i,r]=bw(e);for(let a=0;a<this.hashCount;a++){const l=this.pe(i,r,a);if(!this.ye(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new Xv(a,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.fe===0)return;const e=yw(t),[i,r]=bw(e);for(let a=0;a<this.hashCount;a++){const l=this.pe(i,r,a);this.we(l)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Rp.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new s0(ze.min(),r,new Ai(Ze),cu(),pn())}}class Rp{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Rp(i,e,pn(),pn(),pn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class M4{constructor(t,e){this.targetId=t,this.De=e}}class j4{constructor(t,e,i=Vr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class _w{constructor(){this.ve=0,this.Ce=ww(),this.Fe=Vr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=pn(),e=pn(),i=pn();return this.Ce.forEach(((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ke(38017,{changeType:a})}})),new Rp(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=ww()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,On(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class z8{constructor(t){this.We=t,this.Ge=new Map,this.ze=cu(),this.je=Cg(),this.Je=Cg(),this.He=new Ai(Ze)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,(e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:ke(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach(((i,r)=>{this.nt(r)&&e(r)}))}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const a=r.target;if(V2(a))if(i===0){const l=new Ee(a.path);this.Xe(e,l,ls.newNoDocument(l,ze.min()))}else On(i===1,20013,{expectedCount:i});else{const l=this.ot(e);if(l!==i){const u=this._t(t),h=u?this.ut(u,t,l):1;if(h!==0){this.rt(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,f)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=e;let l,u;try{l=_c(i).toUint8Array()}catch(h){if(h instanceof a4)return vc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Xv(l,r,a)}catch(h){return vc(h instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.fe===0?null:u}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach((a=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(u)||(this.Xe(e,a,null),r++)})),r}Pt(t){const e=new Map;this.Ge.forEach(((a,l)=>{const u=this.st(l);if(u){if(a.current&&V2(u.target)){const h=new Ee(u.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,ls.newNoDocument(h,t))}a.Ne&&(e.set(l,a.Le()),a.ke())}}));let i=pn();this.Je.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const f=this.st(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(a))})),this.ze.forEach(((a,l)=>l.setReadTime(t)));const r=new s0(t,e,this.He,this.ze,i);return this.ze=cu(),this.je=Cg(),this.Je=Cg(),this.He=new Ai(Ze),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new _w,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new fr(Ze),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new fr(Ze),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||he("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new _w),this.We.getRemoteKeysForTarget(t).forEach((e=>{this.Xe(t,e,null)}))}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function Cg(){return new Ai(Ee.comparator)}function ww(){return new Ai(Ee.comparator)}const U8={asc:"ASCENDING",desc:"DESCENDING"},q8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H8={and:"AND",or:"OR"};class G8{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function q2(n,t){return n.useProto3Json||Zm(t)?t:{value:t}}function Rm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function F4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function W8(n,t){return Rm(n,t.toTimestamp())}function gl(n){return On(!!n,49232),ze.fromTimestamp((function(e){const i=bc(e);return new oi(i.seconds,i.nanos)})(n))}function Qv(n,t){return H2(n,t).canonicalString()}function H2(n,t){const e=(function(r){return new ti(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function B4(n){const t=ti.fromString(n);return On(H4(t),10190,{key:t.toString()}),t}function G2(n,t){return Qv(n.databaseId,t.path)}function Q1(n,t){const e=B4(t);if(e.get(1)!==n.databaseId.projectId)throw new ce(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ce(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ee(z4(e))}function V4(n,t){return Qv(n.databaseId,t)}function Y8(n){const t=B4(n);return t.length===4?ti.emptyPath():z4(t)}function W2(n){return new ti(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z4(n){return On(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xw(n,t,e){return{name:G2(n,t),fields:e.value.mapValue.fields}}function $8(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ke(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=(function(f,p){return f.useProto3Json?(On(p===void 0||typeof p=="string",58123),Vr.fromBase64String(p||"")):(On(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Vr.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?Wt.UNKNOWN:D4(f.code);return new ce(p,f.message||"")})(l);e=new j4(i,r,a,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Q1(n,i.document.name),a=gl(i.document.updateTime),l=i.document.createTime?gl(i.document.createTime):ze.min(),u=new ja({mapValue:{fields:i.document.fields}}),h=ls.newFoundDocument(r,a,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new rm(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Q1(n,i.document),a=i.readTime?gl(i.readTime):ze.min(),l=ls.newNoDocument(r,a),u=i.removedTargetIds||[];e=new rm([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Q1(n,i.document),a=i.removedTargetIds||[];e=new rm([],a,r,null)}else{if(!("filter"in t))return ke(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new F8(r,a),u=i.targetId;e=new M4(u,l)}}return e}function K8(n,t){let e;if(t instanceof Cp)e={update:xw(n,t.key,t.value)};else if(t instanceof O4)e={delete:G2(n,t.key)};else if(t instanceof vh)e={update:xw(n,t.key,t.data),updateMask:rP(t.fieldMask)};else{if(!(t instanceof D8))return ke(16599,{Rt:t.type});e={verify:G2(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(a,l){const u=l.transform;if(u instanceof lp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof up)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cm)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw ke(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:W8(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)})(n,t.precondition)),e}function X8(n,t){return n&&n.length>0?(On(t!==void 0,14353),n.map((e=>(function(r,a){let l=r.updateTime?gl(r.updateTime):gl(a);return l.isEqual(ze.min())&&(l=gl(a)),new P8(l,r.transformResults||[])})(e,t)))):[]}function Q8(n,t){return{documents:[V4(n,t.path)]}}function J8(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=V4(n,r);const a=(function(f){if(f.length!==0)return q4(So.create(f,"and"))})(t.filters);a&&(e.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((p=>(function(_){return{field:uf(_.field),direction:eP(_.dir)}})(p)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=q2(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{Vt:e,parent:r}}function Z8(n){let t=Y8(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){On(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let a=[];e.where&&(a=(function(m){const _=U4(m);return _ instanceof So&&m4(_)?_.getFilters():[_]})(e.where));let l=[];e.orderBy&&(l=(function(m){return m.map((_=>(function(S){return new op(cf(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(_)))})(e.orderBy));let u=null;e.limit&&(u=(function(m){let _;return _=typeof m=="object"?m.value:m,Zm(_)?null:_})(e.limit));let h=null;e.startAt&&(h=(function(m){const _=!!m.before,y=m.values||[];return new Nm(y,_)})(e.startAt));let f=null;return e.endAt&&(f=(function(m){const _=!m.before,y=m.values||[];return new Nm(y,_)})(e.endAt)),y8(t,r,l,a,u,"F",h,f)}function tP(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function U4(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=cf(e.unaryFilter.field);return Xi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=cf(e.unaryFilter.field);return Xi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=cf(e.unaryFilter.field);return Xi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=cf(e.unaryFilter.field);return Xi.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Xi.create(cf(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return So.create(e.compositeFilter.filters.map((i=>U4(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(e.compositeFilter.op))})(n):ke(30097,{filter:n})}function eP(n){return U8[n]}function nP(n){return q8[n]}function iP(n){return H8[n]}function uf(n){return{fieldPath:n.canonicalString()}}function cf(n){return Br.fromServerFormat(n.fieldPath)}function q4(n){return n instanceof Xi?(function(e){if(e.op==="=="){if(uw(e.value))return{unaryFilter:{field:uf(e.field),op:"IS_NAN"}};if(lw(e.value))return{unaryFilter:{field:uf(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(uw(e.value))return{unaryFilter:{field:uf(e.field),op:"IS_NOT_NAN"}};if(lw(e.value))return{unaryFilter:{field:uf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uf(e.field),op:nP(e.op),value:e.value}}})(n):n instanceof So?(function(e){const i=e.getFilters().map((r=>q4(r)));return i.length===1?i[0]:{compositeFilter:{op:iP(e.op),filters:i}}})(n):ke(54877,{filter:n})}function rP(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function H4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,e,i,r,a=ze.min(),l=ze.min(),u=Vr.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new nc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t){this.gt=t}}function aP(n){const t=Z8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?U2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.Dn=new lP}addToCollectionParentIndex(t,e){return this.Dn.add(e),Yt.resolve()}getCollectionParents(t,e){return Yt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return Yt.resolve()}deleteFieldIndex(t,e){return Yt.resolve()}deleteAllFieldIndexes(t){return Yt.resolve()}createTargetIndexes(t,e){return Yt.resolve()}getDocumentsMatchingTarget(t,e){return Yt.resolve(null)}getIndexType(t,e){return Yt.resolve(0)}getFieldIndexes(t,e){return Yt.resolve([])}getNextCollectionGroupToUpdate(t){return Yt.resolve(null)}getMinOffset(t,e){return Yt.resolve(yc.min())}getMinOffsetFromCollectionGroup(t,e){return Yt.resolve(yc.min())}updateCollectionGroup(t,e,i){return Yt.resolve()}updateIndexEntries(t,e){return Yt.resolve()}}class lP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new fr(ti.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new fr(ti.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G4=41943040;class Hs{static withCacheSize(t){return new Hs(t,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs.DEFAULT_COLLECTION_PERCENTILE=10,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hs.DEFAULT=new Hs(G4,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hs.DISABLED=new Hs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Nf(0)}static ur(){return new Nf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="LruGarbageCollector",uP=1048576;function Ew([n,t],[e,i]){const r=Ze(n,e);return r===0?Ze(t,i):r}class cP{constructor(t){this.Tr=t,this.buffer=new fr(Ew),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Ew(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class hP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){he(Aw,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vf(e)?he(Aw,"Ignoring IndexedDB error during garbage collection: ",e):await Bf(e)}await this.Rr(3e5)}))}}class fP{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return Yt.resolve(Jm.ue);const i=new cP(e);return this.Vr.forEachTarget(t,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.gr(t,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(Sw)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.pr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,a,l,u,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,l=Date.now(),this.nthSequenceNumber(t,r)))).next((m=>(i=m,u=Date.now(),this.removeTargets(t,i,e)))).next((m=>(a=m,h=Date.now(),this.removeOrphanedDocuments(t,i)))).next((m=>(f=Date.now(),of()<=dn.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${m} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:m}))))}}function dP(n,t){return new fP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.changes=new mh((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ls.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Yt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Hd(i.mutation,r,bo.empty(),oi.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,pn()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=pn()){const r=Qc();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((a=>{let l=Od();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=Qc();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,pn())))}populateOverlays(t,e,i){const r=[];return i.forEach((a=>{e.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(t,r).next((a=>{a.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let a=cu();const l=qd(),u=(function(){return qd()})();return e.forEach(((h,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof vh)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Hd(p.mutation,f,p.mutation.getFieldMask(),oi.now())):l.set(f.key,bo.empty())})),this.recalculateAndSaveOverlays(t,a).next((h=>(h.forEach(((f,p)=>l.set(f,p))),e.forEach(((f,p)=>{var m;return u.set(f,new gP(p,(m=l.get(f))!==null&&m!==void 0?m:null))})),u)))}recalculateAndSaveOverlays(t,e){const i=qd();let r=new Ai(((l,u)=>l-u)),a=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((h=>{const f=e.get(h);if(f===null)return;let p=i.get(h)||bo.empty();p=u.applyToLocalView(f,p),i.set(h,p);const m=(r.get(u.batchId)||pn()).add(h);r=r.insert(u.batchId,m)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,m=T4();p.forEach((_=>{if(!a.has(_)){const y=P4(e.get(_),i.get(_));y!==null&&m.set(_,y),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(t,f,m))}return Yt.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):w4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-a.size):Yt.resolve(Qc());let u=ip,h=a;return l.next((f=>Yt.forEach(f,((p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(p)?Yt.resolve():this.remoteDocumentCache.getEntry(t,p).next((_=>{h=h.insert(p,_)}))))).next((()=>this.populateOverlays(t,f,a))).next((()=>this.computeViews(t,h,f,pn()))).next((p=>({batchId:u,changes:E4(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ee(e)).next((i=>{let r=Od();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const a=e.collectionGroup;let l=Od();return this.indexManager.getCollectionParents(t,a).next((u=>Yt.forEach(u,(h=>{const f=(function(m,_){return new zf(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next((p=>{p.forEach(((m,_)=>{l=l.insert(m,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,r)))).next((l=>{a.forEach(((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,ls.newInvalidDocument(p)))}));let u=Od();return l.forEach(((h,f)=>{const p=a.get(h);p!==void 0&&Hd(p.mutation,f,bo.empty(),oi.now()),n0(e,f)&&(u=u.insert(h,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return Yt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:gl(r.createTime)}})(e)),Yt.resolve()}getNamedQuery(t,e){return Yt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,(function(r){return{name:r.name,query:aP(r.bundledQuery),readTime:gl(r.readTime)}})(e)),Yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.overlays=new Ai(Ee.comparator),this.kr=new Map}getOverlay(t,e){return Yt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Qc();return Yt.forEach(e,(r=>this.getOverlay(t,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,a)=>{this.wt(t,e,a)})),Yt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(i)),Yt.resolve()}getOverlaysForCollection(t,e,i){const r=Qc(),a=e.length+1,l=new Ee(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Yt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new Ai(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=Qc(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=Qc(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=r)););return Yt.resolve(u)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new j8(e,i));let a=this.kr.get(e);a===void 0&&(a=pn(),this.kr.set(e,a)),this.kr.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.sessionToken=Vr.EMPTY_BYTE_STRING}getSessionToken(t){return Yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.qr=new fr(Ar.Qr),this.$r=new fr(Ar.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new Ar(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new Ar(t,e))}Gr(t,e){t.forEach((i=>this.removeReference(i,e)))}zr(t){const e=new Ee(new ti([])),i=new Ar(e,t),r=new Ar(e,t+1),a=[];return this.$r.forEachInRange([i,r],(l=>{this.Wr(l),a.push(l.key)})),a}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new Ee(new ti([])),i=new Ar(e,t),r=new Ar(e,t+1);let a=pn();return this.$r.forEachInRange([i,r],(l=>{a=a.add(l.key)})),a}containsKey(t){const e=new Ar(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ar{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Ee.comparator(t.key,e.key)||Ze(t.Hr,e.Hr)}static Ur(t,e){return Ze(t.Hr,e.Hr)||Ee.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new fr(Ar.Qr)}checkEmpty(t){return Yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new M8(a,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Yr=this.Yr.add(new Ar(u.key,a)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return Yt.resolve(l)}lookupMutationBatch(t,e){return Yt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),a=r<0?0:r;return Yt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(this.mutationQueue.length===0?qv:this.er-1)}getAllMutationBatches(t){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ar(e,0),r=new Ar(e,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([i,r],(l=>{const u=this.Zr(l.Hr);a.push(u)})),Yt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new fr(Ze);return e.forEach((r=>{const a=new Ar(r,0),l=new Ar(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],(u=>{i=i.add(u.Hr)}))})),Yt.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const l=new Ar(new Ee(a),0);let u=new fr(Ze);return this.Yr.forEachWhile((h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Hr)),!0)}),l),Yt.resolve(this.ei(u))}ei(t){const e=[];return t.forEach((i=>{const r=this.Zr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){On(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return Yt.forEach(e.mutations,(r=>{const a=new Ar(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Yr=i}))}rr(t){}containsKey(t,e){const i=new Ar(e,0),r=this.Yr.firstAfterOrEqual(i);return Yt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Yt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(t){this.ni=t,this.docs=(function(){return new Ai(Ee.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,l=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Yt.resolve(i?i.document.mutableCopy():ls.newInvalidDocument(e))}getEntries(t,e){let i=cu();return e.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():ls.newInvalidDocument(r))})),Yt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let a=cu();const l=e.path,u=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||XL(KL(p),i)<=0||(r.has(p.key)||n0(e,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Yt.resolve(a)}getAllFromCollectionGroup(t,e,i,r){ke(9500)}ri(t,e){return Yt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new xP(this)}getSize(t){return Yt.resolve(this.size)}}class xP extends pP{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)})),Yt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t){this.persistence=t,this.ii=new mh((e=>Wv(e)),Yv),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new Jv,this.targetCount=0,this._i=Nf.ar()}forEachTarget(t,e){return this.ii.forEach(((i,r)=>e(r))),Yt.resolve()}getLastRemoteSnapshotVersion(t){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Yt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),Yt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new Nf(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,Yt.resolve()}updateTargetData(t,e){return this.hr(e),Yt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.ii.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),Yt.waitFor(a).next((()=>r))}getTargetCount(t){return Yt.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return Yt.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),Yt.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach((l=>{a.push(r.markPotentiallyOrphaned(t,l))})),Yt.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),Yt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return Yt.resolve(i)}containsKey(t,e){return Yt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t,e){this.ai={},this.overlays={},this.ui=new Jm(0),this.ci=!1,this.ci=!0,this.li=new bP,this.referenceDelegate=t(this),this.hi=new SP(this),this.indexManager=new oP,this.remoteDocumentCache=(function(r){return new wP(r)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new sP(e),this.Ti=new vP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new _P(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){he("MemoryPersistence","Starting transaction:",t);const r=new AP(this.ui.next());return this.referenceDelegate.Ii(),i(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ei(t,e){return Yt.or(Object.values(this.ai).map((i=>()=>i.containsKey(t,e))))}}class AP extends JL{constructor(t){super(),this.currentSequenceNumber=t}}class Zv{constructor(t){this.persistence=t,this.Ai=new Jv,this.Ri=null}static Vi(t){return new Zv(t)}get mi(){if(this.Ri)return this.Ri;throw ke(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),Yt.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),Yt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),Yt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach((r=>this.mi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((a=>this.mi.add(a.toString())))})).next((()=>i.removeTargetData(t,e)))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.mi,(i=>{const r=Ee.fromPath(i);return this.fi(t,r).next((a=>{a||e.removeEntry(r,ze.min())}))})).next((()=>(this.Ri=null,e.apply(t))))}updateLimboDocument(t,e){return this.fi(t,e).next((i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())}))}Pi(t){return 0}fi(t,e){return Yt.or([()=>Yt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Im{constructor(t,e){this.persistence=t,this.gi=new mh((i=>e8(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=dP(this,e)}static Vi(t,e){return new Im(t,e)}Ii(){}di(t){return Yt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}yr(t){let e=0;return this.gr(t,(i=>{e++})).next((()=>e))}gr(t,e){return Yt.forEach(this.gi,((i,r)=>this.Sr(t,i,r).next((a=>a?Yt.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ri(t,(l=>this.Sr(t,l,e).next((u=>{u||(i++,a.removeEntry(l,ze.min()))})))).next((()=>a.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),Yt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),Yt.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),Yt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),Yt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=em(t.data.value)),e}Sr(t,e,i){return Yt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return Yt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=pn(),r=pn();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new ty(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return vC()?8:ZL(hs())>0?6:4})()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const a={result:null};return this.ps(t,e).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ys(t,e,r,i).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new EP;return this.ws(t,e,l).next((u=>{if(a.result=u,this.Rs)return this.Ss(t,e,l,u.size)}))})).next((()=>a.result))}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(of()<=dn.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",lf(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Yt.resolve()):(of()<=dn.DEBUG&&he("QueryEngine","Query:",lf(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(of()<=dn.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",lf(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pl(e))):Yt.resolve())}ps(t,e){if(dw(e))return Yt.resolve(null);let i=pl(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=U2(e,null,"F"),i=pl(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((a=>{const l=pn(...a);return this.gs.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((h=>{const f=this.bs(e,u);return this.Ds(e,f,l,h.readTime)?this.ps(t,U2(e,null,"F")):this.vs(t,f,e,h)}))))})))))}ys(t,e,i,r){return dw(e)||r.isEqual(ze.min())?Yt.resolve(null):this.gs.getDocuments(t,i).next((a=>{const l=this.bs(e,a);return this.Ds(e,l,i,r)?Yt.resolve(null):(of()<=dn.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lf(e)),this.vs(t,l,e,$L(r,ip)).next((u=>u)))}))}bs(t,e){let i=new fr(S4(t));return e.forEach(((r,a)=>{n0(t,a)&&(i=i.add(a))})),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ws(t,e,i){return of()<=dn.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",lf(e)),this.gs.getDocumentsMatchingQuery(t,e,yc.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next((a=>(e.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="LocalStore",NP=3e8;class CP{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new Ai(Ze),this.Ms=new mh((a=>Wv(a)),Yv),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mP(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Fs)))}}function RP(n,t,e,i){return new CP(n,t,e,i)}async function Y4(n,t){const e=He(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,e.Ns(t),e.mutationQueue.getAllMutationBatches(i)))).next((a=>{const l=[],u=[];let h=pn();for(const f of r){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return e.localDocuments.getDocuments(i,h).next((f=>({Bs:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function IP(n,t){const e=He(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),a=e.Os.newChangeBuffer({trackRemovals:!0});return(function(u,h,f,p){const m=f.batch,_=m.keys();let y=Yt.resolve();return _.forEach((S=>{y=y.next((()=>p.getEntry(h,S))).next((T=>{const C=f.docVersions.get(S);On(C!==null,48541),T.version.compareTo(C)<0&&(m.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),p.addEntry(T)))}))})),y.next((()=>u.mutationQueue.removeMutationBatch(h,m)))})(e,i,t,a).next((()=>a.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let h=pn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function $4(n){const t=He(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.hi.getLastRemoteSnapshotVersion(e)))}function LP(n,t){const e=He(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const u=[];t.targetChanges.forEach(((p,m)=>{const _=r.get(m);if(!_)return;u.push(e.hi.removeMatchingKeys(a,p.removedDocuments,m).next((()=>e.hi.addMatchingKeys(a,p.addedDocuments,m))));let y=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(m)!==null?y=y.withResumeToken(Vr.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,i)),r=r.insert(m,y),(function(T,C,E){return T.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=NP?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(_,y,p)&&u.push(e.hi.updateTargetData(a,y))}));let h=cu(),f=pn();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(PP(a,l,t.documentUpdates).next((p=>{h=p.Ls,f=p.ks}))),!i.isEqual(ze.min())){const p=e.hi.getLastRemoteSnapshotVersion(a).next((m=>e.hi.setTargetsMetadata(a,a.currentSequenceNumber,i)));u.push(p)}return Yt.waitFor(u).next((()=>l.apply(a))).next((()=>e.localDocuments.getLocalViewOfDocuments(a,h,f))).next((()=>h))})).then((a=>(e.Fs=r,a)))}function PP(n,t,e){let i=pn(),r=pn();return e.forEach((a=>i=i.add(a))),t.getEntries(n,i).next((a=>{let l=cu();return e.forEach(((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(ze.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):he(ey,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)})),{Ls:l,ks:r}}))}function kP(n,t){const e=He(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=qv),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function OP(n,t){const e=He(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.hi.getTargetData(i,t).next((a=>a?(r=a,Yt.resolve(r)):e.hi.allocateTargetId(i).next((l=>(r=new nc(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i}))}async function Y2(n,t,e){const i=He(n),r=i.Fs.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Vf(l))throw l;he(ey,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function Tw(n,t,e){const i=He(n);let r=ze.min(),a=pn();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,p){const m=He(h),_=m.Ms.get(p);return _!==void 0?Yt.resolve(m.Fs.get(_)):m.hi.getTargetData(f,p)})(i,l,pl(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>i.Cs.getDocumentsMatchingQuery(l,t,e?r:ze.min(),e?a:pn()))).next((u=>(DP(i,_8(t),u),{documents:u,qs:a})))))}function DP(n,t,e){let i=n.xs.get(t)||ze.min();e.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.xs.set(t,i)}class Nw{constructor(){this.activeTargetIds=T8()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MP{constructor(){this.Fo=new Nw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Nw,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="ConnectivityMonitor";class Rw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(Cw,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){he(Cw,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg=null;function $2(){return Rg===null?Rg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rg++,"0x"+Rg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="RestConnection",FP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BP{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===Em?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,a){const l=$2(),u=this.Go(t,e.toUriEncodedString());he(J1,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,r,a);const{host:f}=new URL(u),p=Df(f);return this.jo(t,u,h,i,p).then((m=>(he(J1,`Received RPC '${t}' ${l}: `,m),m)),(m=>{throw vc(J1,`RPC '${t}' ${l} failed with error: `,m,"url: ",u,"request:",i),m}))}Jo(t,e,i,r,a,l){return this.Wo(t,e,i,r,a)}zo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ff})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,a)=>t[a]=r)),i&&i.headers.forEach(((r,a)=>t[a]=r))}Go(t,e){const i=FP[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="WebChannelConnection";class zP extends BP{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,a){const l=$2();return new Promise(((u,h)=>{const f=new $A;f.setWithCredentials(!0),f.listenOnce(KA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case tm.NO_ERROR:const m=f.getResponseJson();he(es,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(m)),u(m);break;case tm.TIMEOUT:he(es,`RPC '${t}' ${l} timed out`),h(new ce(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case tm.HTTP_ERROR:const _=f.getStatus();if(he(es,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const T=(function(E){const D=E.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf(D)>=0?D:Wt.UNKNOWN})(S.status);h(new ce(T,S.message))}else h(new ce(Wt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ce(Wt.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{c_:t,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{he(es,`RPC '${t}' ${l} completed.`)}}));const p=JSON.stringify(r);he(es,`RPC '${t}' ${l} sending request:`,r),f.send(e,"POST",p,i,15)}))}P_(t,e,i){const r=$2(),a=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=JA(),u=QA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const p=a.join("");he(es,`Creating RPC '${t}' stream ${r}: ${p}`,h);const m=l.createWebChannel(p,h);this.T_(m);let _=!1,y=!1;const S=new VP({Ho:C=>{y?he(es,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(_||(he(es,`Opening RPC '${t}' stream ${r} transport.`),m.open(),_=!0),he(es,`RPC '${t}' stream ${r} sending:`,C),m.send(C))},Yo:()=>m.close()}),T=(C,E,D)=>{C.listen(E,(j=>{try{D(j)}catch(H){setTimeout((()=>{throw H}),0)}}))};return T(m,kd.EventType.OPEN,(()=>{y||(he(es,`RPC '${t}' stream ${r} transport opened.`),S.s_())})),T(m,kd.EventType.CLOSE,(()=>{y||(y=!0,he(es,`RPC '${t}' stream ${r} transport closed`),S.__(),this.I_(m))})),T(m,kd.EventType.ERROR,(C=>{y||(y=!0,vc(es,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),S.__(new ce(Wt.UNAVAILABLE,"The operation could not be completed")))})),T(m,kd.EventType.MESSAGE,(C=>{var E;if(!y){const D=C.data[0];On(!!D,16349);const j=D,H=(j==null?void 0:j.error)||((E=j[0])===null||E===void 0?void 0:E.error);if(H){he(es,`RPC '${t}' stream ${r} received error:`,H);const K=H.status;let Z=(function(B){const q=Ki[B];if(q!==void 0)return D4(q)})(K),k=H.message;Z===void 0&&(Z=Wt.INTERNAL,k="Unknown error status: "+K+" with message "+H.message),y=!0,S.__(new ce(Z,k)),m.close()}else he(es,`RPC '${t}' stream ${r} received:`,D),S.a_(D)}})),T(u,XA.STAT_EVENT,(C=>{C.stat===D2.PROXY?he(es,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===D2.NOPROXY&&he(es,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{S.o_()}),0),S}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((e=>e===t))}}function Z1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(n){return new G8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="PersistentStream";class X4{constructor(t,e,i,r,a,l,u,h){this.Fi=t,this.w_=i,this.S_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new K4(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===Wt.RESOURCE_EXHAUSTED?(uu(e.toString()),uu("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===Wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.b_===e&&this.W_(i,r)}),(i=>{t((()=>{const r=new ce(Wt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)}))}))}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((r=>{i((()=>this.G_(r)))})),this.stream.onMessage((r=>{i((()=>++this.C_==1?this.j_(r):this.onNext(r)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return he(Iw,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget((()=>this.b_===t?e():(he(Iw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UP extends X4{constructor(t,e,i,r,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=a}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=$8(this.serializer,t),i=(function(a){if(!("targetChange"in a))return ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?gl(l.readTime):ze.min()})(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=W2(this.serializer),e.addTarget=(function(a,l){let u;const h=l.target;if(u=V2(h)?{documents:Q8(a,h)}:{query:J8(a,h).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=F4(a,l.resumeToken);const f=q2(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(ze.min())>0){u.readTime=Rm(a,l.snapshotVersion.toTimestamp());const f=q2(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,t);const i=tP(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=W2(this.serializer),e.removeTarget=t,this.k_(e)}}class qP extends X4{constructor(t,e,i,r,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return On(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,On(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){On(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=X8(t.writeResults,t.commitTime),i=gl(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=W2(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>K8(this.serializer,i)))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{}class GP extends HP{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ce(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(t,H2(e,i),r,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(Wt.UNKNOWN,a.toString())}))}Jo(t,e,i,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Jo(t,H2(e,i),r,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Wt.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class WP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(uu(e),this._a=!1):he("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="RemoteStore";class YP{constructor(t,e,i,r,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((l=>{i.enqueueAndForget((async()=>{yh(this)&&(he(fh,"Restarting streams for network reachability change."),await(async function(h){const f=He(h);f.Ia.add(4),await Ip(f),f.Aa.set("Unknown"),f.Ia.delete(4),await o0(f)})(this))}))})),this.Aa=new WP(i,r)}}async function o0(n){if(yh(n))for(const t of n.da)await t(!0)}async function Ip(n){for(const t of n.da)await t(!1)}function Q4(n,t){const e=He(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),sy(e)?ry(e):Uf(e).x_()&&iy(e,t))}function ny(n,t){const e=He(n),i=Uf(e);e.Ta.delete(t),i.x_()&&J4(e,t),e.Ta.size===0&&(i.x_()?i.B_():yh(e)&&e.Aa.set("Unknown"))}function iy(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ze.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Uf(n).H_(t)}function J4(n,t){n.Ra.$e(t),Uf(n).Y_(t)}function ry(n){n.Ra=new z8({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),Uf(n).start(),n.Aa.aa()}function sy(n){return yh(n)&&!Uf(n).M_()&&n.Ta.size>0}function yh(n){return He(n).Ia.size===0}function Z4(n){n.Ra=void 0}async function $P(n){n.Aa.set("Online")}async function KP(n){n.Ta.forEach(((t,e)=>{iy(n,t)}))}async function XP(n,t){Z4(n),sy(n)?(n.Aa.la(t),ry(n)):n.Aa.set("Unknown")}async function QP(n,t,e){if(n.Aa.set("Online"),t instanceof j4&&t.state===2&&t.cause)try{await(async function(r,a){const l=a.cause;for(const u of a.targetIds)r.Ta.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ta.delete(u),r.Ra.removeTarget(u))})(n,t)}catch(i){he(fh,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Lm(n,i)}else if(t instanceof rm?n.Ra.Ye(t):t instanceof M4?n.Ra.it(t):n.Ra.et(t),!e.isEqual(ze.min()))try{const i=await $4(n.localStore);e.compareTo(i)>=0&&await(function(a,l){const u=a.Ra.Pt(l);return u.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ta.get(f);p&&a.Ta.set(f,p.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,f)=>{const p=a.Ta.get(h);if(!p)return;a.Ta.set(h,p.withResumeToken(Vr.EMPTY_BYTE_STRING,p.snapshotVersion)),J4(a,h);const m=new nc(p.target,h,f,p.sequenceNumber);iy(a,m)})),a.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){he(fh,"Failed to raise snapshot:",i),await Lm(n,i)}}async function Lm(n,t,e){if(!Vf(t))throw t;n.Ia.add(1),await Ip(n),n.Aa.set("Offline"),e||(e=()=>$4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(fh,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await o0(n)}))}function t3(n,t){return t().catch((e=>Lm(n,e,t)))}async function l0(n){const t=He(n),e=xc(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:qv;for(;JP(t);)try{const r=await kP(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,ZP(t,r)}catch(r){await Lm(t,r)}e3(t)&&n3(t)}function JP(n){return yh(n)&&n.Pa.length<10}function ZP(n,t){n.Pa.push(t);const e=xc(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function e3(n){return yh(n)&&!xc(n).M_()&&n.Pa.length>0}function n3(n){xc(n).start()}async function tk(n){xc(n).na()}async function ek(n){const t=xc(n);for(const e of n.Pa)t.X_(e.mutations)}async function nk(n,t,e){const i=n.Pa.shift(),r=Kv.from(i,t,e);await t3(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await l0(n)}async function ik(n,t){t&&xc(n).Z_&&await(async function(i,r){if((function(l){return B8(l)&&l!==Wt.ABORTED})(r.code)){const a=i.Pa.shift();xc(i).N_(),await t3(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await l0(i)}})(n,t),e3(n)&&n3(n)}async function Lw(n,t){const e=He(n);e.asyncQueue.verifyOperationInProgress(),he(fh,"RemoteStore received new credentials");const i=yh(e);e.Ia.add(3),await Ip(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await o0(e)}async function rk(n,t){const e=He(n);t?(e.Ia.delete(2),await o0(e)):t||(e.Ia.add(2),await Ip(e),e.Aa.set("Unknown"))}function Uf(n){return n.Va||(n.Va=(function(e,i,r){const a=He(e);return a.ia(),new UP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Zo:$P.bind(null,n),e_:KP.bind(null,n),n_:XP.bind(null,n),J_:QP.bind(null,n)}),n.da.push((async t=>{t?(n.Va.N_(),sy(n)?ry(n):n.Aa.set("Unknown")):(await n.Va.stop(),Z4(n))}))),n.Va}function xc(n){return n.ma||(n.ma=(function(e,i,r){const a=He(e);return a.ia(),new qP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:tk.bind(null,n),n_:ik.bind(null,n),ea:ek.bind(null,n),ta:nk.bind(null,n)}),n.da.push((async t=>{t?(n.ma.N_(),await l0(n)):(await n.ma.stop(),n.Pa.length>0&&(he(fh,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new dc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,a){const l=Date.now()+i,u=new ay(t,e,l,r,a);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Wt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(n,t){if(uu("AsyncQueue",`${t}: ${n}`),Vf(n))return new ce(Wt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{static emptySet(t){return new mf(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ee.comparator(e.key,i.key):(e,i)=>Ee.comparator(e.key,i.key),this.keyedMap=Od(),this.sortedSet=new Ai(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof mf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new mf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.fa=new Ai(Ee.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):ke(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Cf{constructor(t,e,i,r,a,l,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,a){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Cf(t,e,mf.emptySet(e),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&e0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class ak{constructor(){this.queries=kw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=He(e),a=r.queries;r.queries=kw(),a.forEach(((l,u)=>{for(const h of u.wa)h.onError(i)}))})(this,new ce(Wt.ABORTED,"Firestore shutting down"))}}function kw(){return new mh((n=>x4(n)),e0)}async function ok(n,t){const e=He(n);let i=3;const r=t.query;let a=e.queries.get(r);a?!a.Sa()&&t.ba()&&(i=2):(a=new sk,i=t.ba()?0:1);try{switch(i){case 0:a.ya=await e.onListen(r,!0);break;case 1:a.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=oy(l,`Initialization of query '${lf(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,a),a.wa.push(t),t.va(e.onlineState),a.ya&&t.Ca(a.ya)&&ly(e)}async function lk(n,t){const e=He(n),i=t.query;let r=3;const a=e.queries.get(i);if(a){const l=a.wa.indexOf(t);l>=0&&(a.wa.splice(l,1),a.wa.length===0?r=t.ba()?0:1:!a.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function uk(n,t){const e=He(n);let i=!1;for(const r of t){const a=r.query,l=e.queries.get(a);if(l){for(const u of l.wa)u.Ca(r)&&(i=!0);l.ya=r}}i&&ly(e)}function ck(n,t,e){const i=He(n),r=i.queries.get(t);if(r)for(const a of r.wa)a.onError(e);i.queries.delete(t)}function ly(n){n.Da.forEach((t=>{t.next()}))}var K2,Ow;(Ow=K2||(K2={})).Fa="default",Ow.Cache="cache";class hk{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Cf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=Cf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==K2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(t){this.key=t}}class r3{constructor(t){this.key=t}}class fk{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=pn(),this.mutatedKeys=pn(),this.Xa=S4(t),this.eu=new mf(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new Pw,r=e?e.eu:this.eu;let a=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((p,m)=>{const _=r.get(p),y=n0(this.query,m)?m:null,S=!!_&&this.mutatedKeys.has(_.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;_&&y?_.data.isEqual(y.data)?S!==T&&(i.track({type:3,doc:y}),C=!0):this.iu(_,y)||(i.track({type:2,doc:y}),C=!0,(h&&this.Xa(y,h)>0||f&&this.Xa(y,f)<0)&&(u=!0)):!_&&y?(i.track({type:0,doc:y}),C=!0):_&&!y&&(i.track({type:1,doc:_}),C=!0,(h||f)&&(u=!0)),C&&(y?(l=l.add(y),a=T?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{eu:l,ru:i,Ds:u,mutatedKeys:a}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const a=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const l=t.ru.pa();l.sort(((p,m)=>(function(y,S){const T=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{At:C})}};return T(y)-T(S)})(p.type,m.type)||this.Xa(p.doc,m.doc))),this.su(i),r=r!=null&&r;const u=e&&!r?this.ou():[],h=this.Za.size===0&&this.current&&!r?1:0,f=h!==this.Ya;return this.Ya=h,l.length!==0||f?{snapshot:new Cf(this.query,t.eu,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Pw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=pn(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const e=[];return t.forEach((i=>{this.Za.has(i)||e.push(new r3(i))})),this.Za.forEach((i=>{t.has(i)||e.push(new i3(i))})),e}uu(t){this.Ha=t.qs,this.Za=pn();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return Cf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const uy="SyncEngine";class dk{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class pk{constructor(t){this.key=t,this.lu=!1}}class gk{constructor(t,e,i,r,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new mh((u=>x4(u)),e0),this.Tu=new Map,this.Iu=new Set,this.du=new Ai(Ee.comparator),this.Eu=new Map,this.Au=new Jv,this.Ru={},this.Vu=new Map,this.mu=Nf.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function mk(n,t,e=!0){const i=c3(n);let r;const a=i.Pu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.cu()):r=await s3(i,t,e,!0),r}async function vk(n,t){const e=c3(n);await s3(e,t,!0,!1)}async function s3(n,t,e,i){const r=await OP(n.localStore,pl(t)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let u;return i&&(u=await yk(n,t,a,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&Q4(n.remoteStore,r),u}async function yk(n,t,e,i,r){n.gu=(m,_,y)=>(async function(T,C,E,D){let j=C.view.nu(E);j.Ds&&(j=await Tw(T.localStore,C.query,!1).then((({documents:k})=>C.view.nu(k,j))));const H=D&&D.targetChanges.get(C.targetId),K=D&&D.targetMismatches.get(C.targetId)!=null,Z=C.view.applyChanges(j,T.isPrimaryClient,H,K);return Mw(T,C.targetId,Z._u),Z.snapshot})(n,m,_,y);const a=await Tw(n.localStore,t,!0),l=new fk(t,a.qs),u=l.nu(a.documents),h=Rp.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,h);Mw(n,e,f._u);const p=new dk(t,e,l);return n.Pu.set(t,p),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),f.snapshot}async function bk(n,t,e){const i=He(n),r=i.Pu.get(t),a=i.Tu.get(r.targetId);if(a.length>1)return i.Tu.set(r.targetId,a.filter((l=>!e0(l,t)))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Y2(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&ny(i.remoteStore,r.targetId),X2(i,r.targetId)})).catch(Bf)):(X2(i,r.targetId),await Y2(i.localStore,r.targetId,!0))}async function _k(n,t){const e=He(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),ny(e.remoteStore,i.targetId))}async function wk(n,t,e){const i=Ck(n);try{const r=await(function(l,u){const h=He(l),f=oi.now(),p=u.reduce(((y,S)=>y.add(S.key)),pn());let m,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let S=cu(),T=pn();return h.Os.getEntries(y,p).next((C=>{S=C,S.forEach(((E,D)=>{D.isValidDocument()||(T=T.add(E))}))})).next((()=>h.localDocuments.getOverlayedDocuments(y,S))).next((C=>{m=C;const E=[];for(const D of u){const j=O8(D,m.get(D.key).overlayedDocument);j!=null&&E.push(new vh(D.key,j,d4(j.value.mapValue),su.exists(!0)))}return h.mutationQueue.addMutationBatch(y,f,E,u)})).next((C=>{_=C;const E=C.applyToLocalDocumentSet(m,T);return h.documentOverlayCache.saveOverlays(y,C.batchId,E)}))})).then((()=>({batchId:_.batchId,changes:E4(m)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,h){let f=l.Ru[l.currentUser.toKey()];f||(f=new Ai(Ze)),f=f.insert(u,h),l.Ru[l.currentUser.toKey()]=f})(i,r.batchId,e),await Lp(i,r.changes),await l0(i.remoteStore)}catch(r){const a=oy(r,"Failed to persist write");e.reject(a)}}async function a3(n,t){const e=He(n);try{const i=await LP(e.localStore,t);t.targetChanges.forEach(((r,a)=>{const l=e.Eu.get(a);l&&(On(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.lu=!0:r.modifiedDocuments.size>0?On(l.lu,14607):r.removedDocuments.size>0&&(On(l.lu,42227),l.lu=!1))})),await Lp(e,i,t)}catch(i){await Bf(i)}}function Dw(n,t,e){const i=He(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach(((a,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const h=He(l);h.onlineState=u;let f=!1;h.queries.forEach(((p,m)=>{for(const _ of m.wa)_.va(u)&&(f=!0)})),f&&ly(h)})(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function xk(n,t,e){const i=He(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),a=r&&r.key;if(a){let l=new Ai(Ee.comparator);l=l.insert(a,ls.newNoDocument(a,ze.min()));const u=pn().add(a),h=new s0(ze.min(),new Map,new Ai(Ze),l,u);await a3(i,h),i.du=i.du.remove(a),i.Eu.delete(t),cy(i)}else await Y2(i.localStore,t,!1).then((()=>X2(i,t,e))).catch(Bf)}async function Sk(n,t){const e=He(n),i=t.batch.batchId;try{const r=await IP(e.localStore,t);l3(e,i,null),o3(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Lp(e,r)}catch(r){await Bf(r)}}async function Ak(n,t,e){const i=He(n);try{const r=await(function(l,u){const h=He(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next((m=>(On(m!==null,37113),p=m.keys(),h.mutationQueue.removeMutationBatch(f,m)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>h.localDocuments.getDocuments(f,p)))}))})(i.localStore,t);l3(i,t,e),o3(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Lp(i,r)}catch(r){await Bf(r)}}function o3(n,t){(n.Vu.get(t)||[]).forEach((e=>{e.resolve()})),n.Vu.delete(t)}function l3(n,t,e){const i=He(n);let r=i.Ru[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function X2(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach((i=>{n.Au.containsKey(i)||u3(n,i)}))}function u3(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(ny(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),cy(n))}function Mw(n,t,e){for(const i of e)i instanceof i3?(n.Au.addReference(i.key,t),Ek(n,i)):i instanceof r3?(he(uy,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||u3(n,i.key)):ke(19791,{yu:i})}function Ek(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(he(uy,"New document in limbo: "+e),n.Iu.add(i),cy(n))}function cy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new Ee(ti.fromString(t)),i=n.mu.next();n.Eu.set(i,new pk(e)),n.du=n.du.insert(e,i),Q4(n.remoteStore,new nc(pl(_4(e.path)),i,"TargetPurposeLimboResolution",Jm.ue))}}async function Lp(n,t,e){const i=He(n),r=[],a=[],l=[];i.Pu.isEmpty()||(i.Pu.forEach(((u,h)=>{l.push(i.gu(h,t,e).then((f=>{var p;if((f||e)&&i.isPrimaryClient){const m=f?!f.fromCache:(p=e==null?void 0:e.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){r.push(f);const m=ty.Es(h.targetId,f);a.push(m)}})))})),await Promise.all(l),i.hu.J_(r),await(async function(h,f){const p=He(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Yt.forEach(f,(_=>Yt.forEach(_.Is,(y=>p.persistence.referenceDelegate.addReference(m,_.targetId,y))).next((()=>Yt.forEach(_.ds,(y=>p.persistence.referenceDelegate.removeReference(m,_.targetId,y)))))))))}catch(m){if(!Vf(m))throw m;he(ey,"Failed to update sequence numbers: "+m)}for(const m of f){const _=m.targetId;if(!m.fromCache){const y=p.Fs.get(_),S=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(S);p.Fs=p.Fs.insert(_,T)}}})(i.localStore,a))}async function Tk(n,t){const e=He(n);if(!e.currentUser.isEqual(t)){he(uy,"User change. New user:",t.toKey());const i=await Y4(e.localStore,t);e.currentUser=t,(function(a,l){a.Vu.forEach((u=>{u.forEach((h=>{h.reject(new ce(Wt.CANCELLED,l))}))})),a.Vu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Lp(e,i.Bs)}}function Nk(n,t){const e=He(n),i=e.Eu.get(t);if(i&&i.lu)return pn().add(i.key);{let r=pn();const a=e.Tu.get(t);if(!a)return r;for(const l of a){const u=e.Pu.get(l);r=r.unionWith(u.view.tu)}return r}}function c3(n){const t=He(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=a3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xk.bind(null,t),t.hu.J_=uk.bind(null,t.eventManager),t.hu.pu=ck.bind(null,t.eventManager),t}function Ck(n){const t=He(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ak.bind(null,t),t}class Pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=a0(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return RP(this.persistence,new TP,t.initialUser,this.serializer)}Du(t){return new W4(Zv.Vi,this.serializer)}bu(t){return new MP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pm.provider={build:()=>new Pm};class Rk extends Pm{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){On(this.persistence.referenceDelegate instanceof Im,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new hP(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?Hs.withCacheSize(this.cacheSizeBytes):Hs.DEFAULT;return new W4((i=>Im.Vi(i,e)),this.serializer)}}class Q2{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Dw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tk.bind(null,this.syncEngine),await rk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ak})()}createDatastore(t){const e=a0(t.databaseInfo.databaseId),i=(function(a){return new zP(a)})(t.databaseInfo);return(function(a,l,u,h){return new GP(a,l,u,h)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,a,l,u){return new YP(i,r,a,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>Dw(this.syncEngine,e,0)),(function(){return Rw.C()?new Rw:new jP})())}createSyncEngine(t,e){return(function(r,a,l,u,h,f,p){const m=new gk(r,a,l,u,h,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(r){const a=He(r);he(fh,"RemoteStore shutting down."),a.Ia.add(5),await Ip(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Q2.provider={build:()=>new Q2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):uu("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="FirestoreClient";class Lk{constructor(t,e,i,r,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=os.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async l=>{he(Sc,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(he(Sc,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=oy(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function t2(n,t){n.asyncQueue.verifyOperationInProgress(),he(Sc,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await Y4(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>{vc("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((r=>{vc("Terminating Firestore due to IndexedDb database deletion failed",r)}))})),n._offlineComponents=t}async function jw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Pk(n);he(Sc,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Lw(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>Lw(t.remoteStore,r))),n._onlineComponents=t}async function Pk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Sc,"Using user provided OfflineComponentProvider");try{await t2(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===Wt.FAILED_PRECONDITION||r.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;vc("Error using user provided cache. Falling back to memory cache: "+e),await t2(n,new Pm)}}else he(Sc,"Using default OfflineComponentProvider"),await t2(n,new Rk(void 0));return n._offlineComponents}async function h3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Sc,"Using user provided OnlineComponentProvider"),await jw(n,n._uninitializedComponentsProvider._online)):(he(Sc,"Using default OnlineComponentProvider"),await jw(n,new Q2))),n._onlineComponents}function kk(n){return h3(n).then((t=>t.syncEngine))}async function Ok(n){const t=await h3(n),e=t.eventManager;return e.onListen=mk.bind(null,t.syncEngine),e.onUnlisten=bk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=_k.bind(null,t.syncEngine),e}function Dk(n,t,e={}){const i=new dc;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,f){const p=new Ik({next:_=>{p.Ou(),l.enqueueAndForget((()=>lk(a,m))),_.fromCache&&h.source==="server"?f.reject(new ce(Wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),m=new hk(u,p,{includeMetadataChanges:!0,ka:!0});return ok(a,m)})(await Ok(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="firestore.googleapis.com",Bw=!0;class Vw{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ce(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d3,this.ssl=Bw}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:Bw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=G4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uP)throw new ce(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f3((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class u0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new FL;switch(i.type){case"firstParty":return new UL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Fw.get(e);i&&(he("ComponentProvider","Removing Datastore"),Fw.delete(e),i.terminate())})(this),Promise.resolve()}}function Mk(n,t,e,i={}){var r;n=Sm(n,u0);const a=Df(t),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${t}:${e}`;a&&(uA(`https://${h}`),cA("Firestore",!0)),l.host!==d3&&l.host!==h&&vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:i});if(!lh(f,u)&&(n._setSettings(f),i.mockUserToken)){let p,m;if(typeof i.mockUserToken=="string")p=i.mockUserToken,m=os.MOCK_USER;else{p=lC(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ce(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new os(_)}n._authCredentials=new BL(new t4(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new bh(this.firestore,t,this._query)}}class Er{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Er(this.firestore,t,this._key)}toJSON(){return{type:Er._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Np(e,Er._jsonSchema))return new Er(t,i||null,new Ee(ti.fromString(e.referencePath)))}}Er._jsonSchemaVersion="firestore/documentReference/1.0",Er._jsonSchema={type:Ji("string",Er._jsonSchemaVersion),referencePath:Ji("string")};class pc extends bh{constructor(t,e,i){super(t,e,_4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Er(this.firestore,null,new Ee(t))}withConverter(t){return new pc(this.firestore,t,this._path)}}function hy(n,t,...e){if(n=Ws(n),n4("collection","path",t),n instanceof u0){const i=ti.fromString(t,...e);return Z_(i),new pc(n,null,i)}{if(!(n instanceof Er||n instanceof pc))throw new ce(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ti.fromString(t,...e));return Z_(i),new pc(n.firestore,null,i)}}function jk(n,t,...e){if(n=Ws(n),arguments.length===1&&(t=Uv.newId()),n4("doc","path",t),n instanceof u0){const i=ti.fromString(t,...e);return J_(i),new Er(n,null,new Ee(i))}{if(!(n instanceof Er||n instanceof pc))throw new ce(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ti.fromString(t,...e));return J_(i),new Er(n.firestore,n instanceof pc?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="AsyncQueue";class Uw{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new K4(this,"async_queue_retry"),this.oc=()=>{const i=Z1();i&&he(zw,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=Z1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=Z1();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const e=new dc;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Vf(t))throw t;he(zw,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const e=this._c.then((()=>(this.nc=!0,t().catch((i=>{throw this.tc=i,this.nc=!1,uu("INTERNAL UNHANDLED ERROR: ",qw(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=ay.createAndSchedule(this,t,e,i,(a=>this.lc(a)));return this.ec.push(r),r}ac(){this.tc&&ke(47125,{hc:qw(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function qw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class fy extends u0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Uw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Uw(t),this._firestoreClient=void 0,await t}}}function Fk(n,t){const e=typeof n=="object"?n:pA(),i=typeof n=="string"?n:Em,r=Rv(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=aC("firestore");a&&Mk(r,...a)}return r}function p3(n){if(n._terminated)throw new ce(Wt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Bk(n),n._firestoreClient}function Bk(n){var t,e,i;const r=n._freezeSettings(),a=(function(u,h,f,p){return new r8(u,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,f3(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Lk(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(Vr.fromBase64String(t))}catch(e){throw new ce(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fa(Vr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Np(t,Fa._jsonSchema))return Fa.fromBase64String(t.bytes)}}Fa._jsonSchemaVersion="firestore/bytes/1.0",Fa._jsonSchema={type:Ji("string",Fa._jsonSchemaVersion),bytes:Ji("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ce(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ce(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ce(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ze(this._lat,t._lat)||Ze(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ml._jsonSchemaVersion}}static fromJSON(t){if(Np(t,ml._jsonSchema))return new ml(t.latitude,t.longitude)}}ml._jsonSchemaVersion="firestore/geoPoint/1.0",ml._jsonSchema={type:Ji("string",ml._jsonSchemaVersion),latitude:Ji("number"),longitude:Ji("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Np(t,vl._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new vl(t.vectorValues);throw new ce(Wt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vl._jsonSchemaVersion="firestore/vectorValue/1.0",vl._jsonSchema={type:Ji("string",vl._jsonSchemaVersion),vectorValues:Ji("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=/^__.*__$/;class zk{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new vh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cp(t,this.data,e,this.fieldTransforms)}}function g3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ec:n})}}class gy{constructor(t,e,i,r,a,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new gy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return km(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(g3(this.Ec)&&Vk.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class Uk{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||a0(t)}Dc(t,e,i,r=!1){return new gy({Ec:t,methodName:e,bc:i,path:Br.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m3(n){const t=n._freezeSettings(),e=a0(n._databaseId);return new Uk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function qk(n,t,e,i,r,a={}){const l=n.Dc(a.merge||a.mergeFields?2:0,t,e,r);b3("Data must be an object, but it was:",l,i);const u=v3(i,l);let h,f;if(a.merge)h=new bo(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const _=Gk(t,m,e);if(!l.contains(_))throw new ce(Wt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Yk(p,_)||p.push(_)}h=new bo(p),f=l.fieldTransforms.filter((m=>h.covers(m.field)))}else h=null,f=l.fieldTransforms;return new zk(new ja(u),h,f)}class my extends py{_toFieldTransform(t){return new I8(t.path,new lp)}isEqual(t){return t instanceof my}}function Hk(n,t,e,i=!1){return vy(e,n.Dc(i?4:3,t))}function vy(n,t){if(y3(n=Ws(n)))return b3("Unsupported field value:",t,n),v3(n,t);if(n instanceof py)return(function(i,r){if(!g3(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(i,r){const a=[];let l=0;for(const u of i){let h=vy(u,r.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(n,t)}return(function(i,r){if((i=Ws(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return N8(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=oi.fromDate(i);return{timestampValue:Rm(r.serializer,a)}}if(i instanceof oi){const a=new oi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rm(r.serializer,a)}}if(i instanceof ml)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fa)return{bytesValue:F4(r.serializer,i._byteString)};if(i instanceof Er){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Qv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof vl)return(function(l,u){return{mapValue:{fields:{[h4]:{stringValue:f4},[Tm]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return $v(u.serializer,f)}))}}}}}})(i,r);throw r.wc(`Unsupported field value: ${Qm(i)}`)})(n,t)}function v3(n,t){const e={};return s4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gh(n,((i,r)=>{const a=vy(r,t.Vc(i));a!=null&&(e[i]=a)})),{mapValue:{fields:e}}}function y3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof oi||n instanceof ml||n instanceof Fa||n instanceof Er||n instanceof py||n instanceof vl)}function b3(n,t,e){if(!y3(e)||!i4(e)){const i=Qm(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function Gk(n,t,e){if((t=Ws(t))instanceof dy)return t._internalPath;if(typeof t=="string")return _3(n,t);throw km("Field path arguments must be of type string or ",n,!1,void 0,e)}const Wk=new RegExp("[~\\*/\\[\\]]");function _3(n,t,e){if(t.search(Wk)>=0)throw km(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dy(...t.split("."))._internalPath}catch{throw km(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function km(n,t,e,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new ce(Wt.INVALID_ARGUMENT,u+n+h)}function Yk(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(c0("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class $k extends w3{data(){return super.data()}}function c0(n,t){return typeof t=="string"?_3(n,t):t instanceof dy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(Wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class x3 extends yy{}function Xk(n,t,...e){let i=[];t instanceof yy&&i.push(t),i=i.concat(e),(function(a){const l=a.filter((h=>h instanceof by)).length,u=a.filter((h=>h instanceof h0)).length;if(l>1||l>0&&u>0)throw new ce(Wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class h0 extends x3{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new h0(t,e,i)}_apply(t){const e=this._parse(t);return S3(t._query,e),new bh(t.firestore,t.converter,z2(t._query,e))}_parse(t){const e=m3(t.firestore);return(function(a,l,u,h,f,p,m){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ce(Wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Gw(m,p);const S=[];for(const T of m)S.push(Hw(h,a,T));_={arrayValue:{values:S}}}else _=Hw(h,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Gw(m,p),_=Hk(u,l,m,p==="in"||p==="not-in");return Xi.create(f,p,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Qk(n,t,e){const i=t,r=c0("where",n);return h0._create(r,i,e)}class by extends yy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new by(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:So.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,a){let l=r;const u=a.getFlattenedFilters();for(const h of u)S3(l,h),l=z2(l,h)})(t._query,e),new bh(t.firestore,t.converter,z2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _y extends x3{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new _y(t,e)}_apply(t){const e=(function(r,a,l){if(r.startAt!==null)throw new ce(Wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(Wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new op(a,l)})(t._query,this._field,this._direction);return new bh(t.firestore,t.converter,(function(r,a){const l=r.explicitOrderBy.concat([a]);return new zf(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function Jk(n,t="asc"){const e=t,i=c0("orderBy",n);return _y._create(i,e)}function Hw(n,t,e){if(typeof(e=Ws(e))=="string"){if(e==="")throw new ce(Wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w4(t)&&e.indexOf("/")!==-1)throw new ce(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ti.fromString(e));if(!Ee.isDocumentKey(i))throw new ce(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ow(n,new Ee(i))}if(e instanceof Er)return ow(n,e._key);throw new ce(Wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qm(e)}.`)}function Gw(n,t){if(!Array.isArray(n)||n.length===0)throw new ce(Wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function S3(n,t){const e=(function(r,a){for(const l of r)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ce(Wt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ce(Wt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class Zk{convertValue(t,e="none"){switch(wc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(_c(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ke(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return gh(t,((r,a)=>{i[r]=this.convertValue(a,e)})),i}convertVectorValue(t){var e,i,r;const a=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[Tm].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map((l=>Pi(l.doubleValue)));return new vl(a)}convertGeoPoint(t){return new ml(Pi(t.latitude),Pi(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=t0(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(rp(t));default:return null}}convertTimestamp(t){const e=bc(t);return new oi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ti.fromString(t);On(H4(i),9688,{name:t});const r=new sp(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return r.isEqual(e)||uu(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Ig{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vf extends w3{constructor(t,e,i,r,a,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(c0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Wt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=vf._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}vf._jsonSchemaVersion="firestore/documentSnapshot/1.0",vf._jsonSchema={type:Ji("string",vf._jsonSchemaVersion),bundleSource:Ji("string","DocumentSnapshot"),bundleName:Ji("string"),bundle:Ji("string")};class sm extends vf{data(t={}){return super.data(t)}}class yf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ig(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new sm(this._firestore,this._userDataWriter,i.key,i,new Ig(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ce(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const h=new sm(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ig(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new sm(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ig(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:e7(u.type),doc:h,oldIndex:f,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Wt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=yf._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(e.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function e7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}yf._jsonSchemaVersion="firestore/querySnapshot/1.0",yf._jsonSchema={type:Ji("string",yf._jsonSchemaVersion),bundleSource:Ji("string","QuerySnapshot"),bundleName:Ji("string"),bundle:Ji("string")};class n7 extends Zk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Er(this.firestore,null,e)}}function i7(n){n=Sm(n,bh);const t=Sm(n.firestore,fy),e=p3(t),i=new n7(t);return Kk(n._query),Dk(e,n._query).then((r=>new yf(t,i,n,r)))}function A3(n,t){const e=Sm(n.firestore,fy),i=jk(n),r=t7(n.converter,t);return r7(e,[qk(m3(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,su.exists(!1))]).then((()=>i))}function r7(n,t){return(function(i,r){const a=new dc;return i.asyncQueue.enqueueAndForget((async()=>wk(await kk(i),r,a))),a.promise})(p3(n),t)}function E3(){return new my("serverTimestamp")}(function(t,e=!0){(function(r){Ff=r})(Mf),xf(new uh("firestore",((i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new fy(new VL(i.getProvider("auth-internal")),new qL(l,i.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ce(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sp(f.options.projectId,p)})(l,r),l);return a=Object.assign({useFetchStreams:e},a),u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),hc(Y_,$_,t),hc(Y_,$_,"esm2017")})();const J2={apiKey:"AIzaSyDGvGGnB6-lTZCt8wZUAuEmGBBwZDm1ex8",authDomain:"project-11842325-1d93-4033-b88.firebaseapp.com",projectId:"project-11842325-1d93-4033-b88",storageBucket:"project-11842325-1d93-4033-b88.firebasestorage.app",messagingSenderId:"738892776448",appId:"1:738892776448:web:d1f30f76b280de5a2ac4e5"},hu=!!(J2.apiKey&&J2.projectId);let e2=null,Rf=null,f0=null,am=null;hu&&(e2=dA(J2),Rf=OL(e2),f0=Fk(e2),am=new nu,am.addScope("https://www.googleapis.com/auth/drive.file"),am.addScope("https://www.googleapis.com/auth/spreadsheets.readonly"));const wy={uid:"guest",displayName:"Profesor (mod invitat)",email:"guest@corector.app",photoURL:null,isGuest:!0},s7=async()=>{if(!hu)return sessionStorage.setItem("guest_mode","true"),wy;try{const n=await qI(Rf,am),t=n._tokenResponse,e=t==null?void 0:t.oauthAccessToken;return e&&sessionStorage.setItem("google_access_token",e),n.user}catch(n){throw console.error("Eroare la autentificare:",n),n}},a7=()=>(sessionStorage.setItem("guest_mode","true"),wy),o7=async()=>{if(sessionStorage.removeItem("google_access_token"),sessionStorage.removeItem("guest_mode"),hu&&Rf)try{await SI(Rf)}catch(n){console.error("Eroare la deconectare:",n)}},l7=n=>hu&&Rf?(sessionStorage.removeItem("guest_mode"),xI(Rf,n)):sessionStorage.getItem("guest_mode")==="true"?(setTimeout(()=>n(wy),0),()=>{}):(setTimeout(()=>n(null),0),()=>{}),T3=()=>sessionStorage.getItem("google_access_token"),N3=Tt.createContext(null);function u7({children:n}){const[t,e]=Tt.useState(null),[i,r]=Tt.useState(!0);Tt.useEffect(()=>{const h=l7(f=>{e(f),r(!1)});return()=>{typeof h=="function"&&h()}},[]);const a=async()=>{const h=await s7();return hu||e(h),h},l=()=>{const h=a7();return e(h),h},u=async()=>{await o7(),e(null)};return O.jsx(N3.Provider,{value:{user:t,loading:i,login:a,guestLogin:l,signOut:u,isFirebaseConfigured:hu},children:n})}function qf(){const n=Tt.useContext(N3);if(!n)throw new Error("useAuth trebuie folosit n AuthProvider");return n}function c7({children:n}){const{user:t,loading:e}=qf();return e?O.jsxs("div",{className:"loading-container",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Se ncarc..."})]}):t?n:O.jsx(JS,{to:"/login",replace:!0})}function h7({onToggleSidebar:n}){const{user:t,signOut:e}=qf();return O.jsxs("nav",{className:"navbar",children:[O.jsxs("div",{className:"flex items-center gap-md",children:[O.jsxs("button",{className:"hamburger",onClick:n,"aria-label":"Toggle menu",children:[O.jsx("span",{}),O.jsx("span",{}),O.jsx("span",{})]}),O.jsxs(eh,{to:"/",className:"navbar-brand",children:[O.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[O.jsx("defs",{children:O.jsxs("linearGradient",{id:"navGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[O.jsx("stop",{offset:"0%",stopColor:"#1A237E"}),O.jsx("stop",{offset:"100%",stopColor:"#42A5F5"})]})}),O.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#navGrad)"}),O.jsx("text",{x:"50",y:"62",textAnchor:"middle",fill:"white",fontFamily:"Inter,sans-serif",fontSize:"36",fontWeight:"700",children:"C"})]}),"Corector"]})]}),O.jsx("div",{className:"navbar-user",children:t&&O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"text-sm",style:{color:"var(--gray-600)"},children:t.displayName}),t.photoURL&&O.jsx("img",{src:t.photoURL,alt:"Avatar",className:"navbar-avatar",referrerPolicy:"no-referrer"}),O.jsxs("button",{onClick:e,className:"btn btn-ghost btn-sm",children:[O.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),O.jsx("polyline",{points:"16 17 21 12 16 7"}),O.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Ieire"]})]})})]})}function f7({isOpen:n,onClose:t}){return O.jsxs(O.Fragment,{children:[n&&O.jsx("div",{className:"sidebar-overlay",onClick:t,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.3)",zIndex:85,display:"none"}}),O.jsxs("aside",{className:`sidebar ${n?"open":""}`,children:[O.jsx("div",{className:"sidebar-section",children:"Principal"}),O.jsxs(af,{to:"/",end:!0,className:({isActive:e})=>`sidebar-link ${e?"active":""}`,onClick:t,children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),O.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),O.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"}),O.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"})]}),"Panou principal"]}),O.jsx("div",{className:"sidebar-section",children:"Corectare"}),O.jsxs(af,{to:"/corectare",className:({isActive:e})=>`sidebar-link ${e?"active":""}`,onClick:t,children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),O.jsx("polyline",{points:"14 2 14 8 20 8"}),O.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),O.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),O.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Corectare nou"]}),O.jsx("div",{className:"sidebar-section",children:"Elevi"}),O.jsxs(af,{to:"/istoric",className:({isActive:e})=>`sidebar-link ${e?"active":""}`,onClick:t,children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),O.jsx("circle",{cx:"9",cy:"7",r:"4"}),O.jsx("path",{d:"M23 21v-2a4 4 0 00-3-3.87"}),O.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]}),"Istoric elevi"]}),O.jsxs(af,{to:"/statistici",className:({isActive:e})=>`sidebar-link ${e?"active":""}`,onClick:t,children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),O.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),O.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),"Statistici"]}),O.jsx("div",{className:"sidebar-section",style:{marginTop:"auto"},children:"Configurare"}),O.jsxs(af,{to:"/setari",className:({isActive:e})=>`sidebar-link ${e?"active":""}`,onClick:t,children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("circle",{cx:"12",cy:"12",r:"3"}),O.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]}),"Setri"]})]})]})}function d7(){const[n,t]=Tt.useState(!1);return O.jsxs("div",{className:"app-layout",children:[O.jsx(h7,{onToggleSidebar:()=>t(!n)}),O.jsx(f7,{isOpen:n,onClose:()=>t(!1)}),O.jsx("main",{className:"main-content",children:O.jsx(vN,{})})]})}function p7(){const{user:n,login:t,guestLogin:e,loading:i,isFirebaseConfigured:r}=qf();if(i)return O.jsx("div",{className:"login-page",children:O.jsx("div",{className:"loading-container",children:O.jsx("div",{className:"spinner",style:{borderTopColor:"white"}})})});if(n)return O.jsx(JS,{to:"/",replace:!0});const a=async()=>{try{await t()}catch(u){console.error("Eroare autentificare:",u)}},l=()=>{e()};return O.jsx("div",{className:"login-page",children:O.jsxs("div",{className:"login-card",children:[O.jsx("div",{className:"login-logo",children:O.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[O.jsx("defs",{children:O.jsxs("linearGradient",{id:"loginGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[O.jsx("stop",{offset:"0%",stopColor:"#1A237E"}),O.jsx("stop",{offset:"100%",stopColor:"#42A5F5"})]})}),O.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#loginGrad)"}),O.jsx("text",{x:"50",y:"62",textAnchor:"middle",fill:"white",fontFamily:"Inter,sans-serif",fontSize:"36",fontWeight:"700",children:"C"}),O.jsx("path",{d:"M25 72 L40 55 L48 63 L75 32",stroke:"#4CAF50",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.6"})]})}),O.jsx("h1",{children:"Corector"}),O.jsx("p",{children:"Corectare automat a testelor i caietelor elevilor"}),r?O.jsxs("button",{className:"btn-google",onClick:a,children:[O.jsxs("svg",{viewBox:"0 0 24 24",children:[O.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),O.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),O.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),O.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Conectare cu Google"]}):O.jsxs("button",{className:"btn btn-primary btn-lg w-full",onClick:l,style:{padding:"14px 32px",fontSize:"1rem"},children:[O.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),O.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Intr n aplicaie"]}),!r&&O.jsx("div",{style:{marginTop:"var(--space-md)",padding:"var(--space-md)",background:"var(--primary-50)",borderRadius:"var(--radius-md)",border:"1px solid var(--primary-200)"},children:O.jsx("p",{className:"text-sm",style:{color:"var(--primary-800)",textAlign:"center"},children:" Mod demo  Google Sheets & Gemini API sunt active"})}),O.jsxs("div",{style:{marginTop:"var(--space-xl)",color:"var(--gray-400)",fontSize:"0.8rem"},children:[O.jsx("p",{children:"Aplicaie pentru uz colar"}),O.jsx("p",{style:{marginTop:"4px"},children:"Integrat cu workflow n8n"})]})]})})}const g7="1FwOexyQIYXibzeLG0YI3DZUFEBtKqkak1dJIZUwV6wQ",m7="AIzaSyCM-6WSuhGa6dBzqg20VjdtG-lEd-ru0-s",d0=async(n="Sheet1!A:G")=>{try{const t=`https://sheets.googleapis.com/v4/spreadsheets/${g7}/values/${n}?key=${m7}`,e=await fetch(t);if(!e.ok)throw new Error(`Eroare Sheets API: ${e.status}`);const r=(await e.json()).values||[];if(r.length<2)return[];const a=r[0];return r.slice(1).map(l=>{const u={};return a.forEach((h,f)=>{const p=v7(h);let m=l[f]||"";if(p==="greseli"||p==="greseliJson")try{m=JSON.parse(m)}catch{m=[]}p==="punctaj"&&(m=parseFloat(m)||0),u[p]=m}),u})}catch(t){throw console.error("Eroare la citirea Sheets:",t),t}},Ww=async()=>{const n=await d0();return n.length>0?n[n.length-1]:null};function v7(n){return{id:"id","nume elev":"numeElev",clasa:"clasa",data:"data","text ocr":"textOcr","greeli json":"greseliJson","greseli json":"greseliJson",punctaj:"punctaj"}[n.toLowerCase().trim()]||n.toLowerCase().replace(/\s+/g,"_")}const xy={corrections:[],barems:[]},Yw=async n=>{if(!hu){const t="mem_"+Date.now(),e={id:t,...n,createdAt:new Date};return xy.corrections.push(e),{id:t}}return await A3(hy(f0,"corrections"),{...n,createdAt:E3()})},y7=async n=>{if(!hu){const t="mem_"+Date.now();return xy.barems.push({id:t,...n,createdAt:new Date}),{id:t}}return await A3(hy(f0,"barems"),{...n,createdAt:E3()})},b7=async n=>{if(!hu)return xy.barems.filter(i=>i.teacherId===n).sort((i,r)=>r.createdAt-i.createdAt);const t=Xk(hy(f0,"barems"),Qk("teacherId","==",n),Jk("createdAt","desc"));return(await i7(t)).docs.map(i=>({id:i.id,...i.data()}))};function _7(){var f;const{user:n}=qf(),[t,e]=Tt.useState([]),[i,r]=Tt.useState({total:0,today:0,avgScore:0,students:0}),[a,l]=Tt.useState(!0);Tt.useEffect(()=>{u()},[]);const u=async()=>{try{let p=[];try{p=await d0()}catch(C){console.log("Sheets nu este configurat:",C.message)}const m=new Date().toLocaleDateString("ro-RO"),_=p.filter(C=>C.data===m),y=p.filter(C=>C.punctaj>0).map(C=>C.punctaj),S=y.length>0?Math.round(y.reduce((C,E)=>C+E,0)/y.length):0,T=new Set(p.map(C=>C.numeElev)).size;r({total:p.length,today:_.length,avgScore:S,students:T}),e(p.slice(-5).reverse())}catch(p){console.error("Eroare ncrcare dashboard:",p)}finally{l(!1)}},h=()=>{const p=new Date().getHours();return p<12?"Bun dimineaa":p<18?"Bun ziua":"Bun seara"};return a?O.jsxs("div",{className:"loading-container",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Se ncarc datele..."})]}):O.jsxs("div",{className:"dashboard",children:[O.jsxs("div",{className:"page-header",children:[O.jsxs("h1",{children:[" ",h(),", ",((f=n==null?void 0:n.displayName)==null?void 0:f.split(" ")[0])||"Profesor","!"]}),O.jsx("p",{children:"Iat o privire de ansamblu asupra activitii tale de corectare."})]}),O.jsxs("div",{className:"stats-grid",children:[O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon blue",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:i.total}),O.jsx("p",{children:"Total corectri"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon green",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:i.today}),O.jsx("p",{children:"Corectri azi"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon orange",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsxs("h3",{children:[i.avgScore,"%"]}),O.jsx("p",{children:"Punctaj mediu"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon red",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:i.students}),O.jsx("p",{children:"Elevi unici"})]})]})]}),O.jsxs("div",{className:"card",style:{marginBottom:"var(--space-xl)"},children:[O.jsx("div",{className:"card-header",children:O.jsx("h2",{children:" Aciuni rapide"})}),O.jsxs("div",{className:"flex gap-md",style:{flexWrap:"wrap"},children:[O.jsxs(eh,{to:"/corectare",className:"btn btn-primary btn-lg",children:[O.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[O.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),O.jsx("polyline",{points:"14 2 14 8 20 8"}),O.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),O.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]}),"Corectare nou"]}),O.jsxs(eh,{to:"/istoric",className:"btn btn-secondary btn-lg",children:[O.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[O.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),O.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),"Istoric elevi"]})]})]}),O.jsxs("div",{className:"card",children:[O.jsxs("div",{className:"card-header",children:[O.jsx("h2",{children:" Corectri recente"}),O.jsx(eh,{to:"/istoric",className:"btn btn-ghost btn-sm",children:"Vezi toate "})]}),t.length===0?O.jsxs("div",{className:"empty-state",children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[O.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),O.jsx("polyline",{points:"14 2 14 8 20 8"})]}),O.jsx("h3",{children:"Nicio corectare nc"}),O.jsx("p",{children:"ncepe prin a ncrca un test sau caiet."})]}):O.jsx("div",{className:"table-container",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Elev"}),O.jsx("th",{children:"Clas"}),O.jsx("th",{children:"Data"}),O.jsx("th",{children:"Punctaj"}),O.jsx("th",{children:"Status"})]})}),O.jsx("tbody",{children:t.map((p,m)=>O.jsxs("tr",{children:[O.jsx("td",{style:{fontWeight:600},children:p.numeElev||"N/A"}),O.jsx("td",{children:p.clasa||"N/A"}),O.jsx("td",{className:"text-muted",children:p.data||"N/A"}),O.jsx("td",{children:O.jsxs("span",{style:{fontWeight:700,color:p.punctaj>=70?"var(--success-700)":p.punctaj>=50?"var(--warning-700)":"var(--error-700)"},children:[p.punctaj||0,"%"]})}),O.jsx("td",{children:O.jsx("span",{className:`badge ${p.punctaj>=50?"badge-success":"badge-ortografie"}`,children:p.punctaj>=50?" Promovat":" Nepromovat"})})]},m))})]})})]})]})}function w7({onFileSelected:n,uploading:t}){const[e,i]=Tt.useState(null),[r,a]=Tt.useState(!1),l=Tt.useRef(null),u=Tt.useRef(null),h=m=>{if(m){if(!m.type.startsWith("image/")&&m.type!=="application/pdf"){alert("V rugm s selectai o imagine sau un PDF.");return}if(m.type.startsWith("image/")){const _=new FileReader;_.onloadend=()=>i(_.result),_.readAsDataURL(m)}else i(null);n(m)}},f=m=>{m.preventDefault(),a(!1);const _=m.dataTransfer.files[0];h(_)},p=m=>{m.preventDefault(),a(!0)};return O.jsxs("div",{className:"upload-section",children:[O.jsxs("div",{className:`upload-zone ${r?"drag-over":""}`,onDrop:f,onDragOver:p,onDragLeave:()=>a(!1),onClick:()=>{var m;return(m=l.current)==null?void 0:m.click()},children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),O.jsx("polyline",{points:"17 8 12 3 7 8"}),O.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),O.jsx("h3",{children:"ncarc o fotografie sau un document"}),O.jsx("p",{children:"Trage fiierul aici sau apas pentru a selecta"}),O.jsx("p",{className:"text-xs text-muted",style:{marginTop:"8px"},children:"Formate acceptate: JPG, PNG, PDF  Max 10 MB"}),O.jsx("input",{ref:l,type:"file",accept:"image/*,application/pdf",onChange:m=>h(m.target.files[0]),style:{display:"none"}})]}),O.jsxs("div",{className:"flex gap-md",style:{marginTop:"var(--space-md)",justifyContent:"center"},children:[O.jsxs("button",{className:"btn btn-secondary",onClick:()=>{var m;return(m=u.current)==null?void 0:m.click()},disabled:t,children:[O.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z"}),O.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),"Captur camer"]}),O.jsx("input",{ref:u,type:"file",accept:"image/*",capture:"environment",onChange:m=>h(m.target.files[0]),style:{display:"none"}})]}),e&&O.jsx("div",{className:"upload-preview",children:O.jsx("img",{src:e,alt:"Preview"})}),t&&O.jsxs("div",{className:"loading-container",style:{padding:"var(--space-lg)"},children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Se ncarc fiierul n Google Drive..."})]})]})}function x7({onBaremReady:n,savedBarems:t=[]}){const[e,i]=Tt.useState([{answer:"",points:10}]),[r,a]=Tt.useState(""),[l,u]=Tt.useState(!1),h=()=>{i([...e,{answer:"",points:10}])},f=S=>{e.length<=1||i(e.filter((T,C)=>C!==S))},p=(S,T,C)=>{const E=[...e];E[S]={...E[S],[T]:T==="points"?parseFloat(C)||0:C},i(E)},m=e.reduce((S,T)=>S+T.points,0),_=()=>{if(e.some(S=>!S.answer.trim())){alert("Completeaz toate rspunsurile din barem.");return}n({name:r,items:e,totalPoints:m})},y=S=>{i(S.items),a(S.name),u(!1)};return O.jsx("div",{className:"barem-editor",children:O.jsxs("div",{className:"card",style:{marginBottom:"var(--space-lg)"},children:[O.jsxs("div",{className:"card-header",children:[O.jsx("h3",{children:" Barem de corectare"}),t.length>0&&O.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:()=>u(!l),children:[" Bareme salvate (",t.length,")"]})]}),l&&t.length>0&&O.jsx("div",{style:{marginBottom:"var(--space-lg)",padding:"var(--space-md)",background:"var(--gray-50)",borderRadius:"var(--radius-md)"},children:t.map((S,T)=>O.jsxs("div",{className:"flex items-center justify-between",style:{padding:"8px 0",borderBottom:"1px solid var(--gray-200)"},children:[O.jsxs("span",{className:"text-sm",children:[S.name||`Barem ${T+1}`," (",S.items.length," itemi)"]}),O.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>y(S),children:"ncarc"})]},T))}),O.jsxs("div",{className:"input-group",style:{marginBottom:"var(--space-lg)"},children:[O.jsx("label",{children:"Numele baremului (opional)"}),O.jsx("input",{type:"text",className:"input",placeholder:"Ex: Test matematic cl. V",value:r,onChange:S=>a(S.target.value)})]}),O.jsx("div",{className:"barem-items",children:e.map((S,T)=>O.jsxs("div",{className:"barem-item",children:[O.jsx("div",{className:"barem-item-number",children:T+1}),O.jsx("input",{type:"text",className:"input",placeholder:"Rspunsul corect...",value:S.answer,onChange:C=>p(T,"answer",C.target.value)}),O.jsxs("div",{className:"flex items-center gap-xs",children:[O.jsx("input",{type:"number",className:"input",style:{width:"70px",textAlign:"center"},value:S.points,min:"0",onChange:C=>p(T,"points",C.target.value)}),O.jsx("button",{className:"btn btn-icon btn-ghost",onClick:()=>f(T),disabled:e.length<=1,title:"terge item",children:O.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[O.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]},T))}),O.jsxs("div",{className:"flex items-center justify-between",style:{marginTop:"var(--space-lg)"},children:[O.jsxs("button",{className:"btn btn-secondary",onClick:h,children:[O.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[O.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),O.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Adaug item"]}),O.jsxs("div",{className:"flex items-center gap-md",children:[O.jsxs("span",{className:"badge badge-primary",children:["Total: ",m," puncte"]}),O.jsx("button",{className:"btn btn-primary",onClick:_,children:"Aplic baremul"})]})]})]})})}function S7({errors:n=[]}){if(!n||n.length===0)return O.jsxs("div",{className:"empty-state",children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[O.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),O.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),O.jsx("h3",{children:"Nu au fost identificate greeli"}),O.jsx("p",{children:"Textul elevului pare corect! "})]});const t={ortografie:n.filter(i=>i.tip==="ortografie"),gramatica:n.filter(i=>i.tip==="gramatica"),continut:n.filter(i=>i.tip==="continut")},e={ortografie:{label:"Ortografie",icon:"",badge:"badge-ortografie"},gramatica:{label:"Gramatic",icon:"",badge:"badge-gramatica"},continut:{label:"Coninut",icon:"",badge:"badge-continut"}};return O.jsxs("div",{className:"error-feedback",children:[O.jsxs("div",{className:"flex gap-md",style:{marginBottom:"var(--space-lg)",flexWrap:"wrap"},children:[Object.entries(t).map(([i,r])=>r.length>0&&O.jsxs("span",{className:`badge ${e[i].badge}`,children:[e[i].icon," ",e[i].label,": ",r.length]},i)),O.jsxs("span",{className:"badge badge-primary",style:{marginLeft:"auto"},children:["Total: ",n.length," greeli"]})]}),Object.entries(t).map(([i,r])=>r.length>0&&O.jsxs("div",{style:{marginBottom:"var(--space-xl)"},children:[O.jsxs("h3",{style:{marginBottom:"var(--space-md)",display:"flex",alignItems:"center",gap:"8px"},children:[e[i].icon," ",e[i].label,O.jsxs("span",{className:"text-sm text-muted",children:["(",r.length,")"]})]}),O.jsx("div",{className:"error-list",children:r.map((a,l)=>O.jsxs("div",{className:`error-item ${i}`,children:[O.jsxs("div",{className:"error-item-header",children:[O.jsxs("div",{children:[O.jsx("span",{className:"error-wrong",children:a.textGresit}),O.jsx("span",{className:"error-arrow",children:""}),O.jsx("span",{className:"error-correct",children:a.textCorect})]}),O.jsx("span",{className:`badge ${e[i].badge}`,children:e[i].label})]}),a.explicatie&&O.jsxs("p",{className:"error-explanation",children:[" ",a.explicatie]})]},l))})]},i))]})}function A7({score:n,maxScore:t,label:e="Punctaj"}){const[i,r]=Tt.useState(0),a=t>0?Math.round(n/t*100):0;Tt.useEffect(()=>{const m=setTimeout(()=>r(a),100);return()=>clearTimeout(m)},[a]);const l=2*Math.PI*54,u=l-i/100*l,h=m=>m>=75?"var(--success-500)":m>=50?"var(--warning-500)":"var(--error-500)",p=(m=>m>=90?{text:"Excelent",emoji:""}:m>=75?{text:"Foarte bine",emoji:""}:m>=50?{text:"Bine",emoji:""}:m>=30?{text:"Suficient",emoji:""}:{text:"Insuficient",emoji:""})(a);return O.jsxs("div",{className:"score-circle-container",children:[O.jsxs("div",{className:"score-circle",children:[O.jsxs("svg",{viewBox:"0 0 120 120",children:[O.jsx("circle",{cx:"60",cy:"60",r:"54",className:"score-circle-bg"}),O.jsx("circle",{cx:"60",cy:"60",r:"54",className:"score-circle-fill",stroke:h(i),strokeDasharray:l,strokeDashoffset:u})]}),O.jsxs("div",{className:"score-value",children:[O.jsxs("strong",{style:{color:h(i)},children:[a,"%"]}),O.jsxs("span",{children:[n,"/",t]})]})]}),O.jsxs("div",{className:"text-center",children:[O.jsx("p",{style:{fontSize:"1.2rem"},children:p.emoji}),O.jsx("p",{style:{fontWeight:600,color:h(a)},children:p.text}),O.jsx("p",{className:"text-sm text-muted",children:e})]})]})}const Sy=()=>localStorage.getItem("gemini_api_key")||"",$w=n=>localStorage.setItem("gemini_api_key",n),C3=()=>!!Sy(),p0=()=>{const n=Sy();if(!n)throw new Error("Cheia API Gemini nu este configurat. Mergi la Setri pentru a o introduce.");return`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${n}`},E7=async n=>{var e,i,r,a,l;const t=`Eti un profesor exigent de limba romn. Analizeaz FOARTE ATENT urmtorul text scris de un elev i identific TOATE greelile, inclusiv:
- greeli de ortografie (/, diacritice lips, litere greite)
- greeli de punctuaie (virgule lips, puncte lips)
- greeli gramaticale (acorduri greite, timpuri verbale, forme greite)
- greeli de coninut sau exprimare

Fii riguros! Nu ignora nicio greeal, orict de mic.

Pentru fiecare greeal returneaz un obiect JSON cu:
- "tip": una din valorile "ortografie", "gramatica", "continut"
- "textGresit": fragmentul greit exact din text
- "textCorect": varianta corect
- "explicatie": explicaia regulii gramaticale sau ortografice, pe scurt

Dac textul are greeli, returneaz un array JSON cu toate greelile gsite.
Dac textul este ntr-adevr perfect (fr nicio greeal), returneaz un array gol: []

Returneaz DOAR un array JSON valid, fr alte explicaii.

Textul elevului:
"""
${n}
"""`;try{const u=await fetch(p0(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.2,maxOutputTokens:4096}})});if(!u.ok)throw new Error(`Eroare Gemini API: ${u.status}`);const p=(((l=(a=(r=(i=(e=(await u.json()).candidates)==null?void 0:e[0])==null?void 0:i.content)==null?void 0:r.parts)==null?void 0:a[0])==null?void 0:l.text)||"[]").match(/\[[\s\S]*\]/);return p?JSON.parse(p[0]):[]}catch(u){throw console.error("Eroare analiz Gemini:",u),u}},T7=async n=>{var i,r,a,l,u;const t=await R3(n),e=`Eti un profesor exigent de limba romn. Analizeaz FOARTE ATENT textul scris de mn din aceast imagine.

Mai nti, extrage textul complet din imagine (OCR).
Apoi identific TOATE greelile din text:
- greeli de ortografie (/, diacritice lips, litere greite, cuvinte scrise greit)
- greeli de punctuaie (virgule lips, puncte lips)
- greeli gramaticale (acorduri greite, timpuri verbale, forme greite)
- greeli de coninut sau exprimare

Fii foarte riguros! Verific fiecare cuvnt.

Returneaz un obiect JSON cu:
- "textExtras": textul complet extras din imagine
- "greseli": un array de obiecte, fiecare cu:
  - "tip": "ortografie", "gramatica" sau "continut"
  - "textGresit": fragmentul greit exact
  - "textCorect": varianta corect
  - "explicatie": explicaia regulii, pe scurt

Returneaz DOAR JSON valid, fr alte explicaii.`;try{const p=(((u=(l=(a=(r=(i=(await I3({contents:[{parts:[{text:e},{inlineData:{mimeType:"image/jpeg",data:t}}]}],generationConfig:{temperature:.2,maxOutputTokens:4096}})).candidates)==null?void 0:i[0])==null?void 0:r.content)==null?void 0:a.parts)==null?void 0:l[0])==null?void 0:u.text)||"{}").match(/\{[\s\S]*\}/);return p?JSON.parse(p[0]):{textExtras:"",greseli:[]}}catch(h){throw console.error("Eroare analiz imagine Gemini:",h),h}},N7=async(n,t)=>{var a,l,u,h,f;const e=await R3(n),r=`Eti un profesor exigent. Analizeaz textul scris de mn din aceast imagine i compar rspunsurile elevului cu baremul de corectare.

Baremul (rspunsuri corecte):
${t.map((p,m)=>`${m+1}. ${p.answer} (${p.points} puncte)`).join(`
`)}

Mai nti, extrage textul din imagine. Apoi compar fiecare rspuns cu baremul.

Pentru fiecare item din barem, returneaz un obiect JSON cu:
- "itemNr": numrul itemului
- "raspunsElev": ce a rspuns elevul (extras din imagine)
- "raspunsCorect": rspunsul corect din barem
- "puncteObtinute": punctele obinute (poate fi parial)
- "puncteMaxime": punctele maxime posibile
- "corect": true/false/"partial"
- "feedback": o scurt explicaie

Returneaz un obiect JSON cu:
- "textExtras": textul complet extras din imagine
- "items": array-ul de mai sus
- "punctajTotal": suma punctelor obinute
- "punctajMaxim": suma punctelor maxime
- "procentaj": procentajul obinut

Returneaz DOAR JSON valid, fr alte explicaii.`;try{const _=(((f=(h=(u=(l=(a=(await I3({contents:[{parts:[{text:r},{inlineData:{mimeType:"image/jpeg",data:e}}]}],generationConfig:{temperature:.2,maxOutputTokens:4096}})).candidates)==null?void 0:a[0])==null?void 0:l.content)==null?void 0:u.parts)==null?void 0:h[0])==null?void 0:f.text)||"{}").match(/\{[\s\S]*\}/);return _?JSON.parse(_[0]):{textExtras:"",items:[],punctajTotal:0,punctajMaxim:0,procentaj:0}}catch(p){throw console.error("Eroare comparare barem:",p),p}},C7=async n=>{var i,r,a,l,u;const e=`Pe baza urmtoarelor greeli identificate n textul unui elev, genereaz exact 3 exerciii remediale de consolidare.

Greeli identificate:
${n.map(h=>`- Tip: ${h.tip}, Greit: "${h.textGresit}", Corect: "${h.textCorect}"`).join(`
`)}

Pentru fiecare exerciiu returneaz un obiect JSON cu:
- "titlu": titlul exerciiului
- "cerinta": cerina complet a exerciiului
- "tip": tipul greelii vizate ("ortografie", "gramatica" sau "continut")
- "dificultate": "uor", "mediu" sau "avansat"

Exerciiile trebuie s fie potrivite pentru un elev de gimnaziu.
Returneaz DOAR un array JSON valid cu exact 3 obiecte, fr alte explicaii.`;try{const h=await fetch(p0(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}],generationConfig:{temperature:.7,maxOutputTokens:4096}})});if(!h.ok)throw new Error(`Eroare Gemini API: ${h.status}`);const m=(((u=(l=(a=(r=(i=(await h.json()).candidates)==null?void 0:i[0])==null?void 0:r.content)==null?void 0:a.parts)==null?void 0:l[0])==null?void 0:u.text)||"[]").match(/\[[\s\S]*\]/);return m?JSON.parse(m[0]):[]}catch(h){throw console.error("Eroare generare exerciii:",h),h}},R7=async(n,t)=>{var r,a,l,u,h;const e=t.map((f,p)=>`${p+1}. ${f.answer} (${f.points} puncte)`).join(`
`),i=`Compar rspunsurile elevului cu baremul de corectare i calculeaz punctajul.

Textul OCR al elevului:
"""
${n}
"""

Baremul (rspunsuri corecte):
${e}

Pentru fiecare item din barem, returneaz un obiect JSON cu:
- "itemNr": numrul itemului
- "raspunsElev": ce a rspuns elevul (extras din OCR)
- "raspunsCorect": rspunsul corect din barem
- "puncteObtinute": punctele obinute (poate fi parial)
- "puncteMaxime": punctele maxime posibile
- "corect": true/false/partial
- "feedback": o scurt explicaie

Returneaz un obiect JSON cu:
- "items": array-ul de mai sus
- "punctajTotal": suma punctelor obinute
- "punctajMaxim": suma punctelor maxime
- "procentaj": procentajul obinut

Returneaz DOAR JSON valid, fr alte explicaii.`;try{const f=await fetch(p0(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i}]}],generationConfig:{temperature:.2,maxOutputTokens:4096}})});if(!f.ok)throw new Error(`Eroare Gemini API: ${f.status}`);const _=(((h=(u=(l=(a=(r=(await f.json()).candidates)==null?void 0:r[0])==null?void 0:a.content)==null?void 0:l.parts)==null?void 0:u[0])==null?void 0:h.text)||"{}").match(/\{[\s\S]*\}/);return _?JSON.parse(_[0]):{items:[],punctajTotal:0,punctajMaxim:0,procentaj:0}}catch(f){throw console.error("Eroare comparare barem:",f),f}};async function R3(n,t=1600){return new Promise((e,i)=>{const r=new Image,a=URL.createObjectURL(n);r.onload=()=>{URL.revokeObjectURL(a);let{width:l,height:u}=r;if(l>t||u>t){const _=Math.min(t/l,t/u);l=Math.round(l*_),u=Math.round(u*_)}const h=document.createElement("canvas");h.width=l,h.height=u,h.getContext("2d").drawImage(r,0,0,l,u);const m=h.toDataURL("image/jpeg",.8).split(",")[1];e(m)},r.onerror=()=>{URL.revokeObjectURL(a);const l=new FileReader;l.onload=()=>e(l.result.split(",")[1]),l.onerror=i,l.readAsDataURL(n)},r.src=a})}async function I3(n){var e;const t=await fetch(p0(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!t.ok){let i=`Eroare Gemini API: ${t.status}`;try{const r=await t.json();i=((e=r.error)==null?void 0:e.message)||i,console.error("Gemini API error details:",r)}catch{}throw new Error(i)}return await t.json()}function L3({errors:n=[]}){const[t,e]=Tt.useState([]),[i,r]=Tt.useState(!1),[a,l]=Tt.useState(!1),u=async()=>{if(n.length!==0){r(!0);try{const f=await C7(n);e(f),l(!0)}catch(f){console.error("Eroare generare exerciii:",f),alert("Eroare la generarea exerciiilor. Verificai conexiunea.")}finally{r(!1)}}},h={uor:"badge-success",mediu:"badge-gramatica",avansat:"badge-ortografie"};return a?O.jsxs("div",{children:[O.jsx("h3",{style:{marginBottom:"var(--space-lg)",display:"flex",alignItems:"center",gap:"8px"},children:" Exerciii remediale generate"}),t.map((f,p)=>O.jsxs("div",{className:"exercise-card",children:[O.jsxs("h4",{children:[O.jsx("span",{style:{background:"var(--success-600)",color:"white",borderRadius:"var(--radius-full)",width:28,height:28,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem"},children:p+1}),f.titlu]}),O.jsxs("div",{className:"flex gap-sm",style:{marginBottom:"var(--space-sm)"},children:[O.jsx("span",{className:`badge ${h[f.dificultate]||"badge-primary"}`,children:f.dificultate}),O.jsx("span",{className:`badge badge-${f.tip==="ortografie"?"ortografie":f.tip==="gramatica"?"gramatica":"continut"}`,children:f.tip})]}),O.jsx("p",{children:f.cerinta})]},p)),O.jsx("button",{className:"btn btn-secondary",onClick:u,disabled:i,style:{marginTop:"var(--space-md)"},children:i?"Se regenereaz...":" Regenereaz exerciiile"})]}):O.jsxs("div",{className:"card",style:{textAlign:"center"},children:[O.jsx("h3",{style:{marginBottom:"var(--space-md)"},children:" Exerciii remediale"}),O.jsx("p",{className:"text-muted",style:{marginBottom:"var(--space-lg)"},children:"Gemini va genera 3 exerciii personalizate pe baza greelilor identificate."}),O.jsx("button",{className:"btn btn-success btn-lg",onClick:u,disabled:i||n.length===0,children:i?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"spinner",style:{width:20,height:20,borderWidth:2}}),"Se genereaz..."]}):O.jsxs(O.Fragment,{children:[O.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:O.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Genereaz exerciii"]})})]})}const I7="modulepreload",L7=function(n){return"/Corector/"+n},Kw={},Z2=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=l(e.map(f=>{if(f=L7(f),f in Kw)return;Kw[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":I7,p||(_.as="script"),_.crossOrigin="",_.href=f,h&&_.setAttribute("nonce",h),document.head.appendChild(_),p)return new Promise((y,S)=>{_.addEventListener("load",y),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})};function zn(n){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(n)}var us=Uint8Array,pa=Uint16Array,Ay=Int32Array,g0=new us([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m0=new us([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tv=new us([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P3=function(n,t){for(var e=new pa(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new Ay(e[30]),i=1;i<30;++i)for(var a=e[i];a<e[i+1];++a)r[a]=a-e[i]<<5|i;return{b:e,r}},k3=P3(g0,2),O3=k3.b,ev=k3.r;O3[28]=258,ev[258]=28;var D3=P3(m0,0),P7=D3.b,Xw=D3.r,nv=new pa(32768);for(var li=0;li<32768;++li){var $u=(li&43690)>>1|(li&21845)<<1;$u=($u&52428)>>2|($u&13107)<<2,$u=($u&61680)>>4|($u&3855)<<4,nv[li]=(($u&65280)>>8|($u&255)<<8)>>1}var yl=(function(n,t,e){for(var i=n.length,r=0,a=new pa(t);r<i;++r)n[r]&&++a[n[r]-1];var l=new pa(t);for(r=1;r<t;++r)l[r]=l[r-1]+a[r-1]<<1;var u;if(e){u=new pa(1<<t);var h=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],p=t-n[r],m=l[n[r]-1]++<<p,_=m|(1<<p)-1;m<=_;++m)u[nv[m]>>h]=f}else for(u=new pa(i),r=0;r<i;++r)n[r]&&(u[r]=nv[l[n[r]-1]++]>>15-n[r]);return u}),Ac=new us(288);for(var li=0;li<144;++li)Ac[li]=8;for(var li=144;li<256;++li)Ac[li]=9;for(var li=256;li<280;++li)Ac[li]=7;for(var li=280;li<288;++li)Ac[li]=8;var hp=new us(32);for(var li=0;li<32;++li)hp[li]=5;var k7=yl(Ac,9,0),O7=yl(Ac,9,1),D7=yl(hp,5,0),M7=yl(hp,5,1),n2=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},po=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},i2=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},Ey=function(n){return(n+7)/8|0},M3=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new us(n.subarray(t,e))},j7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mo=function(n,t,e){var i=new Error(t||j7[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,mo),!e)throw i;return i},F7=function(n,t,e,i){var r=n.length,a=0;if(!r||t.f&&!t.l)return e||new us(0);var l=!e,u=l||t.i!=2,h=t.i;l&&(e=new us(r*3));var f=function(Kt){var ee=e.length;if(Kt>ee){var ie=new us(Math.max(ee*2,Kt));ie.set(e),e=ie}},p=t.f||0,m=t.p||0,_=t.b||0,y=t.l,S=t.d,T=t.m,C=t.n,E=r*8;do{if(!y){p=po(n,m,1);var D=po(n,m+1,3);if(m+=3,D)if(D==1)y=O7,S=M7,T=9,C=5;else if(D==2){var Z=po(n,m,31)+257,k=po(n,m+10,15)+4,I=Z+po(n,m+5,31)+1;m+=14;for(var B=new us(I),q=new us(19),L=0;L<k;++L)q[tv[L]]=po(n,m+L*3,7);m+=k*3;for(var P=n2(q),z=(1<<P)-1,ot=yl(q,P,1),L=0;L<I;){var mt=ot[po(n,m,z)];m+=mt&15;var j=mt>>4;if(j<16)B[L++]=j;else{var $=0,J=0;for(j==16?(J=3+po(n,m,3),m+=2,$=B[L-1]):j==17?(J=3+po(n,m,7),m+=3):j==18&&(J=11+po(n,m,127),m+=7);J--;)B[L++]=$}}var et=B.subarray(0,Z),ut=B.subarray(Z);T=n2(et),C=n2(ut),y=yl(et,T,1),S=yl(ut,C,1)}else mo(1);else{var j=Ey(m)+4,H=n[j-4]|n[j-3]<<8,K=j+H;if(K>r){h&&mo(0);break}u&&f(_+H),e.set(n.subarray(j,K),_),t.b=_+=H,t.p=m=K*8,t.f=p;continue}if(m>E){h&&mo(0);break}}u&&f(_+131072);for(var pt=(1<<T)-1,tt=(1<<C)-1,M=m;;M=m){var $=y[i2(n,m)&pt],Y=$>>4;if(m+=$&15,m>E){h&&mo(0);break}if($||mo(2),Y<256)e[_++]=Y;else if(Y==256){M=m,y=null;break}else{var nt=Y-254;if(Y>264){var L=Y-257,lt=g0[L];nt=po(n,m,(1<<lt)-1)+O3[L],m+=lt}var ht=S[i2(n,m)&tt],_t=ht>>4;ht||mo(3),m+=ht&15;var ut=P7[_t];if(_t>3){var lt=m0[_t];ut+=i2(n,m)&(1<<lt)-1,m+=lt}if(m>E){h&&mo(0);break}u&&f(_+131072);var Nt=_+nt;if(_<ut){var Rt=a-ut,Qt=Math.min(ut,Nt);for(Rt+_<0&&mo(3);_<Qt;++_)e[_]=i[Rt+_]}for(;_<Nt;++_)e[_]=e[_-ut]}}t.l=y,t.p=M,t.b=_,t.f=p,y&&(p=1,t.m=T,t.d=S,t.n=C)}while(!p);return _!=e.length&&l?M3(e,0,_):e.subarray(0,_)},Ql=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},Td=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},r2=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,a=e.slice();if(!r)return{t:F3,l:0};if(r==1){var l=new us(e[0].s+1);return l[e[0].s]=1,{t:l,l:1}}e.sort(function(K,Z){return K.f-Z.f}),e.push({s:-1,f:25001});var u=e[0],h=e[1],f=0,p=1,m=2;for(e[0]={s:-1,f:u.f+h.f,l:u,r:h};p!=r-1;)u=e[e[f].f<e[m].f?f++:m++],h=e[f!=p&&e[f].f<e[m].f?f++:m++],e[p++]={s:-1,f:u.f+h.f,l:u,r:h};for(var _=a[0].s,i=1;i<r;++i)a[i].s>_&&(_=a[i].s);var y=new pa(_+1),S=iv(e[p-1],y,0);if(S>t){var i=0,T=0,C=S-t,E=1<<C;for(a.sort(function(Z,k){return y[k.s]-y[Z.s]||Z.f-k.f});i<r;++i){var D=a[i].s;if(y[D]>t)T+=E-(1<<S-y[D]),y[D]=t;else break}for(T>>=C;T>0;){var j=a[i].s;y[j]<t?T-=1<<t-y[j]++-1:++i}for(;i>=0&&T;--i){var H=a[i].s;y[H]==t&&(--y[H],++T)}S=t}return{t:new us(y),l:S}},iv=function(n,t,e){return n.s==-1?Math.max(iv(n.l,t,e+1),iv(n.r,t,e+1)):t[n.s]=e},Qw=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new pa(++t),i=0,r=n[0],a=1,l=function(h){e[i++]=h},u=1;u<=t;++u)if(n[u]==r&&u!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(r),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(r);a=1,r=n[u]}return{c:e.subarray(0,i),n:t}},Nd=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},j3=function(n,t,e){var i=e.length,r=Ey(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var a=0;a<i;++a)n[r+a+4]=e[a];return(r+4+i)*8},Jw=function(n,t,e,i,r,a,l,u,h,f,p){Ql(t,p++,e),++r[256];for(var m=r2(r,15),_=m.t,y=m.l,S=r2(a,15),T=S.t,C=S.l,E=Qw(_),D=E.c,j=E.n,H=Qw(T),K=H.c,Z=H.n,k=new pa(19),I=0;I<D.length;++I)++k[D[I]&31];for(var I=0;I<K.length;++I)++k[K[I]&31];for(var B=r2(k,7),q=B.t,L=B.l,P=19;P>4&&!q[tv[P-1]];--P);var z=f+5<<3,ot=Nd(r,Ac)+Nd(a,hp)+l,mt=Nd(r,_)+Nd(a,T)+l+14+3*P+Nd(k,q)+2*k[16]+3*k[17]+7*k[18];if(h>=0&&z<=ot&&z<=mt)return j3(t,p,n.subarray(h,h+f));var $,J,et,ut;if(Ql(t,p,1+(mt<ot)),p+=2,mt<ot){$=yl(_,y,0),J=_,et=yl(T,C,0),ut=T;var pt=yl(q,L,0);Ql(t,p,j-257),Ql(t,p+5,Z-1),Ql(t,p+10,P-4),p+=14;for(var I=0;I<P;++I)Ql(t,p+3*I,q[tv[I]]);p+=3*P;for(var tt=[D,K],M=0;M<2;++M)for(var Y=tt[M],I=0;I<Y.length;++I){var nt=Y[I]&31;Ql(t,p,pt[nt]),p+=q[nt],nt>15&&(Ql(t,p,Y[I]>>5&127),p+=Y[I]>>12)}}else $=k7,J=Ac,et=D7,ut=hp;for(var I=0;I<u;++I){var lt=i[I];if(lt>255){var nt=lt>>18&31;Td(t,p,$[nt+257]),p+=J[nt+257],nt>7&&(Ql(t,p,lt>>23&31),p+=g0[nt]);var ht=lt&31;Td(t,p,et[ht]),p+=ut[ht],ht>3&&(Td(t,p,lt>>5&8191),p+=m0[ht])}else Td(t,p,$[lt]),p+=J[lt]}return Td(t,p,$[256]),p+J[256]},B7=new Ay([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F3=new us(0),V7=function(n,t,e,i,r,a){var l=a.z||n.length,u=new us(i+l+5*(1+Math.ceil(l/7e3))+r),h=u.subarray(i,u.length-r),f=a.l,p=(a.r||0)&7;if(t){p&&(h[0]=a.r>>3);for(var m=B7[t-1],_=m>>13,y=m&8191,S=(1<<e)-1,T=a.p||new pa(32768),C=a.h||new pa(S+1),E=Math.ceil(e/3),D=2*E,j=function(ve){return(n[ve]^n[ve+1]<<E^n[ve+2]<<D)&S},H=new Ay(25e3),K=new pa(288),Z=new pa(32),k=0,I=0,B=a.i||0,q=0,L=a.w||0,P=0;B+2<l;++B){var z=j(B),ot=B&32767,mt=C[z];if(T[ot]=mt,C[z]=ot,L<=B){var $=l-B;if((k>7e3||q>24576)&&($>423||!f)){p=Jw(n,h,0,H,K,Z,I,q,P,B-P,p),q=k=I=0,P=B;for(var J=0;J<286;++J)K[J]=0;for(var J=0;J<30;++J)Z[J]=0}var et=2,ut=0,pt=y,tt=ot-mt&32767;if($>2&&z==j(B-tt))for(var M=Math.min(_,$)-1,Y=Math.min(32767,B),nt=Math.min(258,$);tt<=Y&&--pt&&ot!=mt;){if(n[B+et]==n[B+et-tt]){for(var lt=0;lt<nt&&n[B+lt]==n[B+lt-tt];++lt);if(lt>et){if(et=lt,ut=tt,lt>M)break;for(var ht=Math.min(tt,lt-2),_t=0,J=0;J<ht;++J){var Nt=B-tt+J&32767,Rt=T[Nt],Qt=Nt-Rt&32767;Qt>_t&&(_t=Qt,mt=Nt)}}}ot=mt,mt=T[ot],tt+=ot-mt&32767}if(ut){H[q++]=268435456|ev[et]<<18|Xw[ut];var Kt=ev[et]&31,ee=Xw[ut]&31;I+=g0[Kt]+m0[ee],++K[257+Kt],++Z[ee],L=B+et,++k}else H[q++]=n[B],++K[n[B]]}}for(B=Math.max(B,L);B<l;++B)H[q++]=n[B],++K[n[B]];p=Jw(n,h,f,H,K,Z,I,q,P,B-P,p),f||(a.r=p&7|h[p/8|0]<<3,p-=7,a.h=C,a.p=T,a.i=B,a.w=L)}else{for(var B=a.w||0;B<l+f;B+=65535){var ie=B+65535;ie>=l&&(h[p/8|0]=f,ie=l),p=j3(h,p+1,n.subarray(B,ie))}a.i=l}return M3(u,0,i+Ey(p)+r)},B3=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,a=e.length|0,l=0;l!=a;){for(var u=Math.min(l+2655,a);l<u;++l)r+=i+=e[l];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},z7=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new us(a.length+n.length);l.set(a),l.set(n,a.length),n=l,r.w=a.length}return V7(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)},V3=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},U7=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=B3();r.p(t.dictionary),V3(n,2,r.d())}},q7=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&mo(6,"invalid zlib data"),(n[1]>>5&1)==1&&mo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function rv(n,t){t||(t={});var e=B3();e.p(n);var i=z7(n,t,t.dictionary?6:2,4);return U7(i,t),V3(i,i.length-4,e.d()),i}function H7(n,t){return F7(n.subarray(q7(n),-4),{i:2},t,t)}var G7=typeof TextDecoder<"u"&&new TextDecoder,W7=0;try{G7.decode(F3,{stream:!0}),W7=1}catch{}var Pe=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function s2(){Pe.console&&typeof Pe.console.log=="function"&&Pe.console.log.apply(Pe.console,arguments)}var Qn={log:s2,warn:function(n){Pe.console&&(typeof Pe.console.warn=="function"?Pe.console.warn.apply(Pe.console,arguments):s2.call(null,arguments))},error:function(n){Pe.console&&(typeof Pe.console.error=="function"?Pe.console.error.apply(Pe.console,arguments):s2(n))}};function a2(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Yc(i.response,t,e)},i.onerror=function(){Qn.error("could not download file")},i.send()}function Zw(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Lg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Gd,sv,Yc=Pe.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Pe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Pe.URL||Pe.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?Zw(r.href)?a2(n,t,e):Lg(r,r.target="_blank"):Lg(r)):(r.href=i.createObjectURL(n),setTimeout((function(){i.revokeObjectURL(r.href)}),4e4),setTimeout((function(){Lg(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Zw(n))a2(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout((function(){Lg(i)}))}else navigator.msSaveOrOpenBlob((function(r,a){return a===void 0?a={autoBom:!1}:zn(a)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return a2(n,t,e);var r=n.type==="application/octet-stream",a=/constructor/i.test(Pe.HTMLElement)||Pe.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},u.readAsDataURL(n)}else{var h=Pe.URL||Pe.webkitURL,f=h.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout((function(){h.revokeObjectURL(f)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function z3(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,a=e[i].process,l=r.exec(n);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+u+h+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function o2(n,t){var e=n[0],i=n[1],r=n[2],a=n[3];e=ns(e,i,r,a,t[0],7,-680876936),a=ns(a,e,i,r,t[1],12,-389564586),r=ns(r,a,e,i,t[2],17,606105819),i=ns(i,r,a,e,t[3],22,-1044525330),e=ns(e,i,r,a,t[4],7,-176418897),a=ns(a,e,i,r,t[5],12,1200080426),r=ns(r,a,e,i,t[6],17,-1473231341),i=ns(i,r,a,e,t[7],22,-45705983),e=ns(e,i,r,a,t[8],7,1770035416),a=ns(a,e,i,r,t[9],12,-1958414417),r=ns(r,a,e,i,t[10],17,-42063),i=ns(i,r,a,e,t[11],22,-1990404162),e=ns(e,i,r,a,t[12],7,1804603682),a=ns(a,e,i,r,t[13],12,-40341101),r=ns(r,a,e,i,t[14],17,-1502002290),e=is(e,i=ns(i,r,a,e,t[15],22,1236535329),r,a,t[1],5,-165796510),a=is(a,e,i,r,t[6],9,-1069501632),r=is(r,a,e,i,t[11],14,643717713),i=is(i,r,a,e,t[0],20,-373897302),e=is(e,i,r,a,t[5],5,-701558691),a=is(a,e,i,r,t[10],9,38016083),r=is(r,a,e,i,t[15],14,-660478335),i=is(i,r,a,e,t[4],20,-405537848),e=is(e,i,r,a,t[9],5,568446438),a=is(a,e,i,r,t[14],9,-1019803690),r=is(r,a,e,i,t[3],14,-187363961),i=is(i,r,a,e,t[8],20,1163531501),e=is(e,i,r,a,t[13],5,-1444681467),a=is(a,e,i,r,t[2],9,-51403784),r=is(r,a,e,i,t[7],14,1735328473),e=rs(e,i=is(i,r,a,e,t[12],20,-1926607734),r,a,t[5],4,-378558),a=rs(a,e,i,r,t[8],11,-2022574463),r=rs(r,a,e,i,t[11],16,1839030562),i=rs(i,r,a,e,t[14],23,-35309556),e=rs(e,i,r,a,t[1],4,-1530992060),a=rs(a,e,i,r,t[4],11,1272893353),r=rs(r,a,e,i,t[7],16,-155497632),i=rs(i,r,a,e,t[10],23,-1094730640),e=rs(e,i,r,a,t[13],4,681279174),a=rs(a,e,i,r,t[0],11,-358537222),r=rs(r,a,e,i,t[3],16,-722521979),i=rs(i,r,a,e,t[6],23,76029189),e=rs(e,i,r,a,t[9],4,-640364487),a=rs(a,e,i,r,t[12],11,-421815835),r=rs(r,a,e,i,t[15],16,530742520),e=ss(e,i=rs(i,r,a,e,t[2],23,-995338651),r,a,t[0],6,-198630844),a=ss(a,e,i,r,t[7],10,1126891415),r=ss(r,a,e,i,t[14],15,-1416354905),i=ss(i,r,a,e,t[5],21,-57434055),e=ss(e,i,r,a,t[12],6,1700485571),a=ss(a,e,i,r,t[3],10,-1894986606),r=ss(r,a,e,i,t[10],15,-1051523),i=ss(i,r,a,e,t[1],21,-2054922799),e=ss(e,i,r,a,t[8],6,1873313359),a=ss(a,e,i,r,t[15],10,-30611744),r=ss(r,a,e,i,t[6],15,-1560198380),i=ss(i,r,a,e,t[13],21,1309151649),e=ss(e,i,r,a,t[4],6,-145523070),a=ss(a,e,i,r,t[11],10,-1120210379),r=ss(r,a,e,i,t[2],15,718787259),i=ss(i,r,a,e,t[9],21,-343485551),n[0]=ic(e,n[0]),n[1]=ic(i,n[1]),n[2]=ic(r,n[2]),n[3]=ic(a,n[3])}function v0(n,t,e,i,r,a){return t=ic(ic(t,n),ic(i,a)),ic(t<<r|t>>>32-r,e)}function ns(n,t,e,i,r,a,l){return v0(t&e|~t&i,n,t,r,a,l)}function is(n,t,e,i,r,a,l){return v0(t&i|e&~i,n,t,r,a,l)}function rs(n,t,e,i,r,a,l){return v0(t^e^i,n,t,r,a,l)}function ss(n,t,e,i,r,a,l){return v0(e^(t|~i),n,t,r,a,l)}function U3(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)o2(i,Y7(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(o2(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,o2(i,r),i}function Y7(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}Gd=Pe.atob.bind(Pe),sv=Pe.btoa.bind(Pe);var tx="0123456789abcdef".split("");function $7(n){for(var t="",e=0;e<4;e++)t+=tx[n>>8*e+4&15]+tx[n>>8*e&15];return t}function K7(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function av(n){return U3(n).map(K7).join("")}var X7=(function(n){for(var t=0;t<n.length;t++)n[t]=$7(n[t]);return n.join("")})(U3("hello"))!="5d41402abc4b2a76b9719d911017c592";function ic(n,t){if(X7){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ov(n,t){var e,i,r,a;if(n!==e){for(var l=(r=n,a=1+(256/n.length>>0),new Array(a+1).join(r)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var p=u[h];f=(f+p+l.charCodeAt(h))%256,u[h]=u[f],u[f]=p}e=n,i=u}else u=i;var m=t.length,_=0,y=0,S="";for(h=0;h<m;h++)y=(y+(p=u[_=(_+1)%256]))%256,u[_]=u[y],u[y]=p,l=u[(u[_]+u[y])%256],S+=String.fromCharCode(t.charCodeAt(h)^l);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ex={print:4,modify:8,copy:16,"annot-forms":32};function hf(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach((function(u){if(ex.perm!==void 0)throw new Error("Invalid permission: "+u);r+=ex[u]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),l=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^r)),this.encryptionKey=av(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=ov(this.encryptionKey,this.padding)}function ff(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=n[i]}return t}function nx(n){if(zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[i,!!r],a},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[e]){var l=t[e][a];try{l[0].apply(n,i)}catch(u){Pe.console&&Qn.error("jsPDF PubSub Error",u.message,u)}l[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function fp(n){if(!(this instanceof fp))return new fp(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function q3(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function ec(n,t,e,i,r){if(!(this instanceof ec))return new ec(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,q3.call(this,i,r)}function Jc(n,t,e,i,r){if(!(this instanceof Jc))return new Jc(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,q3.call(this,i,r)}function Ce(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],l=[],u=1,h=16,f="S",p=null;zn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,a=n.compress||n.compressPdf||a,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",e=(""+(e||"P")).toLowerCase();var m=n.putOnlyUsedFonts||!1,_={},y={internal:{},__private__:{}};y.__private__.PubSub=nx;var S="1.3",T=y.__private__.getPdfVersion=function(){return S};y.__private__.setPdfVersion=function(A){S=A};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return C};var E=y.__private__.getPageFormat=function(A){return C[A]};r=r||"a4";var D={COMPAT:"compat",ADVANCED:"advanced"},j=D.COMPAT;function H(){this.saveGraphicsState(),dt(new fe(le,0,0,-le,0,mr()*le).toString()+" cm"),this.setFontSize(this.getFontSize()/le),f="n",j=D.ADVANCED}function K(){this.restoreGraphicsState(),f="S",j=D.COMPAT}var Z=y.__private__.combineFontStyleAndFontWeight=function(A,G){if(A=="bold"&&G=="normal"||A=="bold"&&G==400||A=="normal"&&G=="italic"||A=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(A=G==400||G==="normal"?A==="italic"?"italic":"normal":G!=700&&G!=="bold"||A!=="normal"?(G==700?"bold":G)+""+A:"bold"),A};y.advancedAPI=function(A){var G=j===D.COMPAT;return G&&H.call(this),typeof A!="function"||(A(this),G&&K.call(this)),this},y.compatAPI=function(A){var G=j===D.ADVANCED;return G&&K.call(this),typeof A!="function"||(A(this),G&&H.call(this)),this},y.isAdvancedAPI=function(){return j===D.ADVANCED};var k,I=function(A){if(j!==D.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=y.roundToPrecision=y.__private__.roundToPrecision=function(A,G){var ft=t||G;if(isNaN(A)||isNaN(ft))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ft).replace(/0+$/,"")};k=y.hpf=y.__private__.hpf=typeof h=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,h)}:h==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,16)};var q=y.f2=y.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return B(A,2)},L=y.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return B(A,3)},P=y.scale=y.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return j===D.COMPAT?A*le:j===D.ADVANCED?A:void 0},z=function(A){return j===D.COMPAT?mr()-A:j===D.ADVANCED?A:void 0},ot=function(A){return P(z(A))};y.__private__.setPrecision=y.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var mt,$="00000000000000000000000000000000",J=y.__private__.getFileId=function(){return $},et=y.__private__.setFileId=function(A){return $=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():$.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),p!==null&&(gn=new hf(p.userPermissions,p.userPassword,p.ownerPassword,$)),$};y.setFileId=function(A){return et(A),this},y.getFileId=function(){return J()};var ut=y.__private__.convertDateToPDFDate=function(A){var G=A.getTimezoneOffset(),ft=G<0?"+":"-",vt=Math.floor(Math.abs(G/60)),Et=Math.abs(G%60),Bt=[ft,nt(vt),"'",nt(Et),"'"].join("");return["D:",A.getFullYear(),nt(A.getMonth()+1),nt(A.getDate()),nt(A.getHours()),nt(A.getMinutes()),nt(A.getSeconds()),Bt].join("")},pt=y.__private__.convertPDFDateToDate=function(A){var G=parseInt(A.substr(2,4),10),ft=parseInt(A.substr(6,2),10)-1,vt=parseInt(A.substr(8,2),10),Et=parseInt(A.substr(10,2),10),Bt=parseInt(A.substr(12,2),10),Xt=parseInt(A.substr(14,2),10);return new Date(G,ft,vt,Et,Bt,Xt,0)},tt=y.__private__.setCreationDate=function(A){var G;if(A===void 0&&(A=new Date),A instanceof Date)G=ut(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=A}return mt=G},M=y.__private__.getCreationDate=function(A){var G=mt;return A==="jsDate"&&(G=pt(mt)),G};y.setCreationDate=function(A){return tt(A),this},y.getCreationDate=function(A){return M(A)};var Y,nt=y.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},lt=y.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ht=0,_t=[],Nt=[],Rt=0,Qt=[],Kt=[],ee=!1,ie=Nt,ve=function(){ht=0,Rt=0,Nt=[],_t=[],Qt=[],Fi=Jn(),bn=Jn()};y.__private__.setCustomOutputDestination=function(A){ee=!0,ie=A};var Ft=function(A){ee||(ie=A)};y.__private__.resetCustomOutputDestination=function(){ee=!1,ie=Nt};var dt=y.__private__.out=function(A){return A=A.toString(),Rt+=A.length+1,ie.push(A),ie},Oe=y.__private__.write=function(A){return dt(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},de=y.__private__.getArrayBuffer=function(A){for(var G=A.length,ft=new ArrayBuffer(G),vt=new Uint8Array(ft);G--;)vt[G]=A.charCodeAt(G);return ft},Zt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Zt};var te=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(A){return te=j===D.ADVANCED?A/le:A,this};var ae,oe=y.__private__.getFontSize=y.getFontSize=function(){return j===D.COMPAT?te:te*le},ye=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(A){return ye=A,this},y.__private__.getR2L=y.getR2L=function(){return ye};var me,Fe=y.__private__.setZoomMode=function(A){var G=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ae=A;else if(isNaN(A)){if(G.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ae=A}else ae=parseInt(A,10)};y.__private__.getZoomMode=function(){return ae};var _e,Te=y.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');me=A};y.__private__.getPageMode=function(){return me};var tn=y.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');_e=A};y.__private__.getLayoutMode=function(){return _e},y.__private__.setDisplayMode=y.setDisplayMode=function(A,G,ft){return Fe(A),tn(G),Te(ft),this};var Ne={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(A){if(Object.keys(Ne).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ne[A]},y.__private__.getDocumentProperties=function(){return Ne},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(A){for(var G in Ne)Ne.hasOwnProperty(G)&&A[G]&&(Ne[G]=A[G]);return this},y.__private__.setDocumentProperty=function(A,G){if(Object.keys(Ne).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ne[A]=G};var Ge,le,ui,We,Un,$e={},Ke={},As=[],ln={},va={},Ln={},Ei={},dr=null,yn=0,xe=[],Qe=new nx(y),Es=n.hotfixes||[],yi={},ji={},Zi=[],fe=function A(G,ft,vt,Et,Bt,Xt){if(!(this instanceof A))return new A(G,ft,vt,Et,Bt,Xt);isNaN(G)&&(G=1),isNaN(ft)&&(ft=0),isNaN(vt)&&(vt=0),isNaN(Et)&&(Et=1),isNaN(Bt)&&(Bt=0),isNaN(Xt)&&(Xt=0),this._matrix=[G,ft,vt,Et,Bt,Xt]};Object.defineProperty(fe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(fe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(fe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(fe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(fe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(fe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(fe.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(fe.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(fe.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(fe.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(fe.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(fe.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(fe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(fe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(fe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(fe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),fe.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(A)},fe.prototype.multiply=function(A){var G=A.sx*this.sx+A.shy*this.shx,ft=A.sx*this.shy+A.shy*this.sy,vt=A.shx*this.sx+A.sy*this.shx,Et=A.shx*this.shy+A.sy*this.sy,Bt=A.tx*this.sx+A.ty*this.shx+this.tx,Xt=A.tx*this.shy+A.ty*this.sy+this.ty;return new fe(G,ft,vt,Et,Bt,Xt)},fe.prototype.decompose=function(){var A=this.sx,G=this.shy,ft=this.shx,vt=this.sy,Et=this.tx,Bt=this.ty,Xt=Math.sqrt(A*A+G*G),se=(A/=Xt)*ft+(G/=Xt)*vt;ft-=A*se,vt-=G*se;var v=Math.sqrt(ft*ft+vt*vt);return se/=v,A*(vt/=v)<G*(ft/=v)&&(A=-A,G=-G,se=-se,Xt=-Xt),{scale:new fe(Xt,0,0,v,0,0),translate:new fe(1,0,0,1,Et,Bt),rotate:new fe(A,G,-G,A,0,0),skew:new fe(1,0,se,1,0,0)}},fe.prototype.toString=function(A){return this.join(" ")},fe.prototype.inversed=function(){var A=this.sx,G=this.shy,ft=this.shx,vt=this.sy,Et=this.tx,Bt=this.ty,Xt=1/(A*vt-G*ft),se=vt*Xt,v=-G*Xt,R=-ft*Xt,V=A*Xt;return new fe(se,v,R,V,-se*Et-R*Bt,-v*Et-V*Bt)},fe.prototype.applyToPoint=function(A){var G=A.x*this.sx+A.y*this.shx+this.tx,ft=A.x*this.shy+A.y*this.sy+this.ty;return new Ta(G,ft)},fe.prototype.applyToRectangle=function(A){var G=this.applyToPoint(A),ft=this.applyToPoint(new Ta(A.x+A.w,A.y+A.h));return new Mo(G.x,G.y,ft.x-G.x,ft.y-G.y)},fe.prototype.clone=function(){var A=this.sx,G=this.shy,ft=this.shx,vt=this.sy,Et=this.tx,Bt=this.ty;return new fe(A,G,ft,vt,Et,Bt)},y.Matrix=fe;var Nr=y.matrixMult=function(A,G){return G.multiply(A)},tr=new fe(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=tr;var bi=function(A,G){if(!va[A]){var ft=(G instanceof ec?"Sh":"P")+(Object.keys(ln).length+1).toString(10);G.id=ft,va[A]=ft,ln[ft]=G,Qe.publish("addPattern",G)}};y.ShadingPattern=ec,y.TilingPattern=Jc,y.addShadingPattern=function(A,G){return I("addShadingPattern()"),bi(A,G),this},y.beginTilingPattern=function(A){I("beginTilingPattern()"),jo(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},y.endTilingPattern=function(A,G){I("endTilingPattern()"),G.stream=Kt[Y].join(`
`),bi(A,G),Qe.publish("endTilingPattern",G),Zi.pop().restore()};var ei=y.__private__.newObject=function(){var A=Jn();return _i(A,!0),A},Jn=y.__private__.newObjectDeferred=function(){return ht++,_t[ht]=function(){return Rt},ht},_i=function(A,G){return G=typeof G=="boolean"&&G,_t[A]=Rt,G&&dt(A+" 0 obj"),A},Ua=y.__private__.newAdditionalObject=function(){var A={objId:Jn(),content:""};return Qt.push(A),A},Fi=Jn(),bn=Jn(),Dn=y.__private__.decodeColorString=function(A){var G=A.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length===5&&(G[4]==="k"||G[4]==="K")&&(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var ft=parseFloat(G[0]);G=[ft,ft,ft,"r"]}for(var vt="#",Et=0;Et<3;Et++)vt+=("0"+Math.floor(255*parseFloat(G[Et])).toString(16)).slice(-2);return vt},Ti=y.__private__.encodeColorString=function(A){var G;typeof A=="string"&&(A={ch1:A});var ft=A.ch1,vt=A.ch2,Et=A.ch3,Bt=A.ch4,Xt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ft=="string"&&ft.charAt(0)!=="#"){var se=new z3(ft);if(se.ok)ft=se.toHex();else if(!/^\d*\.?\d*$/.test(ft))throw new Error('Invalid color "'+ft+'" passed to jsPDF.encodeColorString.')}if(typeof ft=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ft)&&(ft="#"+ft[1]+ft[1]+ft[2]+ft[2]+ft[3]+ft[3]),typeof ft=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ft)){var v=parseInt(ft.substr(1),16);ft=v>>16&255,vt=v>>8&255,Et=255&v}if(vt===void 0||Bt===void 0&&ft===vt&&vt===Et)if(typeof ft=="string")G=ft+" "+Xt[0];else switch(A.precision){case 2:G=q(ft/255)+" "+Xt[0];break;case 3:default:G=L(ft/255)+" "+Xt[0]}else if(Bt===void 0||zn(Bt)==="object"){if(Bt&&!isNaN(Bt.a)&&Bt.a===0)return G=["1.","1.","1.",Xt[1]].join(" ");if(typeof ft=="string")G=[ft,vt,Et,Xt[1]].join(" ");else switch(A.precision){case 2:G=[q(ft/255),q(vt/255),q(Et/255),Xt[1]].join(" ");break;default:case 3:G=[L(ft/255),L(vt/255),L(Et/255),Xt[1]].join(" ")}}else if(typeof ft=="string")G=[ft,vt,Et,Bt,Xt[2]].join(" ");else switch(A.precision){case 2:G=[q(ft),q(vt),q(Et),q(Bt),Xt[2]].join(" ");break;case 3:default:G=[L(ft),L(vt),L(Et),L(Bt),Xt[2]].join(" ")}return G},er=y.__private__.getFilters=function(){return l},wi=y.__private__.putStream=function(A){var G=(A=A||{}).data||"",ft=A.filters||er(),vt=A.alreadyAppliedFilters||[],Et=A.addLength1||!1,Bt=G.length,Xt=A.objectId,se=function(De){return De};if(p!==null&&Xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(se=gn.encryptor(Xt,0));var v={};ft===!0&&(ft=["FlateEncode"]);var R=A.additionalKeyValues||[],V=(v=Ce.API.processDataByFilters!==void 0?Ce.API.processDataByFilters(G,ft):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(vt)?vt.join(" "):vt.toString());if(v.data.length!==0&&(R.push({key:"Length",value:v.data.length}),Et===!0&&R.push({key:"Length1",value:Bt})),V.length!=0)if(V.split("/").length-1==1)R.push({key:"Filter",value:V});else{R.push({key:"Filter",value:"["+V+"]"});for(var rt=0;rt<R.length;rt+=1)if(R[rt].key==="DecodeParms"){for(var St=[],Pt=0;Pt<v.reverseChain.split("/").length-1;Pt+=1)St.push("null");St.push(R[rt].value),R[rt].value="["+St.join(" ")+"]"}}dt("<<");for(var Jt=0;Jt<R.length;Jt++)dt("/"+R[Jt].key+" "+R[Jt].value);dt(">>"),v.data.length!==0&&(dt("stream"),dt(se(v.data)),dt("endstream"))},ds=y.__private__.putPage=function(A){var G=A.number,ft=A.data,vt=A.objId,Et=A.contentsObjId;_i(vt,!0),dt("<</Type /Page"),dt("/Parent "+A.rootDictionaryObjId+" 0 R"),dt("/Resources "+A.resourceDictionaryObjId+" 0 R"),dt("/MediaBox ["+parseFloat(k(A.mediaBox.bottomLeftX))+" "+parseFloat(k(A.mediaBox.bottomLeftY))+" "+k(A.mediaBox.topRightX)+" "+k(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&dt("/CropBox ["+k(A.cropBox.bottomLeftX)+" "+k(A.cropBox.bottomLeftY)+" "+k(A.cropBox.topRightX)+" "+k(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&dt("/BleedBox ["+k(A.bleedBox.bottomLeftX)+" "+k(A.bleedBox.bottomLeftY)+" "+k(A.bleedBox.topRightX)+" "+k(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&dt("/TrimBox ["+k(A.trimBox.bottomLeftX)+" "+k(A.trimBox.bottomLeftY)+" "+k(A.trimBox.topRightX)+" "+k(A.trimBox.topRightY)+"]"),A.artBox!==null&&dt("/ArtBox ["+k(A.artBox.bottomLeftX)+" "+k(A.artBox.bottomLeftY)+" "+k(A.artBox.topRightX)+" "+k(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&dt("/UserUnit "+A.userUnit),Qe.publish("putPage",{objId:vt,pageContext:xe[G],pageNumber:G,page:ft}),dt("/Contents "+Et+" 0 R"),dt(">>"),dt("endobj");var Bt=ft.join(`
`);return j===D.ADVANCED&&(Bt+=`
Q`),_i(Et,!0),wi({data:Bt,filters:er(),objectId:Et}),dt("endobj"),vt},$s=y.__private__.putPages=function(){var A,G,ft=[];for(A=1;A<=yn;A++)xe[A].objId=Jn(),xe[A].contentsObjId=Jn();for(A=1;A<=yn;A++)ft.push(ds({number:A,data:Kt[A],objId:xe[A].objId,contentsObjId:xe[A].contentsObjId,mediaBox:xe[A].mediaBox,cropBox:xe[A].cropBox,bleedBox:xe[A].bleedBox,trimBox:xe[A].trimBox,artBox:xe[A].artBox,userUnit:xe[A].userUnit,rootDictionaryObjId:Fi,resourceDictionaryObjId:bn}));_i(Fi,!0),dt("<</Type /Pages");var vt="/Kids [";for(G=0;G<yn;G++)vt+=ft[G]+" 0 R ";dt(vt+"]"),dt("/Count "+yn),dt(">>"),dt("endobj"),Qe.publish("postPutPages")},zr=function(A){Qe.publish("putFont",{font:A,out:dt,newObject:ei,putStream:wi}),A.isAlreadyPutted!==!0&&(A.objectNumber=ei(),dt("<<"),dt("/Type /Font"),dt("/BaseFont /"+ff(A.postScriptName)),dt("/Subtype /Type1"),typeof A.encoding=="string"&&dt("/Encoding /"+A.encoding),dt("/FirstChar 32"),dt("/LastChar 255"),dt(">>"),dt("endobj"))},Ts=function(){for(var A in $e)$e.hasOwnProperty(A)&&(m===!1||m===!0&&_.hasOwnProperty(A))&&zr($e[A])},Ur=function(A){A.objectNumber=ei();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[k(A.x),k(A.y),k(A.x+A.width),k(A.y+A.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ft=A.pages[1].join(`
`);wi({data:ft,additionalKeyValues:G,objectId:A.objectNumber}),dt("endobj")},qr=function(){for(var A in yi)yi.hasOwnProperty(A)&&Ur(yi[A])},ya=function(A,G){var ft,vt=[],Et=1/(G-1);for(ft=0;ft<1;ft+=Et)vt.push(ft);if(vt.push(1),A[0].offset!=0){var Bt={offset:0,color:A[0].color};A.unshift(Bt)}if(A[A.length-1].offset!=1){var Xt={offset:1,color:A[A.length-1].color};A.push(Xt)}for(var se="",v=0,R=0;R<vt.length;R++){for(ft=vt[R];ft>A[v+1].offset;)v++;var V=A[v].offset,rt=(ft-V)/(A[v+1].offset-V),St=A[v].color,Pt=A[v+1].color;se+=lt(Math.round((1-rt)*St[0]+rt*Pt[0]).toString(16))+lt(Math.round((1-rt)*St[1]+rt*Pt[1]).toString(16))+lt(Math.round((1-rt)*St[2]+rt*Pt[2]).toString(16))}return se.trim()},ps=function(A,G){G||(G=21);var ft=ei(),vt=ya(A.colors,G),Et=[];Et.push({key:"FunctionType",value:"0"}),Et.push({key:"Domain",value:"[0.0 1.0]"}),Et.push({key:"Size",value:"["+G+"]"}),Et.push({key:"BitsPerSample",value:"8"}),Et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wi({data:vt,additionalKeyValues:Et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ft}),dt("endobj"),A.objectNumber=ei(),dt("<< /ShadingType "+A.type),dt("/ColorSpace /DeviceRGB");var Bt="/Coords ["+k(parseFloat(A.coords[0]))+" "+k(parseFloat(A.coords[1]))+" ";A.type===2?Bt+=k(parseFloat(A.coords[2]))+" "+k(parseFloat(A.coords[3])):Bt+=k(parseFloat(A.coords[2]))+" "+k(parseFloat(A.coords[3]))+" "+k(parseFloat(A.coords[4]))+" "+k(parseFloat(A.coords[5])),dt(Bt+="]"),A.matrix&&dt("/Matrix ["+A.matrix.toString()+"]"),dt("/Function "+ft+" 0 R"),dt("/Extend [true true]"),dt(">>"),dt("endobj")},ni=function(A,G){var ft=Jn(),vt=ei();G.push({resourcesOid:ft,objectOid:vt}),A.objectNumber=vt;var Et=[];Et.push({key:"Type",value:"/Pattern"}),Et.push({key:"PatternType",value:"1"}),Et.push({key:"PaintType",value:"1"}),Et.push({key:"TilingType",value:"1"}),Et.push({key:"BBox",value:"["+A.boundingBox.map(k).join(" ")+"]"}),Et.push({key:"XStep",value:k(A.xStep)}),Et.push({key:"YStep",value:k(A.yStep)}),Et.push({key:"Resources",value:ft+" 0 R"}),A.matrix&&Et.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),wi({data:A.stream,additionalKeyValues:Et,objectId:A.objectNumber}),dt("endobj")},Ks=function(A){var G;for(G in ln)ln.hasOwnProperty(G)&&(ln[G]instanceof ec?ps(ln[G]):ln[G]instanceof Jc&&ni(ln[G],A))},Xs=function(A){for(var G in A.objectNumber=ei(),dt("<<"),A)switch(G){case"opacity":dt("/ca "+q(A[G]));break;case"stroke-opacity":dt("/CA "+q(A[G]))}dt(">>"),dt("endobj")},nr=function(){var A;for(A in Ln)Ln.hasOwnProperty(A)&&Xs(Ln[A])},Hr=function(){for(var A in dt("/XObject <<"),yi)yi.hasOwnProperty(A)&&yi[A].objectNumber>=0&&dt("/"+A+" "+yi[A].objectNumber+" 0 R");Qe.publish("putXobjectDict"),dt(">>")},Nc=function(){gn.oid=ei(),dt("<<"),dt("/Filter /Standard"),dt("/V "+gn.v),dt("/R "+gn.r),dt("/U <"+gn.toHexString(gn.U)+">"),dt("/O <"+gn.toHexString(gn.O)+">"),dt("/P "+gn.P),dt(">>"),dt("endobj")},No=function(){for(var A in dt("/Font <<"),$e)$e.hasOwnProperty(A)&&(m===!1||m===!0&&_.hasOwnProperty(A))&&dt("/"+A+" "+$e[A].objectNumber+" 0 R");dt(">>")},Al=function(){if(Object.keys(ln).length>0){for(var A in dt("/Shading <<"),ln)ln.hasOwnProperty(A)&&ln[A]instanceof ec&&ln[A].objectNumber>=0&&dt("/"+A+" "+ln[A].objectNumber+" 0 R");Qe.publish("putShadingPatternDict"),dt(">>")}},qa=function(A){if(Object.keys(ln).length>0){for(var G in dt("/Pattern <<"),ln)ln.hasOwnProperty(G)&&ln[G]instanceof y.TilingPattern&&ln[G].objectNumber>=0&&ln[G].objectNumber<A&&dt("/"+G+" "+ln[G].objectNumber+" 0 R");Qe.publish("putTilingPatternDict"),dt(">>")}},ba=function(){if(Object.keys(Ln).length>0){var A;for(A in dt("/ExtGState <<"),Ln)Ln.hasOwnProperty(A)&&Ln[A].objectNumber>=0&&dt("/"+A+" "+Ln[A].objectNumber+" 0 R");Qe.publish("putGStateDict"),dt(">>")}},Pn=function(A){_i(A.resourcesOid,!0),dt("<<"),dt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),No(),Al(),qa(A.objectOid),ba(),Hr(),dt(">>"),dt("endobj")},Cr=function(){var A=[];Ts(),nr(),qr(),Ks(A),Qe.publish("putResources"),A.forEach(Pn),Pn({resourcesOid:bn,objectOid:Number.MAX_SAFE_INTEGER}),Qe.publish("postPutResources")},Bi=function(){Qe.publish("putAdditionalObjects");for(var A=0;A<Qt.length;A++){var G=Qt[A];_i(G.objId,!0),dt(G.content),dt("endobj")}Qe.publish("postPutAdditionalObjects")},El=function(A){Ke[A.fontName]=Ke[A.fontName]||{},Ke[A.fontName][A.fontStyle]=A.id},Tl=function(A,G,ft,vt,Et){var Bt={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:A,fontName:G,fontStyle:ft,encoding:vt,isStandardFont:Et||!1,metadata:{}};return Qe.publish("addFont",{font:Bt,instance:this}),$e[Bt.id]=Bt,El(Bt),Bt.id},Co=function(A){for(var G=0,ft=Zt.length;G<ft;G++){var vt=Tl.call(this,A[G][0],A[G][1],A[G][2],Zt[G][3],!0);m===!1&&(_[vt]=!0);var Et=A[G][0].split("-");El({id:vt,fontName:Et[0],fontStyle:Et[1]||""})}Qe.publish("addFonts",{fonts:$e,dictionary:Ke})},Rr=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(vt){var G=vt.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var ft="Error in function "+G.split(`
`)[0].split("<")[0]+": "+vt.message;if(!Pe.console)throw new Error(ft);Pe.console.error(ft,vt),Pe.alert&&alert(ft)}},A.foo.bar=A,A.foo},Qs=function(A,G){var ft,vt,Et,Bt,Xt,se,v,R,V;if(Et=(G=G||{}).sourceEncoding||"Unicode",Xt=G.outputEncoding,(G.autoencode||Xt)&&$e[Ge].metadata&&$e[Ge].metadata[Et]&&$e[Ge].metadata[Et].encoding&&(Bt=$e[Ge].metadata[Et].encoding,!Xt&&$e[Ge].encoding&&(Xt=$e[Ge].encoding),!Xt&&Bt.codePages&&(Xt=Bt.codePages[0]),typeof Xt=="string"&&(Xt=Bt[Xt]),Xt)){for(v=!1,se=[],ft=0,vt=A.length;ft<vt;ft++)(R=Xt[A.charCodeAt(ft)])?se.push(String.fromCharCode(R)):se.push(A[ft]),se[ft].charCodeAt(0)>>8&&(v=!0);A=se.join("")}for(ft=A.length;v===void 0&&ft!==0;)A.charCodeAt(ft-1)>>8&&(v=!0),ft--;if(!v)return A;for(se=G.noBOM?[]:[254,255],ft=0,vt=A.length;ft<vt;ft++){if((V=(R=A.charCodeAt(ft))>>8)>>8)throw new Error("Character at position "+ft+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");se.push(V),se.push(R-(V<<8))}return String.fromCharCode.apply(void 0,se)},ci=y.__private__.pdfEscape=y.pdfEscape=function(A,G){return Qs(A,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qn=y.__private__.beginPage=function(A){Kt[++yn]=[],xe[yn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Ga(yn),Ft(Kt[Y])},Js=function(A,G){var ft,vt,Et;switch(e=G||e,typeof A=="string"&&(ft=E(A.toLowerCase()),Array.isArray(ft)&&(vt=ft[0],Et=ft[1])),Array.isArray(A)&&(vt=A[0]*le,Et=A[1]*le),isNaN(vt)&&(vt=r[0],Et=r[1]),(vt>14400||Et>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),vt=Math.min(14400,vt),Et=Math.min(14400,Et)),r=[vt,Et],e.substr(0,1)){case"l":Et>vt&&(r=[Et,vt]);break;case"p":vt>Et&&(r=[Et,vt])}qn(r),Sa(Ni),dt(rr),Il!==0&&dt(Il+" J"),Do!==0&&dt(Do+" j"),Qe.publish("addPage",{pageNumber:yn})},Ha=function(A){A>0&&A<=yn&&(Kt.splice(A,1),xe.splice(A,1),yn--,Y>yn&&(Y=yn),this.setPage(Y))},Ga=function(A){A>0&&A<=yn&&(Y=A)},un=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Kt.length-1},_a=function(A,G,ft){var vt,Et=void 0;return ft=ft||{},A=A!==void 0?A:$e[Ge].fontName,G=G!==void 0?G:$e[Ge].fontStyle,vt=A.toLowerCase(),Ke[vt]!==void 0&&Ke[vt][G]!==void 0?Et=Ke[vt][G]:Ke[A]!==void 0&&Ke[A][G]!==void 0?Et=Ke[A][G]:ft.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+A+"', '"+G+"'. Refer to getFontList() for available fonts."),Et||ft.noFallback||(Et=Ke.times[G])==null&&(Et=Ke.times.normal),Et},wa=y.__private__.putInfo=function(){var A=ei(),G=function(vt){return vt};for(var ft in p!==null&&(G=gn.encryptor(A,0)),dt("<<"),dt("/Producer ("+ci(G("jsPDF "+Ce.version))+")"),Ne)Ne.hasOwnProperty(ft)&&Ne[ft]&&dt("/"+ft.substr(0,1).toUpperCase()+ft.substr(1)+" ("+ci(G(Ne[ft]))+")");dt("/CreationDate ("+ci(G(mt))+")"),dt(">>"),dt("endobj")},pr=y.__private__.putCatalog=function(A){var G=(A=A||{}).rootDictionaryObjId||Fi;switch(ei(),dt("<<"),dt("/Type /Catalog"),dt("/Pages "+G+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":dt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":dt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":dt("/OpenAction [3 0 R /Fit]");break;case"original":dt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ft=""+ae;ft.substr(ft.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&dt("/OpenAction [3 0 R /XYZ null null "+q(ae)+"]")}switch(_e||(_e="continuous"),_e){case"continuous":dt("/PageLayout /OneColumn");break;case"single":dt("/PageLayout /SinglePage");break;case"two":case"twoleft":dt("/PageLayout /TwoColumnLeft");break;case"tworight":dt("/PageLayout /TwoColumnRight")}me&&dt("/PageMode /"+me),Qe.publish("putCatalog"),dt(">>"),dt("endobj")},Cc=y.__private__.putTrailer=function(){dt("trailer"),dt("<<"),dt("/Size "+(ht+1)),dt("/Root "+ht+" 0 R"),dt("/Info "+(ht-1)+" 0 R"),p!==null&&dt("/Encrypt "+gn.oid+" 0 R"),dt("/ID [ <"+$+"> <"+$+"> ]"),dt(">>")},Nl=y.__private__.putHeader=function(){dt("%PDF-"+S),dt("%")},pu=y.__private__.putXRef=function(){var A="0000000000";dt("xref"),dt("0 "+(ht+1)),dt("0000000000 65535 f ");for(var G=1;G<=ht;G++)typeof _t[G]=="function"?dt((A+_t[G]()).slice(-10)+" 00000 n "):_t[G]!==void 0?dt((A+_t[G]).slice(-10)+" 00000 n "):dt("0000000000 00000 n ")},gs=y.__private__.buildDocument=function(){ve(),Ft(Nt),Qe.publish("buildDocument"),Nl(),$s(),Bi(),Cr(),p!==null&&Nc(),wa(),pr();var A=Rt;return pu(),Cc(),dt("startxref"),dt(""+A),dt("%%EOF"),Ft(Kt[Y]),Nt.join(`
`)},Ro=y.__private__.getBlob=function(A){return new Blob([de(A)],{type:"application/pdf"})},Io=y.output=y.__private__.output=Rr((function(A,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",A){case void 0:return gs();case"save":y.save(G.filename);break;case"arraybuffer":return de(gs());case"blob":return Ro(gs());case"bloburi":case"bloburl":if(Pe.URL!==void 0&&typeof Pe.URL.createObjectURL=="function")return Pe.URL&&Pe.URL.createObjectURL(Ro(gs()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ft="",vt=gs();try{ft=sv(vt)}catch{ft=sv(unescape(encodeURIComponent(vt)))}return"data:application/pdf;filename="+G.filename+";base64,"+ft;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pe)==="[object Window]"){var Et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Et=G.pdfObjectUrl,Bt="");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Et+'"'+Bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",se=Pe.open();return se!==null&&se.document.write(Xt),se}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pe)==="[object Window]"){var v='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',R=Pe.open();if(R!==null){R.document.write(v);var V=this;R.document.documentElement.querySelector("#pdfViewer").onload=function(){R.document.title=G.filename,R.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(V.output("bloburl"))}}return R}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',St=Pe.open();if(St!==null&&(St.document.write(rt),St.document.title=G.filename),St||typeof safari>"u")return St;break;case"datauri":case"dataurl":return Pe.document.location.href=this.output("datauristring",G);default:return null}})),ms=function(A){return Array.isArray(Es)===!0&&Es.indexOf(A)>-1};switch(i){case"pt":le=1;break;case"mm":le=72/25.4;break;case"cm":le=72/2.54;break;case"in":le=72;break;case"px":le=ms("px_scaling")==1?.75:96/72;break;case"pc":case"em":le=12;break;case"ex":le=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);le=i}var gn=null;tt(),et();var Lo=function(A){return p!==null?gn.encryptor(A,0):function(G){return G}},Wa=y.__private__.getPageInfo=y.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xe[A].objId,pageNumber:A,pageContext:xe[A]}},Se=y.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in xe)if(xe[G].objId===A)break;return Wa(G)},Ir=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:xe[Y].objId,pageNumber:Y,pageContext:xe[Y]}};y.addPage=function(){return Js.apply(this,arguments),this},y.setPage=function(){return Ga.apply(this,arguments),Ft.call(this,Kt[Y]),this},y.insertPage=function(A){return this.addPage(),this.movePage(Y,A),this},y.movePage=function(A,G){var ft,vt;if(A>G){ft=Kt[A],vt=xe[A];for(var Et=A;Et>G;Et--)Kt[Et]=Kt[Et-1],xe[Et]=xe[Et-1];Kt[G]=ft,xe[G]=vt,this.setPage(G)}else if(A<G){ft=Kt[A],vt=xe[A];for(var Bt=A;Bt<G;Bt++)Kt[Bt]=Kt[Bt+1],xe[Bt]=xe[Bt+1];Kt[G]=ft,xe[G]=vt,this.setPage(G)}return this},y.deletePage=function(){return Ha.apply(this,arguments),this},y.__private__.text=y.text=function(A,G,ft,vt,Et){var Bt,Xt,se,v,R,V,rt,St,Pt,Jt=(vt=vt||{}).scope||this;if(typeof A=="number"&&typeof G=="number"&&(typeof ft=="string"||Array.isArray(ft))){var De=ft;ft=G,G=A,A=De}if(arguments[3]instanceof fe?(I("The transform parameter of text() with a Matrix value"),Pt=Et):(se=arguments[4],v=arguments[5],zn(rt=arguments[3])==="object"&&rt!==null||(typeof se=="string"&&(v=se,se=null),typeof rt=="string"&&(v=rt,rt=null),typeof rt=="number"&&(se=rt,rt=null),vt={flags:rt,angle:se,align:v})),isNaN(G)||isNaN(ft)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Jt;var Je="",Re=!1,An=typeof vt.lineHeightFactor=="number"?vt.lineHeightFactor:Sn,Mn=Jt.internal.scaleFactor;function ia(en){return en=en.split("	").join(Array(vt.TabLen||9).join(" ")),ci(en,rt)}function Vi(en){for(var Cn,_n=en.concat(),Zn=[],ua=_n.length;ua--;)typeof(Cn=_n.shift())=="string"?Zn.push(Cn):Array.isArray(en)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?Zn.push(Cn[0]):Zn.push([Cn[0],Cn[1],Cn[2]]);return Zn}function ra(en,Cn){var _n;if(typeof en=="string")_n=Cn(en)[0];else if(Array.isArray(en)){for(var Zn,ua,Go=en.concat(),io=[],Su=Go.length;Su--;)typeof(Zn=Go.shift())=="string"?io.push(Cn(Zn)[0]):Array.isArray(Zn)&&typeof Zn[0]=="string"&&(ua=Cn(Zn[0],Zn[1],Zn[2]),io.push([ua[0],ua[1],ua[2]]));_n=io}return _n}var Xr=!1,Ja=!0;if(typeof A=="string")Xr=!0;else if(Array.isArray(A)){var Rc=A.concat();Xt=[];for(var Za,zi=Rc.length;zi--;)(typeof(Za=Rc.shift())!="string"||Array.isArray(Za)&&typeof Za[0]!="string")&&(Ja=!1);Xr=Ja}if(Xr===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ll=te/Jt.internal.scaleFactor,Bo=Ll*(An-1);switch(vt.baseline){case"bottom":ft-=Bo;break;case"top":ft+=Ll-Bo;break;case"hanging":ft+=Ll-2*Bo;break;case"middle":ft+=Ll/2-Bo}if((V=vt.maxWidth||0)>0&&(typeof A=="string"?A=Jt.splitTextToSize(A,V):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce((function(en,Cn){return en.concat(Jt.splitTextToSize(Cn,V))}),[]))),Bt={text:A,x:G,y:ft,options:vt,mutex:{pdfEscape:ci,activeFontKey:Ge,fonts:$e,activeFontSize:te}},Qe.publish("preProcessText",Bt),A=Bt.text,se=(vt=Bt.options).angle,!(Pt instanceof fe)&&se&&typeof se=="number"){se*=Math.PI/180,vt.rotationDirection===0&&(se=-se),j===D.ADVANCED&&(se=-se);var Vo=Math.cos(se),vu=Math.sin(se);Pt=new fe(Vo,vu,-vu,Vo,0,0)}else se&&se instanceof fe&&(Pt=se);j!==D.ADVANCED||Pt||(Pt=tr),(R=vt.charSpace||Ka)!==void 0&&(Je+=k(P(R))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(St=vt.horizontalScale)!==void 0&&(Je+=k(100*St)+` Tz
`),vt.lang;var kr=-1,xh=vt.renderingMode!==void 0?vt.renderingMode:vt.stroke,Ic=Jt.internal.getCurrentPageInfo().pageContext;switch(xh){case 0:case!1:case"fill":kr=0;break;case 1:case!0:case"stroke":kr=1;break;case 2:case"fillThenStroke":kr=2;break;case 3:case"invisible":kr=3;break;case 4:case"fillAndAddForClipping":kr=4;break;case 5:case"strokeAndAddPathForClipping":kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kr=6;break;case 7:case"addToPathForClipping":kr=7}var Sh=Ic.usedRenderingMode!==void 0?Ic.usedRenderingMode:-1;kr!==-1?Je+=kr+` Tr
`:Sh!==-1&&(Je+=`0 Tr
`),kr!==-1&&(Ic.usedRenderingMode=kr),v=vt.align||"left";var Cs,yu=te*An,Ah=Jt.internal.pageSize.getWidth(),vr=$e[Ge];R=vt.charSpace||Ka,V=vt.maxWidth||0,rt=Object.assign({autoencode:!0,noBOM:!0},vt.flags);var Rs=[],zo=function(en){return Jt.getStringUnitWidth(en,{font:vr,charSpace:R,fontSize:te,doKerning:!1})*te/Mn};if(Object.prototype.toString.call(A)==="[object Array]"){var Or;Xt=Vi(A),v!=="left"&&(Cs=Xt.map(zo));var yr,to=0;if(v==="right"){G-=Cs[0],A=[],zi=Xt.length;for(var sa=0;sa<zi;sa++)sa===0?(yr=Pr(G),Or=ii(ft)):(yr=P(to-Cs[sa]),Or=-yu),A.push([Xt[sa],yr,Or]),to=Cs[sa]}else if(v==="center"){G-=Cs[0]/2,A=[],zi=Xt.length;for(var eo=0;eo<zi;eo++)eo===0?(yr=Pr(G),Or=ii(ft)):(yr=P((to-Cs[eo])/2),Or=-yu),A.push([Xt[eo],yr,Or]),to=Cs[eo]}else if(v==="left"){A=[],zi=Xt.length;for(var aa=0;aa<zi;aa++)A.push(Xt[aa])}else if(v==="justify"&&vr.encoding==="Identity-H"){A=[],zi=Xt.length,V=V!==0?V:Ah;for(var oa=0,Yn=0;Yn<zi;Yn++)if(Or=Yn===0?ii(ft):-yu,yr=Yn===0?Pr(G):oa,Yn<zi-1){var Pl=P((V-Cs[Yn])/(Xt[Yn].split(" ").length-1)),br=Xt[Yn].split(" ");A.push([br[0]+" ",yr,Or]),oa=0;for(var Ui=1;Ui<br.length;Ui++){var la=(zo(br[Ui-1]+" "+br[Ui])-zo(br[Ui]))*Mn+Pl;Ui==br.length-1?A.push([br[Ui],la,0]):A.push([br[Ui]+" ",la,0]),oa-=la}}else A.push([Xt[Yn],yr,Or]);A.push(["",oa,0])}else{if(v!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],zi=Xt.length,V=V!==0?V:Ah,Yn=0;Yn<zi;Yn++)Or=Yn===0?ii(ft):-yu,yr=Yn===0?Pr(G):0,Yn<zi-1?Rs.push(k(P((V-Cs[Yn])/(Xt[Yn].split(" ").length-1)))):Rs.push(0),A.push([Xt[Yn],yr,Or])}}var bu=typeof vt.R2L=="boolean"?vt.R2L:ye;bu===!0&&(A=ra(A,(function(en,Cn,_n){return[en.split("").reverse().join(""),Cn,_n]}))),Bt={text:A,x:G,y:ft,options:vt,mutex:{pdfEscape:ci,activeFontKey:Ge,fonts:$e,activeFontSize:te}},Qe.publish("postProcessText",Bt),A=Bt.text,Re=Bt.mutex.isHex||!1;var _u=$e[Ge].encoding;_u!=="WinAnsiEncoding"&&_u!=="StandardEncoding"||(A=ra(A,(function(en,Cn,_n){return[ia(en),Cn,_n]}))),Xt=Vi(A),A=[];for(var ys,Uo,no,qo=0,wu=1,kl=Array.isArray(Xt[0])?wu:qo,Ho="",xu=function(en,Cn,_n){var Zn="";return _n instanceof fe?(_n=typeof vt.angle=="number"?Nr(_n,new fe(1,0,0,1,en,Cn)):Nr(new fe(1,0,0,1,en,Cn),_n),j===D.ADVANCED&&(_n=Nr(new fe(1,0,0,-1,0,0),_n)),Zn=_n.join(" ")+` Tm
`):Zn=k(en)+" "+k(Cn)+` Td
`,Zn},bs=0;bs<Xt.length;bs++){switch(Ho="",kl){case wu:no=(Re?"<":"(")+Xt[bs][0]+(Re?">":")"),ys=parseFloat(Xt[bs][1]),Uo=parseFloat(Xt[bs][2]);break;case qo:no=(Re?"<":"(")+Xt[bs]+(Re?">":")"),ys=Pr(G),Uo=ii(ft)}Rs!==void 0&&Rs[bs]!==void 0&&(Ho=Rs[bs]+` Tw
`),bs===0?A.push(Ho+xu(ys,Uo,Pt)+no):kl===qo?A.push(Ho+no):kl===wu&&A.push(Ho+xu(ys,Uo,Pt)+no)}A=kl===qo?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Qr=`BT
/`;return Qr+=Ge+" "+te+` Tf
`,Qr+=k(te*An)+` TL
`,Qr+=na+`
`,Qr+=Je,Qr+=A,dt(Qr+="ET"),_[Ge]=!0,Jt};var gu=y.__private__.clip=y.clip=function(A){return dt(A==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return gu("evenodd")},y.__private__.discardPath=y.discardPath=function(){return dt("n"),this};var Gr=y.__private__.isValidStyle=function(A){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(G=!0),G};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(A){return Gr(A)&&(f=A),this};var Cl=y.__private__.getStyle=y.getStyle=function(A){var G=f;switch(A){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=A}return G},ir=y.close=function(){return dt("h"),this};y.stroke=function(){return dt("S"),this},y.fill=function(A){return gr("f",A),this},y.fillEvenOdd=function(A){return gr("f*",A),this},y.fillStroke=function(A){return gr("B",A),this},y.fillStrokeEvenOdd=function(A){return gr("B*",A),this};var gr=function(A,G){zn(G)==="object"?Lr(G,A):dt(A)},Ya=function(A){A===null||j===D.ADVANCED&&A===void 0||(A=Cl(A),dt(A))};function Ns(A,G,ft,vt,Et){var Bt=new Jc(G||this.boundingBox,ft||this.xStep,vt||this.yStep,this.gState,Et||this.matrix);Bt.stream=this.stream;var Xt=A+"$$"+this.cloneIndex+++"$$";return bi(Xt,Bt),Bt}var Lr=function(A,G){var ft=va[A.key],vt=ln[ft];if(vt instanceof ec)dt("q"),dt(Po(G)),vt.gState&&y.setGState(vt.gState),dt(A.matrix.toString()+" cm"),dt("/"+ft+" sh"),dt("Q");else if(vt instanceof Jc){var Et=new fe(1,0,0,-1,0,mr());A.matrix&&(Et=Et.multiply(A.matrix||tr),ft=Ns.call(vt,A.key,A.boundingBox,A.xStep,A.yStep,Et).id),dt("q"),dt("/Pattern cs"),dt("/"+ft+" scn"),vt.gState&&y.setGState(vt.gState),dt(G),dt("Q")}},Po=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wr=y.moveTo=function(A,G){return dt(k(P(A))+" "+k(ot(G))+" m"),this},Yr=y.lineTo=function(A,G){return dt(k(P(A))+" "+k(ot(G))+" l"),this},$r=y.curveTo=function(A,G,ft,vt,Et,Bt){return dt([k(P(A)),k(ot(G)),k(P(ft)),k(ot(vt)),k(P(Et)),k(ot(Bt)),"c"].join(" ")),this};y.__private__.line=y.line=function(A,G,ft,vt,Et){if(isNaN(A)||isNaN(G)||isNaN(ft)||isNaN(vt)||!Gr(Et))throw new Error("Invalid arguments passed to jsPDF.line");return j===D.COMPAT?this.lines([[ft-A,vt-G]],A,G,[1,1],Et||"S"):this.lines([[ft-A,vt-G]],A,G,[1,1]).stroke()},y.__private__.lines=y.lines=function(A,G,ft,vt,Et,Bt){var Xt,se,v,R,V,rt,St,Pt,Jt,De,Je,Re;if(typeof A=="number"&&(Re=ft,ft=G,G=A,A=Re),vt=vt||[1,1],Bt=Bt||!1,isNaN(G)||isNaN(ft)||!Array.isArray(A)||!Array.isArray(vt)||!Gr(Et)||typeof Bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wr(G,ft),Xt=vt[0],se=vt[1],R=A.length,De=G,Je=ft,v=0;v<R;v++)(V=A[v]).length===2?(De=V[0]*Xt+De,Je=V[1]*se+Je,Yr(De,Je)):(rt=V[0]*Xt+De,St=V[1]*se+Je,Pt=V[2]*Xt+De,Jt=V[3]*se+Je,De=V[4]*Xt+De,Je=V[5]*se+Je,$r(rt,St,Pt,Jt,De,Je));return Bt&&ir(),Ya(Et),this},y.path=function(A){for(var G=0;G<A.length;G++){var ft=A[G],vt=ft.c;switch(ft.op){case"m":Wr(vt[0],vt[1]);break;case"l":Yr(vt[0],vt[1]);break;case"c":$r.apply(this,vt);break;case"h":ir()}}return this},y.__private__.rect=y.rect=function(A,G,ft,vt,Et){if(isNaN(A)||isNaN(G)||isNaN(ft)||isNaN(vt)||!Gr(Et))throw new Error("Invalid arguments passed to jsPDF.rect");return j===D.COMPAT&&(vt=-vt),dt([k(P(A)),k(ot(G)),k(P(ft)),k(P(vt)),"re"].join(" ")),Ya(Et),this},y.__private__.triangle=y.triangle=function(A,G,ft,vt,Et,Bt,Xt){if(isNaN(A)||isNaN(G)||isNaN(ft)||isNaN(vt)||isNaN(Et)||isNaN(Bt)||!Gr(Xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ft-A,vt-G],[Et-ft,Bt-vt],[A-Et,G-Bt]],A,G,[1,1],Xt,!0),this},y.__private__.roundedRect=y.roundedRect=function(A,G,ft,vt,Et,Bt,Xt){if(isNaN(A)||isNaN(G)||isNaN(ft)||isNaN(vt)||isNaN(Et)||isNaN(Bt)||!Gr(Xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var se=4/3*(Math.SQRT2-1);return Et=Math.min(Et,.5*ft),Bt=Math.min(Bt,.5*vt),this.lines([[ft-2*Et,0],[Et*se,0,Et,Bt-Bt*se,Et,Bt],[0,vt-2*Bt],[0,Bt*se,-Et*se,Bt,-Et,Bt],[2*Et-ft,0],[-Et*se,0,-Et,-Bt*se,-Et,-Bt],[0,2*Bt-vt],[0,-Bt*se,Et*se,-Bt,Et,-Bt]],A+Et,G,[1,1],Xt,!0),this},y.__private__.ellipse=y.ellipse=function(A,G,ft,vt,Et){if(isNaN(A)||isNaN(G)||isNaN(ft)||isNaN(vt)||!Gr(Et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Bt=4/3*(Math.SQRT2-1)*ft,Xt=4/3*(Math.SQRT2-1)*vt;return Wr(A+ft,G),$r(A+ft,G-Xt,A+Bt,G-vt,A,G-vt),$r(A-Bt,G-vt,A-ft,G-Xt,A-ft,G),$r(A-ft,G+Xt,A-Bt,G+vt,A,G+vt),$r(A+Bt,G+vt,A+ft,G+Xt,A+ft,G),Ya(Et),this},y.__private__.circle=y.circle=function(A,G,ft,vt){if(isNaN(A)||isNaN(G)||isNaN(ft)||!Gr(vt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,G,ft,ft,vt)},y.setFont=function(A,G,ft){return ft&&(G=Z(G,ft)),Ge=_a(A,G,{disableWarning:!1}),this};var xa=y.__private__.getFont=y.getFont=function(){return $e[_a.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var A,G,ft={};for(A in Ke)if(Ke.hasOwnProperty(A))for(G in ft[A]=[],Ke[A])Ke[A].hasOwnProperty(G)&&ft[A].push(G);return ft},y.addFont=function(A,G,ft,vt,Et){var Bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Bt.indexOf(arguments[3])!==-1?Et=arguments[3]:arguments[3]&&Bt.indexOf(arguments[3])==-1&&(ft=Z(ft,vt)),Et=Et||"Identity-H",Tl.call(this,A,G,ft,Et)};var Sn,Ni=n.lineWidth||.200025,Kr=y.__private__.getLineWidth=y.getLineWidth=function(){return Ni},Sa=y.__private__.setLineWidth=y.setLineWidth=function(A){return Ni=A,dt(k(P(A))+" w"),this};y.__private__.setLineDash=Ce.API.setLineDash=Ce.API.setLineDashPattern=function(A,G){if(A=A||[],G=G||0,isNaN(G)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map((function(ft){return k(P(ft))})).join(" "),G=k(P(G)),dt("["+A+"] "+G+" d"),this};var Zs=y.__private__.getLineHeight=y.getLineHeight=function(){return te*Sn};y.__private__.getLineHeight=y.getLineHeight=function(){return te*Sn};var Rl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Sn=A),this},ta=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Sn};Rl(n.lineHeight);var Pr=y.__private__.getHorizontalCoordinate=function(A){return P(A)},ii=y.__private__.getVerticalCoordinate=function(A){return j===D.ADVANCED?A:xe[Y].mediaBox.topRightY-xe[Y].mediaBox.bottomLeftY-P(A)},$a=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(A){return k(Pr(A))},ea=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(A){return k(ii(A))},rr=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Dn(rr)},y.__private__.setStrokeColor=y.setDrawColor=function(A,G,ft,vt){return rr=Ti({ch1:A,ch2:G,ch3:ft,ch4:vt,pdfColorType:"draw",precision:2}),dt(rr),this};var ko=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Dn(ko)},y.__private__.setFillColor=y.setFillColor=function(A,G,ft,vt){return ko=Ti({ch1:A,ch2:G,ch3:ft,ch4:vt,pdfColorType:"fill",precision:2}),dt(ko),this};var na=n.textColor||"0 g",Aa=y.__private__.getTextColor=y.getTextColor=function(){return Dn(na)};y.__private__.setTextColor=y.setTextColor=function(A,G,ft,vt){return na=Ti({ch1:A,ch2:G,ch3:ft,ch4:vt,pdfColorType:"text",precision:3}),this};var Ka=n.charSpace,Oo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ka||0)};y.__private__.setCharSpace=y.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ka=A,this};var Il=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(A){var G=y.CapJoinStyles[A];if(G===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=G,dt(G+" J"),this};var Do=0;y.__private__.setLineJoin=y.setLineJoin=function(A){var G=y.CapJoinStyles[A];if(G===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Do=G,dt(G+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return dt(k(P(A))+" M"),this},y.GState=fp,y.setGState=function(A){(A=typeof A=="string"?Ln[Ei[A]]:Ea(null,A)).equals(dr)||(dt("/"+A.id+" gs"),dr=A)};var Ea=function(A,G){if(!A||!Ei[A]){var ft=!1;for(var vt in Ln)if(Ln.hasOwnProperty(vt)&&Ln[vt].equals(G)){ft=!0;break}if(ft)G=Ln[vt];else{var Et="GS"+(Object.keys(Ln).length+1).toString(10);Ln[Et]=G,G.id=Et}return A&&(Ei[A]=G.id),Qe.publish("addGState",G),G}};y.addGState=function(A,G){return Ea(A,G),this},y.saveGraphicsState=function(){return dt("q"),As.push({key:Ge,size:te,color:na}),this},y.restoreGraphicsState=function(){dt("Q");var A=As.pop();return Ge=A.key,te=A.size,na=A.color,dr=null,this},y.setCurrentTransformationMatrix=function(A){return dt(A.toString()+" cm"),this},y.comment=function(A){return dt("#"+A),this};var Ta=function(A,G){var ft=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ft},set:function(Bt){isNaN(Bt)||(ft=parseFloat(Bt))}});var vt=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return vt},set:function(Bt){isNaN(Bt)||(vt=parseFloat(Bt))}});var Et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Et},set:function(Bt){Et=Bt.toString()}}),this},Mo=function(A,G,ft,vt){Ta.call(this,A,G),this.type="rect";var Et=ft||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Et},set:function(Xt){isNaN(Xt)||(Et=parseFloat(Xt))}});var Bt=vt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Bt},set:function(Xt){isNaN(Xt)||(Bt=parseFloat(Xt))}}),this},Xa=function(){this.page=yn,this.currentPage=Y,this.pages=Kt.slice(0),this.pagesContext=xe.slice(0),this.x=ui,this.y=We,this.matrix=Un,this.width=Na(Y),this.height=mr(Y),this.outputDestination=ie,this.id="",this.objectNumber=-1};Xa.prototype.restore=function(){yn=this.page,Y=this.currentPage,xe=this.pagesContext,Kt=this.pages,ui=this.x,We=this.y,Un=this.matrix,Fo(Y,this.width),Qa(Y,this.height),ie=this.outputDestination};var jo=function(A,G,ft,vt,Et){Zi.push(new Xa),yn=Y=0,Kt=[],ui=A,We=G,Un=Et,qn([ft,vt])},mu=function(A){if(ji[A])Zi.pop().restore();else{var G=new Xa,ft="Xo"+(Object.keys(yi).length+1).toString(10);G.id=ft,ji[A]=ft,yi[ft]=G,Qe.publish("addFormObject",G),Zi.pop().restore()}};for(var vs in y.beginFormObject=function(A,G,ft,vt,Et){return jo(A,G,ft,vt,Et),this},y.endFormObject=function(A){return mu(A),this},y.doFormObject=function(A,G){var ft=yi[ji[A]];return dt("q"),dt(G.toString()+" cm"),dt("/"+ft.id+" Do"),dt("Q"),this},y.getFormObject=function(A){var G=yi[ji[A]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},y.save=function(A,G){return A=A||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(Yc(Ro(gs()),A),typeof Yc.unload=="function"&&Pe.setTimeout&&setTimeout(Yc.unload,911),this):new Promise((function(ft,vt){try{var Et=Yc(Ro(gs()),A);typeof Yc.unload=="function"&&Pe.setTimeout&&setTimeout(Yc.unload,911),ft(Et)}catch(Bt){vt(Bt.message)}}))},Ce.API)Ce.API.hasOwnProperty(vs)&&(vs==="events"&&Ce.API.events.length?(function(A,G){var ft,vt,Et;for(Et=G.length-1;Et!==-1;Et--)ft=G[Et][0],vt=G[Et][1],A.subscribe.apply(A,[ft].concat(typeof vt=="function"?[vt]:vt))})(Qe,Ce.API.events):y[vs]=Ce.API[vs]);var Na=y.getPageWidth=function(A){return(xe[A=A||Y].mediaBox.topRightX-xe[A].mediaBox.bottomLeftX)/le},Fo=y.setPageWidth=function(A,G){xe[A].mediaBox.topRightX=G*le+xe[A].mediaBox.bottomLeftX},mr=y.getPageHeight=function(A){return(xe[A=A||Y].mediaBox.topRightY-xe[A].mediaBox.bottomLeftY)/le},Qa=y.setPageHeight=function(A,G){xe[A].mediaBox.topRightY=G*le+xe[A].mediaBox.bottomLeftY};return y.internal={pdfEscape:ci,getStyle:Cl,getFont:xa,getFontSize:oe,getCharSpace:Oo,getTextColor:Aa,getLineHeight:Zs,getLineHeightFactor:ta,getLineWidth:Kr,write:Oe,getHorizontalCoordinate:Pr,getVerticalCoordinate:ii,getCoordinateString:$a,getVerticalCoordinateString:ea,collections:{},newObject:ei,newAdditionalObject:Ua,newObjectDeferred:Jn,newObjectDeferredBegin:_i,getFilters:er,putStream:wi,events:Qe,scaleFactor:le,pageSize:{getWidth:function(){return Na(Y)},setWidth:function(A){Fo(Y,A)},getHeight:function(){return mr(Y)},setHeight:function(A){Qa(Y,A)}},encryptionOptions:p,encryption:gn,getEncryptor:Lo,output:Io,getNumberOfPages:un,pages:Kt,out:dt,f2:q,f3:L,getPageInfo:Wa,getPageInfoByObjId:Se,getCurrentPageInfo:Ir,getPDFVersion:T,Point:Ta,Rectangle:Mo,Matrix:fe,hasHotfix:ms},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Na(Y)},set:function(A){Fo(Y,A)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return mr(Y)},set:function(A){Qa(Y,A)},enumerable:!0,configurable:!0}),Co.call(y,Zt),Ge="F1",Js(r,e),Qe.publish("initialized"),y}hf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},hf.prototype.toHexString=function(n){return n.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},hf.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},hf.prototype.processOwnerPassword=function(n,t){return ov(av(t).substr(0,5),n)},hf.prototype.encryptor=function(n,t){var e=av(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return ov(e,i)}},fp.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||zn(n)!==zn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Ce.API={events:[]},Ce.version="2.5.2";var Ii=Ce.API,Ty=1,_h=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qe=function(n){return n.toFixed(2)},Ku=function(n){return n.toFixed(5)};Ii.__acroform__={};var Ys=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},ix=function(n){return n*Ty},al=function(n){var t=new G3,e=ge.internal.getHeight(n)||0,i=ge.internal.getWidth(n)||0;return t.BBox=[0,0,Number(qe(i)),Number(qe(e))],t},Q7=Ii.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},J7=Ii.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},Z7=Ii.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},ki=Ii.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Z7(n,t-1)},Oi=Ii.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Q7(n,t-1)},Di=Ii.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return J7(n,t-1)},tO=Ii.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],a=n[1],l=n[2],u=n[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=i(a+u)||0,h.upperRight_X=e(r+l)||0,h.upperRight_Y=i(a)||0,[Number(qe(h.lowerLeft_X)),Number(qe(h.lowerLeft_Y)),Number(qe(h.upperRight_X)),Number(qe(h.upperRight_Y))]},eO=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=lv(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+qe(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=al(n);return a.scope=n.scope,a.stream=t.join(`
`),a}},lv=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map((function(L){return L.split(`
`)})):r.map((function(L){return[L]}));var a=e,l=ge.internal.getHeight(n)||0;l=l<0?-l:l;var u=ge.internal.getWidth(n)||0;u=u<0?-u:u;var h=function(L,P,z){if(L+1<r.length){var ot=P+" "+r[L+1][0];return Pg(ot,n,z).width<=u-4}return!1};a++;t:for(;a>0;){t="",a--;var f,p,m=Pg("3",n,a).height,_=n.multiline?l-a:(l-m)/2,y=_+=2,S=0,T=0,C=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Pg(t,n,a=12).width+", FieldWidth:"+u+`
`;break}for(var E="",D=0,j=0;j<r.length;j++)if(r.hasOwnProperty(j)){var H=!1;if(r[j].length!==1&&C!==r[j].length-1){if((m+2)*(D+2)+2>l)continue t;E+=r[j][C],H=!0,T=j,j--}else{E=(E+=r[j][C]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var K=parseInt(j),Z=h(K,E,a),k=j>=r.length-1;if(Z&&!k){E+=" ",C=0;continue}if(Z||k){if(k)T=K;else if(n.multiline&&(m+2)*(D+2)+2>l)continue t}else{if(!n.multiline||(m+2)*(D+2)+2>l)continue t;T=K}}for(var I="",B=S;B<=T;B++){var q=r[B];if(n.multiline){if(B===T){I+=q[C]+" ",C=(C+1)%q.length;continue}if(B===S){I+=q[q.length-1]+" ";continue}}I+=q[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,p=Pg(I,n,a).width,n.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;case"left":default:f=2}t+=qe(f)+" "+qe(y)+` Td
`,t+="("+_h(I)+`) Tj
`,t+=-qe(f)+` 0 Td
`,y=-(a+2),p=0,S=H?T:T+1,D++,E=""}break}return i.text=t,i.fontSize=a,i},Pg=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},nO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iO=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find((function(i){return i.type===e.type&&i.object===e.object}))===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},rO=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),zn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},sO=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Eo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(nO)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ty=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new W3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",(function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)})),n.internal.events.subscribe("buildDocument",(function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&iO(a,e)}})(n)})),n.internal.events.subscribe("putCatalog",(function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)})),n.internal.events.subscribe("postPutPages",(function(e){(function(i,r){var a=!i;for(var l in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var u=i[l],h=[],f=u.Rect;if(u.Rect&&(u.Rect=tO(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=ge.createDefaultAppearanceStream(u),zn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=eO(u);h.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var m="";for(var _ in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(_)){var y=u.appearanceStreamContent[_];if(m+="/"+_+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var S=y[l];typeof S=="function"&&(S=S.call(r,u)),m+="/"+l+" "+S+" ",r.internal.acroformPlugin.xForms.indexOf(S)>=0||r.internal.acroformPlugin.xForms.push(S)}}else typeof(S=y)=="function"&&(S=S.call(r,u)),m+="/"+l+" "+S,r.internal.acroformPlugin.xForms.indexOf(S)>=0||r.internal.acroformPlugin.xForms.push(S);m+=">>"}h.push({key:"AP",value:`<<
`+m+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:u.objId}),r.internal.out("endobj")}a&&rO(r.internal.acroformPlugin.xForms,r)})(e,n)})),n.internal.acroformPlugin.isInitialized=!0}},H3=Ii.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(l){return l};if(Array.isArray(n)){for(var r="[",a=0;a<n.length;a++)switch(a!==0&&(r+=" "),zn(n[a])){case"boolean":case"number":case"object":r+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+_h(i(n[a].toString()))+")"):r+=n[a].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},l2=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+_h(i(n))+")"},hl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hl.prototype.toString=function(){return this.objId+" 0 R"},hl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},hl.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:H3(r,this.objId,this.scope)}):r instanceof hl?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var G3=function(){hl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Ys(G3,hl);var W3=function(){hl.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+_h(e(n))+")"}},set:function(e){n=e}})};Ys(W3,hl);var Eo=function n(){hl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');t=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ki(t,3)},set:function(E){E?this.F=Oi(t,3):this.F=Di(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');e=E}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(E){i=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(E){i[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(E){i[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(E){i[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(E){i[3]=E}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Om)return;a="FieldObject"+n.FieldNum++}var E=function(D){return D};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+_h(E(a))+")"},set:function(E){a=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(E){a=E}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Ty:f},set:function(E){f=E}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(E){p=E}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Om||this instanceof gc))return l2(m,this.objId,this.scope)},set:function(E){E=E.toString(),m=E}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof hr?_:l2(_,this.objId,this.scope)},set:function(E){E=E.toString(),_=this instanceof hr?E:E.substr(0,1)==="("?nf(E.substr(1,E.length-2)):nf(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?nf(_.substr(1,_.length-1)):_},set:function(E){E=E.toString(),_=this instanceof hr?"/"+E:E}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof hr?y:l2(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=this instanceof hr?E:E.substr(0,1)==="("?nf(E.substr(1,E.length-2)):nf(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?nf(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof hr?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(E){E=!!E,T=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(E){S=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,1)},set:function(E){E?this.Ff=Oi(this.Ff,1):this.Ff=Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,2)},set:function(E){E?this.Ff=Oi(this.Ff,2):this.Ff=Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,3)},set:function(E){E?this.Ff=Oi(this.Ff,3):this.Ff=Di(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');C=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(C){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Ys(Eo,hl);var ih=function(){Eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return H3(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=(function(a,l,u){u||(u=1);for(var h,f=[];h=l.exec(a);)f.push(h[u]);return f})(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,18)},set:function(e){e?this.Ff=Oi(this.Ff,18):this.Ff=Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Oi(this.Ff,19):this.Ff=Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,20)},set:function(e){e?(this.Ff=Oi(this.Ff,20),t.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,22)},set:function(e){e?this.Ff=Oi(this.Ff,22):this.Ff=Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,23)},set:function(e){e?this.Ff=Oi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,27)},set:function(e){e?this.Ff=Oi(this.Ff,27):this.Ff=Di(this.Ff,27)}}),this.hasAppearanceStream=!1};Ys(ih,Eo);var rh=function(){ih.call(this),this.fontName="helvetica",this.combo=!1};Ys(rh,ih);var sh=function(){rh.call(this),this.combo=!0};Ys(sh,rh);var Wd=function(){sh.call(this),this.edit=!0};Ys(Wd,sh);var hr=function(){Eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,15)},set:function(e){e?this.Ff=Oi(this.Ff,15):this.Ff=Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,16)},set:function(e){e?this.Ff=Oi(this.Ff,16):this.Ff=Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,17)},set:function(e){e?this.Ff=Oi(this.Ff,17):this.Ff=Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,26)},set:function(e){e?this.Ff=Oi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+_h(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){zn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Ys(hr,Eo);var Yd=function(){hr.call(this),this.pushButton=!0};Ys(Yd,hr);var ah=function(){hr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Ys(ah,hr);var Om=function(){var n,t;Eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+_h(r(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(r){zn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ys(Om,Eo),ah.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},ah.prototype.createOption=function(n){var t=new Om;return t.Parent=this,t.optionName=n,this.Kids.push(t),aO.call(this.scope,t),t};var $d=function(){hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ge.CheckBox.createAppearanceStream()};Ys($d,hr);var gc=function(){Eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,13)},set:function(t){t?this.Ff=Oi(this.Ff,13):this.Ff=Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,21)},set:function(t){t?this.Ff=Oi(this.Ff,21):this.Ff=Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,23)},set:function(t){t?this.Ff=Oi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,24)},set:function(t){t?this.Ff=Oi(this.Ff,24):this.Ff=Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,25)},set:function(t){t?this.Ff=Oi(this.Ff,25):this.Ff=Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,26)},set:function(t){t?this.Ff=Oi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ys(gc,Eo);var Kd=function(){gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,14)},set:function(n){n?this.Ff=Oi(this.Ff,14):this.Ff=Di(this.Ff,14)}}),this.password=!0};Ys(Kd,gc);var ge={CheckBox:{createAppearanceStream:function(){return{N:{On:ge.CheckBox.YesNormal},D:{On:ge.CheckBox.YesPushDown,Off:ge.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=al(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=lv(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+qe(a.fontSize)+" Tf "+r),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=al(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],a=ge.internal.getHeight(n),l=ge.internal.getWidth(n),u=lv(n,n.caption);return r.push("1 g"),r.push("0 0 "+qe(l)+" "+qe(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+qe(l-1)+" "+qe(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+qe(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=al(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Circle.YesNormal,t.D[n]=ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=al(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=ge.internal.Bezier_C,a=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ku(ge.internal.getWidth(n)/2)+" "+Ku(ge.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=al(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*ge.internal.Bezier_C).toFixed(5)),l=Number((i*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ku(ge.internal.getWidth(n)/2)+" "+Ku(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ku(ge.internal.getWidth(n)/2)+" "+Ku(ge.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),e.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),e.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),e.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=al(n);t.scope=n.scope;var e=[],i=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ku(ge.internal.getWidth(n)/2)+" "+Ku(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Cross.YesNormal,t.D[n]=ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=al(n);t.scope=n.scope;var e=[],i=ge.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+qe(ge.internal.getWidth(n)-2)+" "+qe(ge.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(qe(i.x1.x)+" "+qe(i.x1.y)+" m"),e.push(qe(i.x2.x)+" "+qe(i.x2.y)+" l"),e.push(qe(i.x4.x)+" "+qe(i.x4.y)+" m"),e.push(qe(i.x3.x)+" "+qe(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=al(n);t.scope=n.scope;var e=ge.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+qe(ge.internal.getWidth(n)-2)+" "+qe(ge.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(qe(e.x1.x)+" "+qe(e.x1.y)+" m"),i.push(qe(e.x2.x)+" "+qe(e.x2.y)+" l"),i.push(qe(e.x4.x)+" "+qe(e.x4.y)+" m"),i.push(qe(e.x3.x)+" "+qe(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=al(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(ge.internal.getWidth(n))+" "+qe(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ge.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ge.internal.getWidth(n),e=ge.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ge.internal.getWidth=function(n){var t=0;return zn(n)==="object"&&(t=ix(n.Rect[2])),t},ge.internal.getHeight=function(n){var t=0;return zn(n)==="object"&&(t=ix(n.Rect[3])),t};var aO=Ii.addField=function(n){if(sO(this,n),!(n instanceof Eo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ii.AcroFormChoiceField=ih,Ii.AcroFormListBox=rh,Ii.AcroFormComboBox=sh,Ii.AcroFormEditBox=Wd,Ii.AcroFormButton=hr,Ii.AcroFormPushButton=Yd,Ii.AcroFormRadioButton=ah,Ii.AcroFormCheckBox=$d,Ii.AcroFormTextField=gc,Ii.AcroFormPasswordField=Kd,Ii.AcroFormAppearance=ge,Ii.AcroForm={ChoiceField:ih,ListBox:rh,ComboBox:sh,EditBox:Wd,Button:hr,PushButton:Yd,RadioButton:ah,CheckBox:$d,TextField:gc,PasswordField:Kd,Appearance:ge},Ce.AcroForm={ChoiceField:ih,ListBox:rh,ComboBox:sh,EditBox:Wd,Button:hr,PushButton:Yd,RadioButton:ah,CheckBox:$d,TextField:gc,PasswordField:Kd,Appearance:ge};var oO=Ce.AcroForm;function Y3(n){return n.reduce((function(t,e,i){return t[e]=i,t}),{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(L,P){var z,ot,mt,$,J,et=t;if((P=P||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(Z(L))for(J in e)for(mt=e[J],z=0;z<mt.length;z+=1){for($=!0,ot=0;ot<mt[z].length;ot+=1)if(mt[z][ot]!==void 0&&mt[z][ot]!==L[ot]){$=!1;break}if($===!0){et=J;break}}else for(J in e)for(mt=e[J],z=0;z<mt.length;z+=1){for($=!0,ot=0;ot<mt[z].length;ot+=1)if(mt[z][ot]!==void 0&&mt[z][ot]!==L.charCodeAt(ot)){$=!1;break}if($===!0){et=J;break}}return et===t&&P!==t&&(et=P),et},r=function L(P){for(var z=this.internal.write,ot=this.internal.putStream,mt=(0,this.internal.getFilters)();mt.indexOf("FlateEncode")!==-1;)mt.splice(mt.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:P.width}),$.push({key:"Height",value:P.height}),P.colorSpace===C.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===C.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var J="",et=0,ut=P.transparency.length;et<ut;et++)J+=P.transparency[et]+" "+P.transparency[et]+" ";$.push({key:"Mask",value:"["+J+"]"})}P.sMask!==void 0&&$.push({key:"SMask",value:P.objectId+1+" 0 R"});var pt=P.filter!==void 0?["/"+P.filter]:void 0;if(ot({data:P.data,additionalKeyValues:$,alreadyAppliedFilters:pt,objectId:P.objectId}),z("endobj"),"sMask"in P&&P.sMask!==void 0){var tt="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,M={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:tt,data:P.sMask};"filter"in P&&(M.filter=P.filter),L.call(this,M)}if(P.colorSpace===C.INDEXED){var Y=this.internal.newObject();ot({data:I(new Uint8Array(P.palette)),objectId:Y}),z("endobj")}},a=function(){var L=this.internal.collections.addImage_images;for(var P in L)r.call(this,L[P])},l=function(){var L,P=this.internal.collections.addImage_images,z=this.internal.write;for(var ot in P)z("/I"+(L=P[ot]).index,L.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var L=this.internal.collections.addImage_images;return u.call(this),L},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(L){return typeof n["process"+L.toUpperCase()]=="function"},m=function(L){return zn(L)==="object"&&L.nodeType===1},_=function(L,P){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var z=""+L.getAttribute("src");if(z.indexOf("data:image/")===0)return Gd(unescape(z).split("base64,").pop());var ot=n.loadFile(z,!0);if(ot!==void 0)return ot}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var mt;switch(P){case"PNG":mt="image/png";break;case"WEBP":mt="image/webp";break;case"JPEG":case"JPG":default:mt="image/jpeg"}return Gd(L.toDataURL(mt,1).split("base64,").pop())}},y=function(L){var P=this.internal.collections.addImage_images;if(P){for(var z in P)if(L===P[z].alias)return P[z]}},S=function(L,P,z){return L||P||(L=-96,P=-96),L<0&&(L=-1*z.width*72/L/this.internal.scaleFactor),P<0&&(P=-1*z.height*72/P/this.internal.scaleFactor),L===0&&(L=P*z.width/z.height),P===0&&(P=L*z.height/z.width),[L,P]},T=function(L,P,z,ot,mt,$){var J=S.call(this,z,ot,mt),et=this.internal.getCoordinateString,ut=this.internal.getVerticalCoordinateString,pt=h.call(this);if(z=J[0],ot=J[1],pt[mt.index]=mt,$){$*=Math.PI/180;var tt=Math.cos($),M=Math.sin($),Y=function(lt){return lt.toFixed(4)},nt=[Y(tt),Y(M),Y(-1*M),Y(tt),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,et(L),ut(P+ot),"cm"].join(" ")),this.internal.write(nt.join(" ")),this.internal.write([et(z),"0","0",et(ot),"0","0","cm"].join(" "))):this.internal.write([et(z),"0","0",et(ot),et(L),ut(P+ot),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+mt.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=n.__addimage__.sHashCode=function(L){var P,z,ot=0;if(typeof L=="string")for(z=L.length,P=0;P<z;P++)ot=(ot<<5)-ot+L.charCodeAt(P),ot|=0;else if(Z(L))for(z=L.byteLength/2,P=0;P<z;P++)ot=(ot<<5)-ot+L[P],ot|=0;return ot},j=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var P=!0;return L.length===0&&(P=!1),L.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(P=!1),P},H=n.__addimage__.extractImageFromDataUrl=function(L){var P=(L=L||"").split("base64,"),z=null;if(P.length===2){var ot=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(ot)&&(z={mimeType:ot[1],charset:ot[2],data:P[1]})}return z},K=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(L){return K()&&L instanceof ArrayBuffer};var Z=n.__addimage__.isArrayBufferView=function(L){return K()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},k=n.__addimage__.binaryStringToUint8Array=function(L){for(var P=L.length,z=new Uint8Array(P),ot=0;ot<P;ot++)z[ot]=L.charCodeAt(ot);return z},I=n.__addimage__.arrayBufferToBinaryString=function(L){for(var P="",z=Z(L)?L:new Uint8Array(L),ot=0;ot<z.length;ot+=8192)P+=String.fromCharCode.apply(null,z.subarray(ot,ot+8192));return P};n.addImage=function(){var L,P,z,ot,mt,$,J,et,ut;if(typeof arguments[1]=="number"?(P=t,z=arguments[1],ot=arguments[2],mt=arguments[3],$=arguments[4],J=arguments[5],et=arguments[6],ut=arguments[7]):(P=arguments[1],z=arguments[2],ot=arguments[3],mt=arguments[4],$=arguments[5],J=arguments[6],et=arguments[7],ut=arguments[8]),zn(L=arguments[0])==="object"&&!m(L)&&"imageData"in L){var pt=L;L=pt.imageData,P=pt.format||P||t,z=pt.x||z||0,ot=pt.y||ot||0,mt=pt.w||pt.width||mt,$=pt.h||pt.height||$,J=pt.alias||J,et=pt.compression||et,ut=pt.rotation||pt.angle||ut}var tt=this.internal.getFilters();if(et===void 0&&tt.indexOf("FlateEncode")!==-1&&(et="SLOW"),isNaN(z)||isNaN(ot))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=B.call(this,L,P,J,et);return T.call(this,z,ot,mt,$,M,ut),this};var B=function(L,P,z,ot){var mt,$,J;if(typeof L=="string"&&i(L)===t){L=unescape(L);var et=q(L,!1);(et!==""||(et=n.loadFile(L,!0))!==void 0)&&(L=et)}if(m(L)&&(L=_(L,P)),P=i(L,P),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((J=z)==null||J.length===0)&&(z=(function(ut){return typeof ut=="string"||Z(ut)?D(ut):Z(ut.data)?D(ut.data):null})(L)),(mt=y.call(this,z))||(K()&&(L instanceof Uint8Array||P==="RGBA"||($=L,L=k(L))),mt=this["process"+P.toUpperCase()](L,f.call(this),z,(function(ut){return ut&&typeof ut=="string"&&(ut=ut.toUpperCase()),ut in n.image_compression?ut:E.NONE})(ot),$)),!mt)throw new Error("An unknown error occurred whilst processing the image.");return mt},q=n.__addimage__.convertBase64ToBinaryString=function(L,P){var z;P=typeof P!="boolean"||P;var ot,mt="";if(typeof L=="string"){ot=(z=H(L))!==null?z.data:L;try{mt=Gd(ot)}catch($){if(P)throw j(ot)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return mt};n.getImageProperties=function(L){var P,z,ot="";if(m(L)&&(L=_(L)),typeof L=="string"&&i(L)===t&&((ot=q(L,!1))===""&&(ot=n.loadFile(L)||""),L=ot),z=i(L),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!K()||L instanceof Uint8Array||(L=k(L)),!(P=this["process"+z.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=z,P}})(Ce.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Ce.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,a,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,p=!1,m=0;m<f.length&&!p;m++)switch((i=f[m]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<f.length;_++){i=f[_];var y=this.internal.pdfEscape,S=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(T.objId),D=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+l(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+y(E(i.contents))+")",a+=" /Popup "+C.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+y(E(D))+") >>",T.content=a;var j=T.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+l(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+j,i.open&&(a+=" /Open true"),a+=" >>",C.content=a,this.internal.write(T.objId,"0 R",C.objId,"0 R");break;case"freetext":r="/Rect ["+l(i.bounds.x)+" "+u(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var H=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+y(S(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var K=this.annotations._nameMap[i.options.name];i.options.pageNumber=K.page,i.options.top=K.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+y(S(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var Z=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+Z+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,a,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(e),y:f(i),w:h(e+r),h:f(i+a)},options:l,type:"link"})},n.textWithLink=function(e,i,r,a){var l,u,h=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){u=a.maxWidth;var p=this.splitTextToSize(e,u).length;l=Math.ceil(f*p)}else u=h,l=f;return this.text(e,i,r,a),r+=.2*f,a.align==="center"&&(i-=h/2),a.align==="right"&&(i-=h),this.link(i,r-f,u,l,a),h},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(Ce.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(T){return t[T.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},u=n.__arabicParser__.isArabicEndLetter=function(T){return l(T)&&a(T)&&t[T.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(T){return l(T)&&r.indexOf(T.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return l(T)&&a(T)&&t[T.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(T){return l(T)&&a(T)&&t[T.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(T){return l(T)&&a(T)&&t[T.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(T){return l(T)&&a(T)&&t[T.charCodeAt(0)].length==4},m=n.__arabicParser__.resolveLigatures=function(T){var C=0,E=e,D="",j=0;for(C=0;C<T.length;C+=1)E[T.charCodeAt(C)]!==void 0?(j++,typeof(E=E[T.charCodeAt(C)])=="number"&&(D+=String.fromCharCode(E),E=e,j=0),C===T.length-1&&(E=e,D+=T.charAt(C-(j-1)),C-=j-1,j=0)):(E=e,D+=T.charAt(C-j),C-=j,j=0);return D};n.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&i[T.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(T,C,E){return l(T)?a(T)===!1?-1:!f(T)||!l(C)&&!l(E)||!l(E)&&u(C)||u(T)&&!l(C)||u(T)&&h(C)||u(T)&&u(C)?0:p(T)&&l(C)&&!u(C)&&l(E)&&f(E)?3:u(T)||!l(E)?1:2:-1},y=function(T){var C=0,E=0,D=0,j="",H="",K="",Z=(T=T||"").split("\\s+"),k=[];for(C=0;C<Z.length;C+=1){for(k.push(""),E=0;E<Z[C].length;E+=1)j=Z[C][E],H=Z[C][E-1],K=Z[C][E+1],l(j)?(D=_(j,H,K),k[C]+=D!==-1?String.fromCharCode(t[j.charCodeAt(0)][D]):j):k[C]+=j;k[C]=m(k[C])}return k.join(" ")},S=n.__arabicParser__.processArabic=n.processArabic=function(){var T,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(C)){var D=0;for(E=[],D=0;D<C.length;D+=1)Array.isArray(C[D])?E.push([y(C[D][0]),C[D][1],C[D][2]]):E.push([y(C[D])]);T=E}else T=y(C);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};n.events.push(["preProcessText",S])})(Ce.API),Ce.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(u){a=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ce.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(T){m=T}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(T){_=T}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(T){y=T}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(T){S=T}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),_=f.scaleFactor||this.internal.scaleFactor,y=0,S=0,T=0,C=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var E=f.maxWidth;E>0?typeof h=="string"?h=this.splitTextToSize(h,E):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce((function(j,H){return j.concat(C.splitTextToSize(H,E))}),[])):h=Array.isArray(h)?h:[h];for(var D=0;D<h.length;D++)y<(T=this.getStringUnitWidth(h[D],{font:m})*p)&&(y=T);return y!==0&&(S=h.length),{w:y/=_,h:Math.max((S*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,_=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=m.top,y&&_&&(this.printHeaderRow(h.lineNumber,!0),h.y+=_[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,p,m,_){if(i.call(this),!p)throw new Error("No data for PDF table.");var y,S,T,C,E=[],D=[],j=[],H={},K={},Z=[],k=[],I=(_=_||{}).autoSize||!1,B=_.printHeaders!==!1,q=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,L=_.margins||Object.assign({width:this.getPageWidth()},t),P=typeof _.padding=="number"?_.padding:3,z=_.headerBackgroundColor||"#c8c8c8",ot=_.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=ot,this.setFontSize(q),m==null)D=E=Object.keys(p[0]),j=E.map((function(){return"left"}));else if(Array.isArray(m)&&zn(m[0])==="object")for(E=m.map((function(pt){return pt.name})),D=m.map((function(pt){return pt.prompt||pt.name||""})),j=m.map((function(pt){return pt.align||"left"})),y=0;y<m.length;y+=1)K[m[y].name]=m[y].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(D=E=m,j=E.map((function(){return"left"})));if(I||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<E.length;y+=1){for(H[C=E[y]]=p.map((function(pt){return pt[C]})),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(D[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=H[C],this.setFont(void 0,"normal"),T=0;T<S.length;T+=1)Z.push(this.getTextDimensions(S[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[C]=Math.max.apply(null,Z)+P+P,Z=[]}if(B){var mt={};for(y=0;y<E.length;y+=1)mt[E[y]]={},mt[E[y]].text=D[y],mt[E[y]].align=j[y];var $=u.call(this,mt,K);k=E.map((function(pt){return new a(h,f,K[pt],$,mt[pt].text,void 0,mt[pt].align)})),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var J=m.reduce((function(pt,tt){return pt[tt.name]=tt.align,pt}),{});for(y=0;y<p.length;y+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:y,data:p[y]},this);var et=u.call(this,p[y],K);for(T=0;T<E.length;T+=1){var ut=p[y][E[T]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:y,col:T,data:ut},this),l.call(this,new a(h,f,K[E[T]],et,ut,y+2,J[E[T]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(h).map((function(y){var S=h[y];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,f[y]-p-p)}),this).map((function(y){return this.getLineHeightFactor()*y.length*m/_+p+p}),this).reduce((function(y,S){return Math.max(y,S)}),0)};n.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=h;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(S)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),e=!1}})(Ce.API);var $3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},K3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],uv=Y3(K3),X3=[100,200,300,400,500,600,700,800,900],lO=Y3(X3);function cv(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(a){return $3[a=a||"normal"]?a:"normal"})(n.style),i=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(n.weight),r=(function(a){return typeof uv[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function rx(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var uO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ax(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function cO(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},uO,e.genericFontFamilies||{}),a=null,l=null,u=0;u<t.length;++u)if(r[(a=cv(t[u])).family]&&(a.family=r[a.family]),n.hasOwnProperty(a.family)){l=n[a.family];break}if(!(l=l||n[i]))throw new Error("Could not find a font-family for the rule '"+ax(a)+"' and default family '"+i+"'.");if(l=(function(h,f){if(f[h])return f[h];var p=uv[h],m=p<=uv.normal?-1:1,_=rx(f,K3,p,m);if(!_)throw new Error("Could not find a matching font-stretch value for "+h);return _})(a.stretch,l),l=(function(h,f){if(f[h])return f[h];for(var p=$3[h],m=0;m<p.length;++m)if(f[p[m]])return f[p[m]];throw new Error("Could not find a matching font-style for "+h)})(a.style,l),!(l=(function(h,f){if(f[h])return f[h];if(h===400&&f[500])return f[500];if(h===500&&f[400])return f[400];var p=lO[h],m=rx(f,X3,p,h<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+h);return m})(a.weight,l)))throw new Error("Failed to resolve a font for the rule '"+ax(a)+"'.");return l}function ox(n){return n.trimLeft()}function hO(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function fO(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var kg,lx,ux,u2=["times"];(function(n){var t,e,i,r,a,l,u,h,f,p=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new h,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=M;Object.defineProperty(this,"pdf",{get:function(){return Y}});var nt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return nt},set:function(Ft){nt=!!Ft}});var lt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return lt},set:function(Ft){lt=!!Ft}});var ht=0;Object.defineProperty(this,"posX",{get:function(){return ht},set:function(Ft){isNaN(Ft)||(ht=Ft)}});var _t=0;Object.defineProperty(this,"posY",{get:function(){return _t},set:function(Ft){isNaN(Ft)||(_t=Ft)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ft){var dt;typeof Ft=="number"?dt=[Ft,Ft,Ft,Ft]:((dt=new Array(4))[0]=Ft[0],dt[1]=Ft.length>=2?Ft[1]:dt[0],dt[2]=Ft.length>=3?Ft[2]:dt[0],dt[3]=Ft.length>=4?Ft[3]:dt[1]),f.margin=dt}});var Nt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Nt},set:function(Ft){Nt=Ft}});var Rt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Rt},set:function(Ft){Rt=Ft}});var Qt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Qt},set:function(Ft){Qt=Ft}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ft){Ft instanceof p&&(f=Ft)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ft){f.path=Ft}});var Kt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Kt},set:function(Ft){Kt=Ft}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ft){var dt;dt=_(Ft),this.ctx.fillStyle=dt.style,this.ctx.isFillTransparent=dt.a===0,this.ctx.fillOpacity=dt.a,this.pdf.setFillColor(dt.r,dt.g,dt.b,{a:dt.a}),this.pdf.setTextColor(dt.r,dt.g,dt.b,{a:dt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ft){var dt=_(Ft);this.ctx.strokeStyle=dt.style,this.ctx.isStrokeTransparent=dt.a===0,this.ctx.strokeOpacity=dt.a,dt.a===0?this.pdf.setDrawColor(255,255,255):(dt.a,this.pdf.setDrawColor(dt.r,dt.g,dt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ft){["butt","round","square"].indexOf(Ft)!==-1&&(this.ctx.lineCap=Ft,this.pdf.setLineCap(Ft))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ft){isNaN(Ft)||(this.ctx.lineWidth=Ft,this.pdf.setLineWidth(Ft))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ft){["bevel","round","miter"].indexOf(Ft)!==-1&&(this.ctx.lineJoin=Ft,this.pdf.setLineJoin(Ft))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ft){isNaN(Ft)||(this.ctx.miterLimit=Ft,this.pdf.setMiterLimit(Ft))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ft){this.ctx.textBaseline=Ft}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ft){["right","end","center","left","start"].indexOf(Ft)!==-1&&(this.ctx.textAlign=Ft)}});var ee=null;function ie(Ft,dt){if(ee===null){var Oe=(function(de){var Zt=[];return Object.keys(de).forEach((function(te){de[te].forEach((function(ae){var oe=null;switch(ae){case"bold":oe={family:te,weight:"bold"};break;case"italic":oe={family:te,style:"italic"};break;case"bolditalic":oe={family:te,weight:"bold",style:"italic"};break;case"":case"normal":oe={family:te}}oe!==null&&(oe.ref={name:te,style:ae},Zt.push(oe))}))})),Zt})(Ft.getFontList());ee=(function(de){for(var Zt={},te=0;te<de.length;++te){var ae=cv(de[te]),oe=ae.family,ye=ae.stretch,me=ae.style,Fe=ae.weight;Zt[oe]=Zt[oe]||{},Zt[oe][ye]=Zt[oe][ye]||{},Zt[oe][ye][me]=Zt[oe][ye][me]||{},Zt[oe][ye][me][Fe]=ae}return Zt})(Oe.concat(dt))}return ee}var ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(Ft){ee=null,ve=Ft}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ft){var dt;if(this.ctx.font=Ft,(dt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ft))!==null){var Oe=dt[1],de=(dt[2],dt[3]),Zt=dt[4],te=(dt[5],dt[6]),ae=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Zt)[2];Zt=Math.floor(ae==="px"?parseFloat(Zt)*this.pdf.internal.scaleFactor:ae==="em"?parseFloat(Zt)*this.pdf.getFontSize():parseFloat(Zt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Zt);var oe=(function(Ne){var Ge,le,ui=[],We=Ne.trim();if(We==="")return u2;if(We in sx)return[sx[We]];for(;We!=="";){switch(le=null,Ge=(We=ox(We)).charAt(0)){case'"':case"'":le=hO(We.substring(1),Ge);break;default:le=fO(We)}if(le===null||(ui.push(le[0]),(We=ox(le[1]))!==""&&We.charAt(0)!==","))return u2;We=We.replace(/^,/,"")}return ui})(te);if(this.fontFaces){var ye=cO(ie(this.pdf,this.fontFaces),oe.map((function(Ne){return{family:Ne,stretch:"normal",weight:de,style:Oe}})));this.pdf.setFont(ye.ref.name,ye.ref.style)}else{var me="";(de==="bold"||parseInt(de,10)>=700||Oe==="bold")&&(me="bold"),Oe==="italic"&&(me+="italic"),me.length===0&&(me="normal");for(var Fe="",_e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Te=0;Te<oe.length;Te++){if(this.pdf.internal.getFont(oe[Te],me,{noFallback:!0,disableWarning:!0})!==void 0){Fe=oe[Te];break}if(me==="bolditalic"&&this.pdf.internal.getFont(oe[Te],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fe=oe[Te],me="bold";else if(this.pdf.internal.getFont(oe[Te],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fe=oe[Te],me="normal";break}}if(Fe===""){for(var tn=0;tn<oe.length;tn++)if(_e[oe[tn]]){Fe=_e[oe[tn]];break}}Fe=Fe===""?"Times":Fe,this.pdf.setFont(Fe,me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ft){this.ctx.globalCompositeOperation=Ft}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ft){this.ctx.globalAlpha=Ft}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ft){this.ctx.lineDashOffset=Ft,tt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ft){this.ctx.lineDash=Ft,tt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ft){this.ctx.ignoreClearRect=!!Ft}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){H.call(this,"fill",!1)},m.prototype.stroke=function(){H.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,Y){if(isNaN(M)||isNaN(Y))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var nt=this.ctx.transform.applyToPoint(new l(M,Y));this.path.push({type:"mt",x:nt.x,y:nt.y}),this.ctx.lastPoint=new l(M,Y)},m.prototype.closePath=function(){var M=new l(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&zn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){M=new l(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},m.prototype.lineTo=function(M,Y){if(isNaN(M)||isNaN(Y))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var nt=this.ctx.transform.applyToPoint(new l(M,Y));this.path.push({type:"lt",x:nt.x,y:nt.y}),this.ctx.lastPoint=new l(nt.x,nt.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,Y,nt,lt){if(isNaN(nt)||isNaN(lt)||isNaN(M)||isNaN(Y))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ht=this.ctx.transform.applyToPoint(new l(nt,lt)),_t=this.ctx.transform.applyToPoint(new l(M,Y));this.path.push({type:"qct",x1:_t.x,y1:_t.y,x:ht.x,y:ht.y}),this.ctx.lastPoint=new l(ht.x,ht.y)},m.prototype.bezierCurveTo=function(M,Y,nt,lt,ht,_t){if(isNaN(ht)||isNaN(_t)||isNaN(M)||isNaN(Y)||isNaN(nt)||isNaN(lt))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Nt=this.ctx.transform.applyToPoint(new l(ht,_t)),Rt=this.ctx.transform.applyToPoint(new l(M,Y)),Qt=this.ctx.transform.applyToPoint(new l(nt,lt));this.path.push({type:"bct",x1:Rt.x,y1:Rt.y,x2:Qt.x,y2:Qt.y,x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new l(Nt.x,Nt.y)},m.prototype.arc=function(M,Y,nt,lt,ht,_t){if(isNaN(M)||isNaN(Y)||isNaN(nt)||isNaN(lt)||isNaN(ht))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_t=!!_t,!this.ctx.transform.isIdentity){var Nt=this.ctx.transform.applyToPoint(new l(M,Y));M=Nt.x,Y=Nt.y;var Rt=this.ctx.transform.applyToPoint(new l(0,nt)),Qt=this.ctx.transform.applyToPoint(new l(0,0));nt=Math.sqrt(Math.pow(Rt.x-Qt.x,2)+Math.pow(Rt.y-Qt.y,2))}Math.abs(ht-lt)>=2*Math.PI&&(lt=0,ht=2*Math.PI),this.path.push({type:"arc",x:M,y:Y,radius:nt,startAngle:lt,endAngle:ht,counterclockwise:_t})},m.prototype.arcTo=function(M,Y,nt,lt,ht){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,Y,nt,lt){if(isNaN(M)||isNaN(Y)||isNaN(nt)||isNaN(lt))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,Y),this.lineTo(M+nt,Y),this.lineTo(M+nt,Y+lt),this.lineTo(M,Y+lt),this.lineTo(M,Y),this.lineTo(M+nt,Y),this.lineTo(M,Y)},m.prototype.fillRect=function(M,Y,nt,lt){if(isNaN(M)||isNaN(Y)||isNaN(nt)||isNaN(lt))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ht={};this.lineCap!=="butt"&&(ht.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ht.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,Y,nt,lt),this.fill(),ht.hasOwnProperty("lineCap")&&(this.lineCap=ht.lineCap),ht.hasOwnProperty("lineJoin")&&(this.lineJoin=ht.lineJoin)}},m.prototype.strokeRect=function(M,Y,nt,lt){if(isNaN(M)||isNaN(Y)||isNaN(nt)||isNaN(lt))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(M,Y,nt,lt),this.stroke())},m.prototype.clearRect=function(M,Y,nt,lt){if(isNaN(M)||isNaN(Y)||isNaN(nt)||isNaN(lt))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,Y,nt,lt))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,nt=0;nt<this.pdf.internal.getNumberOfPages();nt++)this.pdf.setPage(nt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var lt=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=lt}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,nt=0;nt<this.pdf.internal.getNumberOfPages();nt++)this.pdf.setPage(nt+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(M){var Y,nt,lt,ht;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))Y=0,nt=0,lt=0,ht=0;else{var _t=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(_t!==null)Y=parseInt(_t[1]),nt=parseInt(_t[2]),lt=parseInt(_t[3]),ht=1;else if((_t=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)Y=parseInt(_t[1]),nt=parseInt(_t[2]),lt=parseInt(_t[3]),ht=parseFloat(_t[4]);else{if(ht=1,typeof M=="string"&&M.charAt(0)!=="#"){var Nt=new z3(M);M=Nt.ok?Nt.toHex():"#000000"}M.length===4?(Y=M.substring(1,2),Y+=Y,nt=M.substring(2,3),nt+=nt,lt=M.substring(3,4),lt+=lt):(Y=M.substring(1,3),nt=M.substring(3,5),lt=M.substring(5,7)),Y=parseInt(Y,16),nt=parseInt(nt,16),lt=parseInt(lt,16)}}return{r:Y,g:nt,b:lt,a:ht,style:M}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,Y,nt,lt){if(isNaN(Y)||isNaN(nt)||typeof M!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(lt=isNaN(lt)?void 0:lt,!y.call(this)){var ht=et(this.ctx.transform.rotation),_t=this.ctx.transform.scaleX;P.call(this,{text:M,x:Y,y:nt,scale:_t,angle:ht,align:this.textAlign,maxWidth:lt})}},m.prototype.strokeText=function(M,Y,nt,lt){if(isNaN(Y)||isNaN(nt)||typeof M!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){lt=isNaN(lt)?void 0:lt;var ht=et(this.ctx.transform.rotation),_t=this.ctx.transform.scaleX;P.call(this,{text:M,x:Y,y:nt,scale:_t,renderingMode:"stroke",angle:ht,align:this.textAlign,maxWidth:lt})}},m.prototype.measureText=function(M){if(typeof M!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,nt=this.pdf.internal.scaleFactor,lt=Y.internal.getFontSize(),ht=Y.getStringUnitWidth(M)*lt/Y.internal.scaleFactor,_t=function(Nt){var Rt=(Nt=Nt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Rt}}),this};return new _t({width:ht*=Math.round(96*nt/72*1e4)/1e4})},m.prototype.scale=function(M,Y){if(isNaN(M)||isNaN(Y))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var nt=new h(M,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(nt)},m.prototype.rotate=function(M){if(isNaN(M))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new h(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.translate=function(M,Y){if(isNaN(M)||isNaN(Y))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var nt=new h(1,0,0,1,M,Y);this.ctx.transform=this.ctx.transform.multiply(nt)},m.prototype.transform=function(M,Y,nt,lt,ht,_t){if(isNaN(M)||isNaN(Y)||isNaN(nt)||isNaN(lt)||isNaN(ht)||isNaN(_t))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Nt=new h(M,Y,nt,lt,ht,_t);this.ctx.transform=this.ctx.transform.multiply(Nt)},m.prototype.setTransform=function(M,Y,nt,lt,ht,_t){M=isNaN(M)?1:M,Y=isNaN(Y)?0:Y,nt=isNaN(nt)?0:nt,lt=isNaN(lt)?1:lt,ht=isNaN(ht)?0:ht,_t=isNaN(_t)?0:_t,this.ctx.transform=new h(M,Y,nt,lt,ht,_t)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,Y,nt,lt,ht,_t,Nt,Rt,Qt){var Kt=this.pdf.getImageProperties(M),ee=1,ie=1,ve=1,Ft=1;lt!==void 0&&Rt!==void 0&&(ve=Rt/lt,Ft=Qt/ht,ee=Kt.width/lt*Rt/lt,ie=Kt.height/ht*Qt/ht),_t===void 0&&(_t=Y,Nt=nt,Y=0,nt=0),lt!==void 0&&Rt===void 0&&(Rt=lt,Qt=ht),lt===void 0&&Rt===void 0&&(Rt=Kt.width,Qt=Kt.height);for(var dt,Oe=this.ctx.transform.decompose(),de=et(Oe.rotate.shx),Zt=new h,te=(Zt=(Zt=(Zt=Zt.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new u(_t-Y*ve,Nt-nt*Ft,lt*ee,ht*ie)),ae=C.call(this,te),oe=[],ye=0;ye<ae.length;ye+=1)oe.indexOf(ae[ye])===-1&&oe.push(ae[ye]);if(j(oe),this.autoPaging)for(var me=oe[0],Fe=oe[oe.length-1],_e=me;_e<Fe+1;_e++){this.pdf.setPage(_e);var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=_e===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],le=_e===1?0:Ne+(_e-2)*Ge;if(this.ctx.clip_path.length!==0){var ui=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(dt,this.posX+this.margin[3],-le+tn+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=ui}var We=JSON.parse(JSON.stringify(te));We=D([We],this.posX+this.margin[3],-le+tn+this.ctx.prevPageLastElemOffset)[0];var Un=(_e>me||_e<Fe)&&T.call(this);Un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,Ge,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",We.x,We.y,We.w,We.h,null,null,de),Un&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",te.x,te.y,te.w,te.h,null,null,de)};var C=function(M,Y,nt){var lt=[];Y=Y||this.pdf.internal.pageSize.width,nt=nt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ht=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":lt.push(Math.floor((M.y+ht)/nt)+1);break;case"arc":lt.push(Math.floor((M.y+ht-M.radius)/nt)+1),lt.push(Math.floor((M.y+ht+M.radius)/nt)+1);break;case"qct":var _t=ut(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);lt.push(Math.floor((_t.y+ht)/nt)+1),lt.push(Math.floor((_t.y+_t.h+ht)/nt)+1);break;case"bct":var Nt=pt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);lt.push(Math.floor((Nt.y+ht)/nt)+1),lt.push(Math.floor((Nt.y+Nt.h+ht)/nt)+1);break;case"rect":lt.push(Math.floor((M.y+ht)/nt)+1),lt.push(Math.floor((M.y+M.h+ht)/nt)+1)}for(var Rt=0;Rt<lt.length;Rt+=1)for(;this.pdf.internal.getNumberOfPages()<lt[Rt];)E.call(this);return lt},E=function(){var M=this.fillStyle,Y=this.strokeStyle,nt=this.font,lt=this.lineCap,ht=this.lineWidth,_t=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=Y,this.font=nt,this.lineCap=lt,this.lineWidth=ht,this.lineJoin=_t},D=function(M,Y,nt){for(var lt=0;lt<M.length;lt++)switch(M[lt].type){case"bct":M[lt].x2+=Y,M[lt].y2+=nt;case"qct":M[lt].x1+=Y,M[lt].y1+=nt;case"mt":case"lt":case"arc":default:M[lt].x+=Y,M[lt].y+=nt}return M},j=function(M){return M.sort((function(Y,nt){return Y-nt}))},H=function(M,Y){for(var nt,lt,ht=this.fillStyle,_t=this.strokeStyle,Nt=this.lineCap,Rt=this.lineWidth,Qt=Math.abs(Rt*this.ctx.transform.scaleX),Kt=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),ve=[],Ft=0;Ft<ie.length;Ft++)if(ie[Ft].x!==void 0)for(var dt=C.call(this,ie[Ft]),Oe=0;Oe<dt.length;Oe+=1)ve.indexOf(dt[Oe])===-1&&ve.push(dt[Oe]);for(var de=0;de<ve.length;de++)for(;this.pdf.internal.getNumberOfPages()<ve[de];)E.call(this);if(j(ve),this.autoPaging)for(var Zt=ve[0],te=ve[ve.length-1],ae=Zt;ae<te+1;ae++){this.pdf.setPage(ae),this.fillStyle=ht,this.strokeStyle=_t,this.lineCap=Nt,this.lineWidth=Qt,this.lineJoin=Kt;var oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ye=ae===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=ae===1?0:me+(ae-2)*Fe;if(this.ctx.clip_path.length!==0){var Te=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(nt,this.posX+this.margin[3],-_e+ye+this.ctx.prevPageLastElemOffset),K.call(this,M,!0),this.path=Te}if(lt=JSON.parse(JSON.stringify(ee)),this.path=D(lt,this.posX+this.margin[3],-_e+ye+this.ctx.prevPageLastElemOffset),Y===!1||ae===0){var tn=(ae>Zt||ae<te)&&T.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,Fe,null).clip().discardPath()),K.call(this,M,Y),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=Rt}else this.lineWidth=Qt,K.call(this,M,Y),this.lineWidth=Rt;this.path=ee},K=function(M,Y){if((M!=="stroke"||Y||!S.call(this))&&(M==="stroke"||Y||!y.call(this))){for(var nt,lt,ht=[],_t=this.path,Nt=0;Nt<_t.length;Nt++){var Rt=_t[Nt];switch(Rt.type){case"begin":ht.push({begin:!0});break;case"close":ht.push({close:!0});break;case"mt":ht.push({start:Rt,deltas:[],abs:[]});break;case"lt":var Qt=ht.length;if(_t[Nt-1]&&!isNaN(_t[Nt-1].x)&&(nt=[Rt.x-_t[Nt-1].x,Rt.y-_t[Nt-1].y],Qt>0)){for(;Qt>=0;Qt--)if(ht[Qt-1].close!==!0&&ht[Qt-1].begin!==!0){ht[Qt-1].deltas.push(nt),ht[Qt-1].abs.push(Rt);break}}break;case"bct":nt=[Rt.x1-_t[Nt-1].x,Rt.y1-_t[Nt-1].y,Rt.x2-_t[Nt-1].x,Rt.y2-_t[Nt-1].y,Rt.x-_t[Nt-1].x,Rt.y-_t[Nt-1].y],ht[ht.length-1].deltas.push(nt);break;case"qct":var Kt=_t[Nt-1].x+2/3*(Rt.x1-_t[Nt-1].x),ee=_t[Nt-1].y+2/3*(Rt.y1-_t[Nt-1].y),ie=Rt.x+2/3*(Rt.x1-Rt.x),ve=Rt.y+2/3*(Rt.y1-Rt.y),Ft=Rt.x,dt=Rt.y;nt=[Kt-_t[Nt-1].x,ee-_t[Nt-1].y,ie-_t[Nt-1].x,ve-_t[Nt-1].y,Ft-_t[Nt-1].x,dt-_t[Nt-1].y],ht[ht.length-1].deltas.push(nt);break;case"arc":ht.push({deltas:[],abs:[],arc:!0}),Array.isArray(ht[ht.length-1].abs)&&ht[ht.length-1].abs.push(Rt)}}lt=Y?null:M==="stroke"?"stroke":"fill";for(var Oe=!1,de=0;de<ht.length;de++)if(ht[de].arc)for(var Zt=ht[de].abs,te=0;te<Zt.length;te++){var ae=Zt[te];ae.type==="arc"?I.call(this,ae.x,ae.y,ae.radius,ae.startAngle,ae.endAngle,ae.counterclockwise,void 0,Y,!Oe):z.call(this,ae.x,ae.y),Oe=!0}else if(ht[de].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(ht[de].begin!==!0){var oe=ht[de].start.x,ye=ht[de].start.y;ot.call(this,ht[de].deltas,oe,ye),Oe=!0}lt&&B.call(this,lt),Y&&q.call(this)}},Z=function(M){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,nt=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-nt;case"top":return M+Y-nt;case"hanging":return M+Y-2*nt;case"middle":return M+Y/2-nt;case"ideographic":return M;case"alphabetic":default:return M}},k=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(Y,nt){this.colorStops.push([Y,nt])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(M,Y,nt,lt,ht,_t,Nt,Rt,Qt){for(var Kt=$.call(this,nt,lt,ht,_t),ee=0;ee<Kt.length;ee++){var ie=Kt[ee];ee===0&&(Qt?L.call(this,ie.x1+M,ie.y1+Y):z.call(this,ie.x1+M,ie.y1+Y)),mt.call(this,M,Y,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}Rt?q.call(this):B.call(this,Nt)},B=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(M,Y){this.pdf.internal.out(e(M)+" "+i(Y)+" m")},P=function(M){var Y;switch(M.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var nt=this.pdf.getTextDimensions(M.text),lt=Z.call(this,M.y),ht=k.call(this,lt)-nt.h,_t=this.ctx.transform.applyToPoint(new l(M.x,lt)),Nt=this.ctx.transform.decompose(),Rt=new h;Rt=(Rt=(Rt=Rt.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale);for(var Qt,Kt,ee,ie=this.ctx.transform.applyToRectangle(new u(M.x,lt,nt.w,nt.h)),ve=Rt.applyToRectangle(new u(M.x,ht,nt.w,nt.h)),Ft=C.call(this,ve),dt=[],Oe=0;Oe<Ft.length;Oe+=1)dt.indexOf(Ft[Oe])===-1&&dt.push(Ft[Oe]);if(j(dt),this.autoPaging)for(var de=dt[0],Zt=dt[dt.length-1],te=de;te<Zt+1;te++){this.pdf.setPage(te);var ae=te===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ye=this.pdf.internal.pageSize.height-this.margin[2],me=ye-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],_e=Fe-this.margin[3],Te=te===1?0:oe+(te-2)*me;if(this.ctx.clip_path.length!==0){var tn=this.path;Qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Qt,this.posX+this.margin[3],-1*Te+ae),K.call(this,"fill",!0),this.path=tn}var Ne=D([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Te+ae+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Kt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Kt*M.scale),ee=this.lineWidth,this.lineWidth=ee*M.scale);var Ge=this.autoPaging!=="text";if(Ge||Ne.y+Ne.h<=ye){if(Ge||Ne.y>=ae&&Ne.x<=Fe){var le=Ge?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Fe-Ne.x)[0],ui=D([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-Te+ae+this.ctx.prevPageLastElemOffset)[0],We=Ge&&(te>de||te<Zt)&&T.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,me,null).clip().discardPath()),this.pdf.text(le,ui.x,ui.y,{angle:M.angle,align:Y,renderingMode:M.renderingMode}),We&&this.pdf.restoreGraphicsState()}}else Ne.y<ye&&(this.ctx.prevPageLastElemOffset+=ye-Ne.y);M.scale>=.01&&(this.pdf.setFontSize(Kt),this.lineWidth=ee)}else M.scale>=.01&&(Kt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Kt*M.scale),ee=this.lineWidth,this.lineWidth=ee*M.scale),this.pdf.text(M.text,_t.x+this.posX,_t.y+this.posY,{angle:M.angle,align:Y,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Kt),this.lineWidth=ee)},z=function(M,Y,nt,lt){nt=nt||0,lt=lt||0,this.pdf.internal.out(e(M+nt)+" "+i(Y+lt)+" l")},ot=function(M,Y,nt){return this.pdf.lines(M,Y,nt,null,null)},mt=function(M,Y,nt,lt,ht,_t,Nt,Rt){this.pdf.internal.out([t(r(nt+M)),t(a(lt+Y)),t(r(ht+M)),t(a(_t+Y)),t(r(Nt+M)),t(a(Rt+Y)),"c"].join(" "))},$=function(M,Y,nt,lt){for(var ht=2*Math.PI,_t=Math.PI/2;Y>nt;)Y-=ht;var Nt=Math.abs(nt-Y);Nt<ht&&lt&&(Nt=ht-Nt);for(var Rt=[],Qt=lt?-1:1,Kt=Y;Nt>1e-5;){var ee=Kt+Qt*Math.min(Nt,_t);Rt.push(J.call(this,M,Kt,ee)),Nt-=Math.abs(ee-Kt),Kt=ee}return Rt},J=function(M,Y,nt){var lt=(nt-Y)/2,ht=M*Math.cos(lt),_t=M*Math.sin(lt),Nt=ht,Rt=-_t,Qt=Nt*Nt+Rt*Rt,Kt=Qt+Nt*ht+Rt*_t,ee=4/3*(Math.sqrt(2*Qt*Kt)-Kt)/(Nt*_t-Rt*ht),ie=Nt-ee*Rt,ve=Rt+ee*Nt,Ft=ie,dt=-ve,Oe=lt+Y,de=Math.cos(Oe),Zt=Math.sin(Oe);return{x1:M*Math.cos(Y),y1:M*Math.sin(Y),x2:ie*de-ve*Zt,y2:ie*Zt+ve*de,x3:Ft*de-dt*Zt,y3:Ft*Zt+dt*de,x4:M*Math.cos(nt),y4:M*Math.sin(nt)}},et=function(M){return 180*M/Math.PI},ut=function(M,Y,nt,lt,ht,_t){var Nt=M+.5*(nt-M),Rt=Y+.5*(lt-Y),Qt=ht+.5*(nt-ht),Kt=_t+.5*(lt-_t),ee=Math.min(M,ht,Nt,Qt),ie=Math.max(M,ht,Nt,Qt),ve=Math.min(Y,_t,Rt,Kt),Ft=Math.max(Y,_t,Rt,Kt);return new u(ee,ve,ie-ee,Ft-ve)},pt=function(M,Y,nt,lt,ht,_t,Nt,Rt){var Qt,Kt,ee,ie,ve,Ft,dt,Oe,de,Zt,te,ae,oe,ye,me=nt-M,Fe=lt-Y,_e=ht-nt,Te=_t-lt,tn=Nt-ht,Ne=Rt-_t;for(Kt=0;Kt<41;Kt++)de=(dt=(ee=M+(Qt=Kt/40)*me)+Qt*((ve=nt+Qt*_e)-ee))+Qt*(ve+Qt*(ht+Qt*tn-ve)-dt),Zt=(Oe=(ie=Y+Qt*Fe)+Qt*((Ft=lt+Qt*Te)-ie))+Qt*(Ft+Qt*(_t+Qt*Ne-Ft)-Oe),Kt==0?(te=de,ae=Zt,oe=de,ye=Zt):(te=Math.min(te,de),ae=Math.min(ae,Zt),oe=Math.max(oe,de),ye=Math.max(ye,Zt));return new u(Math.round(te),Math.round(ae),Math.round(oe-te),Math.round(ye-ae))},tt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,Y,nt=(M=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:Y}));this.prevLineDash!==nt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=nt)}}})(Ce.API),(function(n){var t=function(a){var l,u,h,f,p,m,_,y,S,T;for(u=[],h=0,f=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;f>h;h+=4)(p=(a.charCodeAt(h)<<24)+(a.charCodeAt(h+1)<<16)+(a.charCodeAt(h+2)<<8)+a.charCodeAt(h+3))!==0?(m=(p=((p=((p=((p=(p-(T=p%85))/85)-(S=p%85))/85)-(y=p%85))/85)-(_=p%85))/85)%85,u.push(m+33,_+33,y+33,S+33,T+33)):u.push(122);return(function(C,E){for(var D=E;D>0;D--)C.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},e=function(a){var l,u,h,f,p,m=String,_="length",y=255,S="charCodeAt",T="slice",C="replace";for(a[T](-2),a=a[T](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),h=[],f=0,p=(a+=l="uuuuu"[T](a[_]%5||5))[_];p>f;f+=5)u=52200625*(a[S](f)-33)+614125*(a[S](f+1)-33)+7225*(a[S](f+2)-33)+85*(a[S](f+3)-33)+(a[S](f+4)-33),h.push(y&u>>24,y&u>>16,y&u>>8,y&u);return(function(E,D){for(var j=D;j>0;j--)E.pop()})(h,l[_]),m.fromCharCode.apply(m,h)},i=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var u="",h=0;h<a.length;h+=2)u+=String.fromCharCode("0x"+(a[h]+a[h+1]));return u},r=function(a){for(var l=new Uint8Array(a.length),u=a.length;u--;)l[u]=a.charCodeAt(u);return a=(l=rv(l)).reduce((function(h,f){return h+String.fromCharCode(f)}),"")};n.processDataByFilters=function(a,l){var u=0,h=a||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map((function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)})).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(Ce.API),(function(n){n.loadFile=function(t,e,i){return(function(r,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=(function(h,f,p){var m=new XMLHttpRequest,_=0,y=function(S){var T=S.length,C=[],E=String.fromCharCode;for(_=0;_<T;_+=1)C.push(E(255&S.charCodeAt(_)));return C.join("")};if(m.open("GET",h,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?p(y(this.responseText)):p(void 0)}),m.send(null),f&&m.status===200)return y(m.responseText)})(r,a,l)}catch{}return u})(t,e,i)},n.loadImageFile=n.loadFile})(Ce.API),(function(n){function t(){return(Pe.html2canvas?Promise.resolve(Pe.html2canvas):Z2(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))})).then((function(l){return l.default?l.default:l}))}function e(){return(Pe.DOMPurify?Promise.resolve(Pe.DOMPurify):Z2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(l){return Promise.reject(new Error("Could not load dompurify: "+l))})).then((function(l){return l.default?l.default:l}))}var i=function(l){var u=zn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(l,u){var h=document.createElement(l);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},a=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),h);return f=(f=f.setProgress(1,l,1,[l])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,u){return l.__proto__=u||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,u){return this.then((function(){switch(u=u||(function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l)){case"string":return this.then(e).then((function(h){return this.set({src:r("div",{innerHTML:l,dompurify:h})})}));case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=(function h(f,p){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),_=f.firstChild;_;_=_.nextSibling)p!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||m.appendChild(h(_,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",(function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft}),!0)),m})(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then((function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)})).then((function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then((function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var _=0;_<f.length;++_){var y=f[_],S=y.src.find((function(T){return T.format==="truetype"}));S&&h.addFont(S.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,h.context2d.save(!0),u(this.prop.container,m)})).then((function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},a.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(l,u)}))},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}}))},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(l){if(i(l)!=="object")return this;var u=Object.keys(l||{}).map((function(h){if(h in a.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}}),this);return this.then((function(){return this.thenList(u)}))},a.prototype.get=function(l,u){return this.then((function(){var h=l in a.template.prop?this.prop[l]:this.opt[l];return u?u(h):h}))},a.prototype.setMargin=function(l){return this.then((function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l})).then(this.setPageSize)},a.prototype.setPageSize=function(l){function u(h,f){return Math.floor(h*f/72*96)}return this.then((function(){(l=l||Ce.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l}))},a.prototype.setProgress=function(l,u,h,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,u,h,f){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,(function(f,p){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,(function(m){return h.updateProgress(null,f),m})).then(f,p).then((function(m){return h.updateProgress(1),m}))}))},a.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),p=h.call(f,l,u);return a.convert(p,this.__proto__)},a.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},a.prototype.thenList=function(l){var u=this;return l.forEach((function(h){u=u.thenCore(h)})),u},a.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return a.convert(u,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then((function(){throw new Error(l)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ce.getPageSize=function(l,u,h){if(zn(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var p,m=(""+h).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var y,S=0,T=0;if(_.hasOwnProperty(m))S=_[m][1]/p,T=_[m][0]/p;else try{S=h[1],T=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",T>S&&(y=T,T=S,S=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>T&&(y=T,T=S,S=y)}return{width:T,height:S,unit:u,k:p,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(cv):null;var h=new a(u);return u.worker?h:h.from(l).doCallback()}})(Ce.API),Ce.API.addJS=function(n){return ux=n,this.internal.events.subscribe("postPutResources",(function(){kg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ux+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){kg!==void 0&&lx!==void 0&&this.internal.out("/Names <</JavaScript "+kg+" 0 R>>")})),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var l=r[a],u=i.exec(l);if(u!=null){var h=u[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var m=e.internal.newObject();p.push(m);var _=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var y=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<p.length;a++)e.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+y+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,a){var l={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=e.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])})(Ce.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,a,l,u){var h,f=this.decode.DCT_DECODE,p=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=l||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(h=(function(m){for(var _,y=256*m.charCodeAt(4)+m.charCodeAt(5),S=m.length,T={width:0,height:0,numcomponents:1},C=4;C<S;C+=2){if(C+=y,t.indexOf(m.charCodeAt(C+1))!==-1){_=256*m.charCodeAt(C+5)+m.charCodeAt(C+6),T={width:256*m.charCodeAt(C+7)+m.charCodeAt(C+8),height:_,numcomponents:m.charCodeAt(C+9)};break}y=256*m.charCodeAt(C+2)+m.charCodeAt(C+3)}return T})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:e,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return p}})(Ce.API);var rf,Og,cx,hx,fx,dO=(function(){var n,t,e;function i(a){var l,u,h,f,p,m,_,y,S,T,C,E,D,j;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(l=this.readUInt32(),S=(function(){var H,K;for(K=[],H=0;H<4;++H)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*p/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,l-=4),a=(m!=null?m.data:void 0)||this.imgData,E=0;0<=l?E<l:E>l;0<=l?++E:--E)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((T=h-this.transparency.indexed.length)>0)for(D=0;0<=T?D<T:D>T;0<=T?++D:--D)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":_=(C=this.read(l)).indexOf(0),y=String.fromCharCode.apply(String,C.slice(0,_)),this.text[y]=String.fromCharCode.apply(String,C.slice(_+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var l,u;for(u=[],l=0;0<=a?l<a:l>a;0<=a?++l:--l)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),h=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function p(m,_,y,S){var T,C,E,D,j,H,K,Z,k,I,B,q,L,P,z,ot,mt,$,J,et,ut,pt=Math.ceil((f.width-m)/y),tt=Math.ceil((f.height-_)/S),M=f.width==pt&&f.height==tt;for(P=l*pt,q=M?u:new Uint8Array(P*tt),H=a.length,L=0,C=0;L<tt&&h<H;){switch(a[h++]){case 0:for(D=mt=0;mt<P;D=mt+=1)q[C++]=a[h++];break;case 1:for(D=$=0;$<P;D=$+=1)T=a[h++],j=D<l?0:q[C-l],q[C++]=(T+j)%256;break;case 2:for(D=J=0;J<P;D=J+=1)T=a[h++],E=(D-D%l)/l,z=L&&q[(L-1)*P+E*l+D%l],q[C++]=(z+T)%256;break;case 3:for(D=et=0;et<P;D=et+=1)T=a[h++],E=(D-D%l)/l,j=D<l?0:q[C-l],z=L&&q[(L-1)*P+E*l+D%l],q[C++]=(T+Math.floor((j+z)/2))%256;break;case 4:for(D=ut=0;ut<P;D=ut+=1)T=a[h++],E=(D-D%l)/l,j=D<l?0:q[C-l],L===0?z=ot=0:(z=q[(L-1)*P+E*l+D%l],ot=E&&q[(L-1)*P+(E-1)*l+D%l]),K=j+z-ot,Z=Math.abs(K-j),I=Math.abs(K-z),B=Math.abs(K-ot),k=Z<=I&&Z<=B?j:I<=B?z:ot,q[C++]=(T+k)%256;break;default:throw new Error("Invalid filter algorithm: "+a[h-1])}if(!M){var Y=((_+L*S)*f.width+m)*l,nt=L*P;for(D=0;D<pt;D+=1){for(var lt=0;lt<l;lt+=1)u[Y++]=q[nt++];Y+=(y-1)*l}}L++}}return a=H7(a),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),u},i.prototype.decodePalette=function(){var a,l,u,h,f,p,m,_,y;for(u=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+u.length),h=0,a=0,l=m=0,_=u.length;m<_;l=m+=3)f[h++]=u[l],f[h++]=u[l+1],f[h++]=u[l+2],f[h++]=(y=p[a++])!=null?y:255;return f},i.prototype.copyToImageData=function(a,l){var u,h,f,p,m,_,y,S,T,C,E;if(h=this.colors,T=null,u=this.hasAlphaChannel,this.palette.length&&(T=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),h=4,u=!0),S=(f=a.data||a).length,m=T||l,p=_=0,h===1)for(;p<S;)y=T?4*l[p/4]:_,C=m[y++],f[p++]=C,f[p++]=C,f[p++]=C,f[p++]=u?m[y++]:255,_=y;else for(;p<S;)y=T?4*l[p/4]:_,f[p++]=m[y++],f[p++]=m[y++],f[p++]=m[y++],f[p++]=u?m[y++]:255,_=y},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var r=function(){if(Object.prototype.toString.call(Pe)==="[object Window]"){try{t=Pe.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(a){var l;if(r()===!0)return e.width=a.width,e.height=a.height,e.clearRect(0,0,a.width,a.height),e.putImageData(a,0,0),(l=new Image).src=t.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var l,u,h,f,p,m,_,y;if(this.animation){for(y=[],u=p=0,m=(_=this.animation.frames).length;p<m;u=++p)l=_[u],h=a.createImageData(l.width,l.height),f=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,f),l.imageData=h,y.push(l.image=n(h));return y}},i.prototype.renderFrame=function(a,l){var u,h,f;return u=(h=this.animation.frames)[l],f=h[l-1],l===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&a.clearRect(u.xOffset,u.yOffset,u.width,u.height),a.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(a){var l,u,h,f,p,m,_=this;return u=0,m=this.animation,f=m.numFrames,h=m.frames,p=m.numPlays,(l=function(){var y,S;if(y=u++%f,S=h[y],_.renderFrame(a,y),f>1&&u/f<p)return _.animation._timeout=setTimeout(l,S.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var l,u;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,l=a.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},i})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pO(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],a=r>>7,l=1<<(7&r)+1;n[t++],n[t++];var u=null,h=null;a&&(u=t,h=l,t+=3*l);var f=!0,p=[],m=0,_=null,y=0,S=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,S=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var T=n[t++];m=n[t++]|n[t++]<<8,_=n[t++],(1&T)==0&&(_=null),y=T>>2&7,t++;break;case 254:for(;;){if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var C=n[t++]|n[t++]<<8,E=n[t++]|n[t++]<<8,D=n[t++]|n[t++]<<8,j=n[t++]|n[t++]<<8,H=n[t++],K=H>>6&1,Z=1<<(7&H)+1,k=u,I=h,B=!1;H>>7&&(B=!0,k=t,I=Z,t+=3*Z);var q=t;for(t++;;){var L;if(!((L=n[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}p.push({x:C,y:E,width:D,height:j,has_local_palette:B,palette_offset:k,palette_size:I,data_offset:q,data_length:t-q,transparent_index:_,interlaced:!!K,delay:m,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function(P){if(P<0||P>=p.length)throw new Error("Frame index out of range.");return p[P]},this.decodeAndBlitFrameBGRA=function(P,z){var ot=this.frameInfo(P),mt=ot.width*ot.height,$=new Uint8Array(mt);dx(n,ot.data_offset,$,mt);var J=ot.palette_offset,et=ot.transparent_index;et===null&&(et=256);var ut=ot.width,pt=e-ut,tt=ut,M=4*(ot.y*e+ot.x),Y=4*((ot.y+ot.height)*e+ot.x),nt=M,lt=4*pt;ot.interlaced===!0&&(lt+=4*e*7);for(var ht=8,_t=0,Nt=$.length;_t<Nt;++_t){var Rt=$[_t];if(tt===0&&(tt=ut,(nt+=lt)>=Y&&(lt=4*pt+4*e*(ht-1),nt=M+(ut+pt)*(ht<<1),ht>>=1)),Rt===et)nt+=4;else{var Qt=n[J+3*Rt],Kt=n[J+3*Rt+1],ee=n[J+3*Rt+2];z[nt++]=ee,z[nt++]=Kt,z[nt++]=Qt,z[nt++]=255}--tt}},this.decodeAndBlitFrameRGBA=function(P,z){var ot=this.frameInfo(P),mt=ot.width*ot.height,$=new Uint8Array(mt);dx(n,ot.data_offset,$,mt);var J=ot.palette_offset,et=ot.transparent_index;et===null&&(et=256);var ut=ot.width,pt=e-ut,tt=ut,M=4*(ot.y*e+ot.x),Y=4*((ot.y+ot.height)*e+ot.x),nt=M,lt=4*pt;ot.interlaced===!0&&(lt+=4*e*7);for(var ht=8,_t=0,Nt=$.length;_t<Nt;++_t){var Rt=$[_t];if(tt===0&&(tt=ut,(nt+=lt)>=Y&&(lt=4*pt+4*e*(ht-1),nt=M+(ut+pt)*(ht<<1),ht>>=1)),Rt===et)nt+=4;else{var Qt=n[J+3*Rt],Kt=n[J+3*Rt+1],ee=n[J+3*Rt+2];z[nt++]=Qt,z[nt++]=Kt,z[nt++]=ee,z[nt++]=255}--tt}}}function dx(n,t,e,i){for(var r=n[t++],a=1<<r,l=a+1,u=l+1,h=r+1,f=(1<<h)-1,p=0,m=0,_=0,y=n[t++],S=new Int32Array(4096),T=null;;){for(;p<16&&y!==0;)m|=n[t++]<<p,p+=8,y===1?y=n[t++]:--y;if(p<h)break;var C=m&f;if(m>>=h,p-=h,C!==a){if(C===l)break;for(var E=C<u?C:T,D=0,j=E;j>a;)j=S[j]>>8,++D;var H=j;if(_+D+(E!==C?1:0)>i)return void Qn.log("Warning, gif stream longer than expected.");e[_++]=H;var K=_+=D;for(E!==C&&(e[_++]=H),j=E;D--;)j=S[j],e[--K]=255&j,j>>=8;T!==null&&u<4096&&(S[u++]=T<<8|H,u>=f+1&&h<12&&(++h,f=f<<1|1)),T=C}else u=l+1,f=(1<<(h=r+1))-1,T=null}return _!==i&&Qn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function c2(n){var t,e,i,r,a,l=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),m=new Array(65535),_=new Array(65535),y=new Array(64),S=new Array(64),T=[],C=0,E=7,D=new Array(64),j=new Array(64),H=new Array(64),K=new Array(256),Z=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],ot=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],mt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(M,Y){for(var nt=0,lt=0,ht=new Array,_t=1;_t<=16;_t++){for(var Nt=1;Nt<=M[_t];Nt++)ht[Y[lt]]=[],ht[Y[lt]][0]=nt,ht[Y[lt]][1]=_t,lt++,nt++;nt*=2}return ht}function J(M){for(var Y=M[0],nt=M[1]-1;nt>=0;)Y&1<<nt&&(C|=1<<E),nt--,--E<0&&(C==255?(et(255),et(0)):et(C),E=7,C=0)}function et(M){T.push(M)}function ut(M){et(M>>8&255),et(255&M)}function pt(M,Y,nt,lt,ht){for(var _t,Nt=ht[0],Rt=ht[240],Qt=(function(Zt,te){var ae,oe,ye,me,Fe,_e,Te,tn,Ne,Ge,le=0;for(Ne=0;Ne<8;++Ne){ae=Zt[le],oe=Zt[le+1],ye=Zt[le+2],me=Zt[le+3],Fe=Zt[le+4],_e=Zt[le+5],Te=Zt[le+6];var ui=ae+(tn=Zt[le+7]),We=ae-tn,Un=oe+Te,$e=oe-Te,Ke=ye+_e,As=ye-_e,ln=me+Fe,va=me-Fe,Ln=ui+ln,Ei=ui-ln,dr=Un+Ke,yn=Un-Ke;Zt[le]=Ln+dr,Zt[le+4]=Ln-dr;var xe=.707106781*(yn+Ei);Zt[le+2]=Ei+xe,Zt[le+6]=Ei-xe;var Qe=.382683433*((Ln=va+As)-(yn=$e+We)),Es=.5411961*Ln+Qe,yi=1.306562965*yn+Qe,ji=.707106781*(dr=As+$e),Zi=We+ji,fe=We-ji;Zt[le+5]=fe+Es,Zt[le+3]=fe-Es,Zt[le+1]=Zi+yi,Zt[le+7]=Zi-yi,le+=8}for(le=0,Ne=0;Ne<8;++Ne){ae=Zt[le],oe=Zt[le+8],ye=Zt[le+16],me=Zt[le+24],Fe=Zt[le+32],_e=Zt[le+40],Te=Zt[le+48];var Nr=ae+(tn=Zt[le+56]),tr=ae-tn,bi=oe+Te,ei=oe-Te,Jn=ye+_e,_i=ye-_e,Ua=me+Fe,Fi=me-Fe,bn=Nr+Ua,Dn=Nr-Ua,Ti=bi+Jn,er=bi-Jn;Zt[le]=bn+Ti,Zt[le+32]=bn-Ti;var wi=.707106781*(er+Dn);Zt[le+16]=Dn+wi,Zt[le+48]=Dn-wi;var ds=.382683433*((bn=Fi+_i)-(er=ei+tr)),$s=.5411961*bn+ds,zr=1.306562965*er+ds,Ts=.707106781*(Ti=_i+ei),Ur=tr+Ts,qr=tr-Ts;Zt[le+40]=qr+$s,Zt[le+24]=qr-$s,Zt[le+8]=Ur+zr,Zt[le+56]=Ur-zr,le++}for(Ne=0;Ne<64;++Ne)Ge=Zt[Ne]*te[Ne],y[Ne]=Ge>0?Ge+.5|0:Ge-.5|0;return y})(M,Y),Kt=0;Kt<64;++Kt)S[k[Kt]]=Qt[Kt];var ee=S[0]-nt;nt=S[0],ee==0?J(lt[0]):(J(lt[_[_t=32767+ee]]),J(m[_t]));for(var ie=63;ie>0&&S[ie]==0;)ie--;if(ie==0)return J(Nt),nt;for(var ve,Ft=1;Ft<=ie;){for(var dt=Ft;S[Ft]==0&&Ft<=ie;)++Ft;var Oe=Ft-dt;if(Oe>=16){ve=Oe>>4;for(var de=1;de<=ve;++de)J(Rt);Oe&=15}_t=32767+S[Ft],J(ht[(Oe<<4)+_[_t]]),J(m[_t]),Ft++}return ie!=63&&J(Nt),nt}function tt(M){M=Math.min(Math.max(M,1),100),a!=M&&((function(Y){for(var nt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],lt=0;lt<64;lt++){var ht=l((nt[lt]*Y+50)/100);ht=Math.min(Math.max(ht,1),255),u[k[lt]]=ht}for(var _t=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Nt=0;Nt<64;Nt++){var Rt=l((_t[Nt]*Y+50)/100);Rt=Math.min(Math.max(Rt,1),255),h[k[Nt]]=Rt}for(var Qt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Kt=0,ee=0;ee<8;ee++)for(var ie=0;ie<8;ie++)f[Kt]=1/(u[k[Kt]]*Qt[ee]*Qt[ie]*8),p[Kt]=1/(h[k[Kt]]*Qt[ee]*Qt[ie]*8),Kt++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,Y){Y&&tt(Y),T=new Array,C=0,E=7,ut(65496),ut(65504),ut(16),et(74),et(70),et(73),et(70),et(0),et(1),et(1),et(0),ut(1),ut(1),et(0),et(0),(function(){ut(65499),ut(132),et(0);for(var oe=0;oe<64;oe++)et(u[oe]);et(1);for(var ye=0;ye<64;ye++)et(h[ye])})(),(function(oe,ye){ut(65472),ut(17),et(8),ut(ye),ut(oe),et(3),et(1),et(17),et(0),et(2),et(17),et(1),et(3),et(17),et(1)})(M.width,M.height),(function(){ut(65476),ut(418),et(0);for(var oe=0;oe<16;oe++)et(I[oe+1]);for(var ye=0;ye<=11;ye++)et(B[ye]);et(16);for(var me=0;me<16;me++)et(q[me+1]);for(var Fe=0;Fe<=161;Fe++)et(L[Fe]);et(1);for(var _e=0;_e<16;_e++)et(P[_e+1]);for(var Te=0;Te<=11;Te++)et(z[Te]);et(17);for(var tn=0;tn<16;tn++)et(ot[tn+1]);for(var Ne=0;Ne<=161;Ne++)et(mt[Ne])})(),ut(65498),ut(12),et(3),et(1),et(0),et(2),et(17),et(3),et(17),et(0),et(63),et(0);var nt=0,lt=0,ht=0;C=0,E=7,this.encode.displayName="_encode_";for(var _t,Nt,Rt,Qt,Kt,ee,ie,ve,Ft,dt=M.data,Oe=M.width,de=M.height,Zt=4*Oe,te=0;te<de;){for(_t=0;_t<Zt;){for(Kt=Zt*te+_t,ie=-1,ve=0,Ft=0;Ft<64;Ft++)ee=Kt+(ve=Ft>>3)*Zt+(ie=4*(7&Ft)),te+ve>=de&&(ee-=Zt*(te+1+ve-de)),_t+ie>=Zt&&(ee-=_t+ie-Zt+4),Nt=dt[ee++],Rt=dt[ee++],Qt=dt[ee++],D[Ft]=(Z[Nt]+Z[Rt+256>>0]+Z[Qt+512>>0]>>16)-128,j[Ft]=(Z[Nt+768>>0]+Z[Rt+1024>>0]+Z[Qt+1280>>0]>>16)-128,H[Ft]=(Z[Nt+1280>>0]+Z[Rt+1536>>0]+Z[Qt+1792>>0]>>16)-128;nt=pt(D,f,nt,t,i),lt=pt(j,p,lt,e,r),ht=pt(H,p,ht,e,r),_t+=32}te+=8}if(E>=0){var ae=[];ae[1]=E+1,ae[0]=(1<<E+1)-1,J(ae)}return ut(65497),new Uint8Array(T)},n=n||50,(function(){for(var M=String.fromCharCode,Y=0;Y<256;Y++)K[Y]=M(Y)})(),t=$(I,B),e=$(P,z),i=$(q,L),r=$(ot,mt),(function(){for(var M=1,Y=2,nt=1;nt<=15;nt++){for(var lt=M;lt<Y;lt++)_[32767+lt]=nt,m[32767+lt]=[],m[32767+lt][1]=nt,m[32767+lt][0]=lt;for(var ht=-(Y-1);ht<=-M;ht++)_[32767+ht]=nt,m[32767+ht]=[],m[32767+ht][1]=nt,m[32767+ht][0]=Y-1+ht;M<<=1,Y<<=1}})(),(function(){for(var M=0;M<256;M++)Z[M]=19595*M,Z[M+256>>0]=38470*M,Z[M+512>>0]=7471*M+32768,Z[M+768>>0]=-11059*M,Z[M+1024>>0]=-21709*M,Z[M+1280>>0]=32768*M+8421375,Z[M+1536>>0]=-27439*M,Z[M+1792>>0]=-5329*M})(),tt(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function go(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function px(n){function t(I){if(!I)throw Error("assert :P")}function e(I,B,q){for(var L=0;4>L;L++)if(I[B+L]!=q.charCodeAt(L))return!0;return!1}function i(I,B,q,L,P){for(var z=0;z<P;z++)I[B+z]=q[L+z]}function r(I,B,q,L){for(var P=0;P<L;P++)I[B+P]=q}function a(I){return new Int32Array(I)}function l(I,B){for(var q=[],L=0;L<I;L++)q.push(new B);return q}function u(I,B){var q=[];return(function L(P,z,ot){for(var mt=ot[z],$=0;$<mt&&(P.push(ot.length>z+1?[]:new B),!(ot.length<z+1));$++)L(P[$],z+1,ot)})(q,0,I),q}var h=function(){var I=this;function B(g,w){for(var N=1<<w-1>>>0;g&N;)N>>>=1;return N?(g&N-1)+N:g}function q(g,w,N,F,W){t(!(F%N));do g[w+(F-=N)]=W;while(0<F)}function L(g,w,N,F,W){if(t(2328>=W),512>=W)var X=a(512);else if((X=a(W))==null)return 0;return(function(Q,it,at,ct,yt,Lt){var It,At,Ht=it,jt=1<<at,bt=a(16),xt=a(16);for(t(yt!=0),t(ct!=null),t(Q!=null),t(0<at),At=0;At<yt;++At){if(15<ct[At])return 0;++bt[ct[At]]}if(bt[0]==yt)return 0;for(xt[1]=0,It=1;15>It;++It){if(bt[It]>1<<It)return 0;xt[It+1]=xt[It]+bt[It]}for(At=0;At<yt;++At)It=ct[At],0<ct[At]&&(Lt[xt[It]++]=At);if(xt[15]==1)return(ct=new P).g=0,ct.value=Lt[0],q(Q,Ht,1,jt,ct),jt;var Ut,$t=-1,zt=jt-1,ue=0,ne=1,we=1,re=1<<at;for(At=0,It=1,yt=2;It<=at;++It,yt<<=1){if(ne+=we<<=1,0>(we-=bt[It]))return 0;for(;0<bt[It];--bt[It])(ct=new P).g=It,ct.value=Lt[At++],q(Q,Ht+ue,yt,re,ct),ue=B(ue,It)}for(It=at+1,yt=2;15>=It;++It,yt<<=1){if(ne+=we<<=1,0>(we-=bt[It]))return 0;for(;0<bt[It];--bt[It]){if(ct=new P,(ue&zt)!=$t){for(Ht+=re,Ut=1<<($t=It)-at;15>$t&&!(0>=(Ut-=bt[$t]));)++$t,Ut<<=1;jt+=re=1<<(Ut=$t-at),Q[it+($t=ue&zt)].g=Ut+at,Q[it+$t].value=Ht-it-$t}ct.g=It-at,ct.value=Lt[At++],q(Q,Ht+(ue>>at),yt,re,ct),ue=B(ue,It)}}return ne!=2*xt[15]-1?0:jt})(g,w,N,F,W,X)}function P(){this.value=this.g=0}function z(){this.value=this.g=0}function ot(){this.G=l(5,P),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(zi,z)}function mt(g,w,N,F){t(g!=null),t(w!=null),t(2147483648>F),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=N,g.Jd=w,g.Yc=N+F,g.Zc=4<=F?N+F-4+1:N,_t(g)}function $(g,w){for(var N=0;0<w--;)N|=Rt(g,128)<<w;return N}function J(g,w){var N=$(g,w);return Nt(g)?-N:N}function et(g,w,N,F){var W,X=0;for(t(g!=null),t(w!=null),t(4294967288>F),g.Sb=F,g.Ra=0,g.u=0,g.h=0,4<F&&(F=4),W=0;W<F;++W)X+=w[N+W]<<8*W;g.Ra=X,g.bb=F,g.oa=w,g.pa=N}function ut(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Vo-8>>>0,++g.bb,g.u-=8;nt(g)&&(g.h=1,g.u=0)}function pt(g,w){if(t(0<=w),!g.h&&w<=Bo){var N=Y(g)&Ll[w];return g.u+=w,ut(g),N}return g.h=1,g.u=0}function tt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(g){return g.Ra>>>(g.u&Vo-1)>>>0}function nt(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Vo}function lt(g,w){g.u=w,g.h=nt(g)}function ht(g){g.u>=vu&&(t(g.u>=vu),ut(g))}function _t(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Nt(g){return $(g,1)}function Rt(g,w){var N=g.Ca;0>g.b&&_t(g);var F=g.b,W=N*w>>>8,X=(g.I>>>F>W)+0;for(X?(N-=W,g.I-=W+1<<F>>>0):N=W+1,F=N,W=0;256<=F;)W+=8,F>>=8;return F=7^W+kr[F],g.b-=F,g.Ca=(N<<F)-1,X}function Qt(g,w,N){g[w+0]=N>>24&255,g[w+1]=N>>16&255,g[w+2]=N>>8&255,g[w+3]=N>>0&255}function Kt(g,w){return g[w+0]<<0|g[w+1]<<8}function ee(g,w){return Kt(g,w)|g[w+2]<<16}function ie(g,w){return Kt(g,w)|Kt(g,w+2)<<16}function ve(g,w){var N=1<<w;return t(g!=null),t(0<w),g.X=a(N),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function Ft(g,w){t(g!=null),t(w!=null),t(g.Xa==w.Xa),i(w.X,0,g.X,0,1<<w.Xa)}function dt(){this.X=[],this.Xa=this.Mb=0}function Oe(g,w,N,F){t(N!=null),t(F!=null);var W=N[0],X=F[0];return W==0&&(W=(g*X+w/2)/w),X==0&&(X=(w*W+g/2)/g),0>=W||0>=X?0:(N[0]=W,F[0]=X,1)}function de(g,w){return g+(1<<w)-1>>>w}function Zt(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function te(g,w){I[w]=function(N,F,W,X,Q,it,at){var ct;for(ct=0;ct<Q;++ct){var yt=I[g](it[at+ct-1],W,X+ct);it[at+ct]=Zt(N[F+ct],yt)}}}function ae(){this.ud=this.hd=this.jd=0}function oe(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function ye(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function me(g,w){return ye(g+(g-w+.5>>1))}function Fe(g,w,N){return Math.abs(w-N)-Math.abs(g-N)}function _e(g,w,N,F,W,X,Q){for(F=X[Q-1],N=0;N<W;++N)X[Q+N]=F=Zt(g[w+N],F)}function Te(g,w,N,F,W){var X;for(X=0;X<N;++X){var Q=g[w+X],it=Q>>8&255,at=16711935&(at=(at=16711935&Q)+((it<<16)+it));F[W+X]=(4278255360&Q)+at>>>0}}function tn(g,w){w.jd=g>>0&255,w.hd=g>>8&255,w.ud=g>>16&255}function Ne(g,w,N,F,W,X){var Q;for(Q=0;Q<F;++Q){var it=w[N+Q],at=it>>>8,ct=it,yt=255&(yt=(yt=it>>>16)+((g.jd<<24>>24)*(at<<24>>24)>>>5));ct=255&(ct=(ct=ct+((g.hd<<24>>24)*(at<<24>>24)>>>5))+((g.ud<<24>>24)*(yt<<24>>24)>>>5)),W[X+Q]=(4278255360&it)+(yt<<16)+ct}}function Ge(g,w,N,F,W){I[w]=function(X,Q,it,at,ct,yt,Lt,It,At){for(at=Lt;at<It;++at)for(Lt=0;Lt<At;++Lt)ct[yt++]=W(it[F(X[Q++])])},I[g]=function(X,Q,it,at,ct,yt,Lt){var It=8>>X.b,At=X.Ea,Ht=X.K[0],jt=X.w;if(8>It)for(X=(1<<X.b)-1,jt=(1<<It)-1;Q<it;++Q){var bt,xt=0;for(bt=0;bt<At;++bt)bt&X||(xt=F(at[ct++])),yt[Lt++]=W(Ht[xt&jt]),xt>>=It}else I["VP8LMapColor"+N](at,ct,Ht,jt,yt,Lt,Q,it,At)}}function le(g,w,N,F,W){for(N=w+N;w<N;){var X=g[w++];F[W++]=X>>16&255,F[W++]=X>>8&255,F[W++]=X>>0&255}}function ui(g,w,N,F,W){for(N=w+N;w<N;){var X=g[w++];F[W++]=X>>16&255,F[W++]=X>>8&255,F[W++]=X>>0&255,F[W++]=X>>24&255}}function We(g,w,N,F,W){for(N=w+N;w<N;){var X=(Q=g[w++])>>16&240|Q>>12&15,Q=Q>>0&240|Q>>28&15;F[W++]=X,F[W++]=Q}}function Un(g,w,N,F,W){for(N=w+N;w<N;){var X=(Q=g[w++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;F[W++]=X,F[W++]=Q}}function $e(g,w,N,F,W){for(N=w+N;w<N;){var X=g[w++];F[W++]=X>>0&255,F[W++]=X>>8&255,F[W++]=X>>16&255}}function Ke(g,w,N,F,W,X){if(X==0)for(N=w+N;w<N;)Qt(F,((X=g[w++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),W+=32;else i(F,W,g,w,N)}function As(g,w){I[w][0]=I[g+"0"],I[w][1]=I[g+"1"],I[w][2]=I[g+"2"],I[w][3]=I[g+"3"],I[w][4]=I[g+"4"],I[w][5]=I[g+"5"],I[w][6]=I[g+"6"],I[w][7]=I[g+"7"],I[w][8]=I[g+"8"],I[w][9]=I[g+"9"],I[w][10]=I[g+"10"],I[w][11]=I[g+"11"],I[w][12]=I[g+"12"],I[w][13]=I[g+"13"],I[w][14]=I[g+"0"],I[w][15]=I[g+"0"]}function ln(g){return g==kc||g==Nh||g==Eu||g==Ch}function va(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ei(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new va,this.f.kb=new Ln,this.sd=null}function dr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xe(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Qe(g,w){var N=g.T,F=w.ba.f.RGBA,W=F.eb,X=F.fb+g.ka*F.A,Q=or[w.ba.S],it=g.y,at=g.O,ct=g.f,yt=g.N,Lt=g.ea,It=g.W,At=w.cc,Ht=w.dc,jt=w.Mc,bt=w.Nc,xt=g.ka,Ut=g.ka+g.T,$t=g.U,zt=$t+1>>1;for(xt==0?Q(it,at,null,null,ct,yt,Lt,It,ct,yt,Lt,It,W,X,null,null,$t):(Q(w.ec,w.fc,it,at,At,Ht,jt,bt,ct,yt,Lt,It,W,X-F.A,W,X,$t),++N);xt+2<Ut;xt+=2)At=ct,Ht=yt,jt=Lt,bt=It,yt+=g.Rc,It+=g.Rc,X+=2*F.A,Q(it,(at+=2*g.fa)-g.fa,it,at,At,Ht,jt,bt,ct,yt,Lt,It,W,X-F.A,W,X,$t);return at+=g.fa,g.j+Ut<g.o?(i(w.ec,w.fc,it,at,$t),i(w.cc,w.dc,ct,yt,zt),i(w.Mc,w.Nc,Lt,It,zt),N--):1&Ut||Q(it,at,null,null,ct,yt,Lt,It,ct,yt,Lt,It,W,X+F.A,null,null,$t),N}function Es(g,w,N){var F=g.F,W=[g.J];if(F!=null){var X=g.U,Q=w.ba.S,it=Q==Pc||Q==Eu;w=w.ba.f.RGBA;var at=[0],ct=g.ka;at[0]=g.T,g.Kb&&(ct==0?--at[0]:(--ct,W[0]-=g.width),g.j+g.ka+g.T==g.o&&(at[0]=g.o-g.j-ct));var yt=w.eb;ct=w.fb+ct*w.A,g=Cn(F,W[0],g.width,X,at,yt,ct+(it?0:3),w.A),t(N==at),g&&ln(Q)&&Qr(yt,ct,it,X,at,w.A)}return 0}function yi(g){var w=g.ma,N=w.ba.S,F=11>N,W=N==wr||N==Is||N==Pc||N==Au||N==12||ln(N);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Ja(w.Oa,g,W?11:12))return 0;if(W&&ln(N)&&Xt(),g.da)alert("todo:use_scaling");else{if(F){if(w.Ib=xe,g.Kb){if(N=g.U+1>>1,w.memory=a(g.U+2*N),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+N,w.Ib=Qe,Xt()}}else alert("todo:EmitYUV");W&&(w.Jb=Es,F&&Et())}if(F&&!Jo){for(g=0;256>g;++g)lr[g]=89858*(g-128)+Cu>>Ms,A0[g]=-22014*(g-128)+Cu,Mp[g]=-45773*(g-128),kh[g]=113618*(g-128)+Cu>>Ms;for(g=Ml;g<Qo;++g)w=76283*(g-16)+Cu>>Ms,E0[g-Ml]=An(w,255),T0[g-Ml]=An(w+8>>4,15);Jo=1}return 1}function ji(g){var w=g.ma,N=g.U,F=g.T;return t(!(1&g.ka)),0>=N||0>=F?0:(N=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,N),w.Dc+=N,1)}function Zi(g){g.ma.memory=null}function fe(g,w,N,F){return pt(g,8)!=47?0:(w[0]=pt(g,14)+1,N[0]=pt(g,14)+1,F[0]=pt(g,1),pt(g,3)!=0?0:!g.h)}function Nr(g,w){if(4>g)return g+1;var N=g-2>>1;return(2+(1&g)<<N)+pt(w,N)+1}function tr(g,w){return 120<w?w-120:1<=(N=((N=Ps[w-1])>>4)*g+(8-(15&N)))?N:1;var N}function bi(g,w,N){var F=Y(N),W=g[w+=255&F].g-8;return 0<W&&(lt(N,N.u+8),F=Y(N),w+=g[w].value,w+=F&(1<<W)-1),lt(N,N.u+g[w].g),g[w].value}function ei(g,w,N){return N.g+=g.g,N.value+=g.value<<w>>>0,t(8>=N.g),g.g}function Jn(g,w,N){var F=g.xc;return t((w=F==0?0:g.vc[g.md*(N>>F)+(w>>F)])<g.Wb),g.Ya[w]}function _i(g,w,N,F){var W=g.ab,X=g.c*w,Q=g.C;w=Q+w;var it=N,at=F;for(F=g.Ta,N=g.Ua;0<W--;){var ct=g.gc[W],yt=Q,Lt=w,It=it,At=at,Ht=(at=F,it=N,ct.Ea);switch(t(yt<Lt),t(Lt<=ct.nc),ct.hc){case 2:Sh(It,At,(Lt-yt)*Ht,at,it);break;case 0:var jt=yt,bt=Lt,xt=at,Ut=it,$t=(re=ct).Ea;jt==0&&(xh(It,At,null,null,1,xt,Ut),_e(It,At+1,0,0,$t-1,xt,Ut+1),At+=$t,Ut+=$t,++jt);for(var zt=1<<re.b,ue=zt-1,ne=de($t,re.b),we=re.K,re=re.w+(jt>>re.b)*ne;jt<bt;){var wn=we,sn=re,cn=1;for(Ic(It,At,xt,Ut-$t,1,xt,Ut);cn<$t;){var Ve=(cn&~ue)+zt;Ve>$t&&(Ve=$t),(0,Rs[wn[sn++]>>8&15])(It,At+ +cn,xt,Ut+cn-$t,Ve-cn,xt,Ut+cn),cn=Ve}At+=$t,Ut+=$t,++jt&ue||(re+=ne)}Lt!=ct.nc&&i(at,it-Ht,at,it+(Lt-yt-1)*Ht,Ht);break;case 1:for(Ht=It,bt=At,$t=(It=ct.Ea)-(Ut=It&~(xt=(At=1<<ct.b)-1)),jt=de(It,ct.b),zt=ct.K,ct=ct.w+(yt>>ct.b)*jt;yt<Lt;){for(ue=zt,ne=ct,we=new ae,re=bt+Ut,wn=bt+It;bt<re;)tn(ue[ne++],we),zo(we,Ht,bt,At,at,it),bt+=At,it+=At;bt<wn&&(tn(ue[ne++],we),zo(we,Ht,bt,$t,at,it),bt+=$t,it+=$t),++yt&xt||(ct+=jt)}break;case 3:if(It==at&&At==it&&0<ct.b){for(bt=at,It=Ht=it+(Lt-yt)*Ht-(Ut=(Lt-yt)*de(ct.Ea,ct.b)),At=at,xt=it,jt=[],Ut=($t=Ut)-1;0<=Ut;--Ut)jt[Ut]=At[xt+Ut];for(Ut=$t-1;0<=Ut;--Ut)bt[It+Ut]=jt[Ut];Cs(ct,yt,Lt,at,Ht,at,it)}else Cs(ct,yt,Lt,It,At,at,it)}it=F,at=N}at!=N&&i(F,N,it,at,X)}function Ua(g,w){var N=g.V,F=g.Ba+g.c*g.C,W=w-g.C;if(t(w<=g.l.o),t(16>=W),0<W){var X=g.l,Q=g.Ta,it=g.Ua,at=X.width;if(_i(g,W,N,F),W=it=[it],t((N=g.C)<(F=w)),t(X.v<X.va),F>X.o&&(F=X.o),N<X.j){var ct=X.j-N;N=X.j,W[0]+=ct*at}if(N>=F?N=0:(W[0]+=4*X.v,X.ka=N-X.j,X.U=X.va-X.v,X.T=F-N,N=1),N){if(it=it[0],11>(N=g.ca).S){var yt=N.f.RGBA,Lt=(F=N.S,W=X.U,X=X.T,ct=yt.eb,yt.A),It=X;for(yt=yt.fb+g.Ma*yt.A;0<It--;){var At=Q,Ht=it,jt=W,bt=ct,xt=yt;switch(F){case Eh:Or(At,Ht,jt,bt,xt);break;case wr:yr(At,Ht,jt,bt,xt);break;case kc:yr(At,Ht,jt,bt,xt),Qr(bt,xt,0,jt,1,0);break;case Th:eo(At,Ht,jt,bt,xt);break;case Is:Ke(At,Ht,jt,bt,xt,1);break;case Nh:Ke(At,Ht,jt,bt,xt,1),Qr(bt,xt,0,jt,1,0);break;case Pc:Ke(At,Ht,jt,bt,xt,0);break;case Eu:Ke(At,Ht,jt,bt,xt,0),Qr(bt,xt,1,jt,1,0);break;case Au:to(At,Ht,jt,bt,xt);break;case Ch:to(At,Ht,jt,bt,xt),en(bt,xt,jt,1,0);break;case Wo:sa(At,Ht,jt,bt,xt);break;default:t(0)}it+=at,yt+=Lt}g.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=N.height)}}g.C=w,t(g.C<=g.i)}function Fi(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var N=g.Ya[w].G,F=g.Ya[w].H;if(0<N[1][F[1]+0].g||0<N[2][F[2]+0].g||0<N[3][F[3]+0].g)return 0}return 1}function bn(g,w,N,F,W,X){if(g.Z!=0){var Q=g.qd,it=g.rd;for(t(so[g.Z]!=null);w<N;++w)so[g.Z](Q,it,F,W,F,W,X),Q=F,it=W,W+=X;g.qd=Q,g.rd=it}}function Dn(g,w){var N=g.l.ma,F=N.Z==0||N.Z==1?g.l.j:g.C;if(F=g.C<F?F:g.C,t(w<=g.l.o),w>F){var W=g.l.width,X=N.ca,Q=N.tb+W*F,it=g.V,at=g.Ba+g.c*F,ct=g.gc;t(g.ab==1),t(ct[0].hc==3),Ah(ct[0],F,w,it,at,X,Q),bn(N,F,w,X,Q,W)}g.C=g.Ma=w}function Ti(g,w,N,F,W,X,Q){var it=g.$/F,at=g.$%F,ct=g.m,yt=g.s,Lt=N+g.$,It=Lt;W=N+F*W;var At=N+F*X,Ht=280+yt.ua,jt=g.Pb?it:16777216,bt=0<yt.ua?yt.Wa:null,xt=yt.wc,Ut=Lt<At?Jn(yt,at,it):null;t(g.C<X),t(At<=W);var $t=!1;t:for(;;){for(;$t||Lt<At;){var zt=0;if(it>=jt){var ue=Lt-N;t((jt=g).Pb),jt.wd=jt.m,jt.xd=ue,0<jt.s.ua&&Ft(jt.s.Wa,jt.s.vb),jt=it+Yo}if(at&xt||(Ut=Jn(yt,at,it)),t(Ut!=null),Ut.Qb&&(w[Lt]=Ut.qb,$t=!0),!$t)if(ht(ct),Ut.jc){zt=ct,ue=w;var ne=Lt,we=Ut.pd[Y(zt)&zi-1];t(Ut.jc),256>we.g?(lt(zt,zt.u+we.g),ue[ne]=we.value,zt=0):(lt(zt,zt.u+we.g-256),t(256<=we.value),zt=we.value),zt==0&&($t=!0)}else zt=bi(Ut.G[0],Ut.H[0],ct);if(ct.h)break;if($t||256>zt){if(!$t)if(Ut.nd)w[Lt]=(Ut.qb|zt<<8)>>>0;else{if(ht(ct),$t=bi(Ut.G[1],Ut.H[1],ct),ht(ct),ue=bi(Ut.G[2],Ut.H[2],ct),ne=bi(Ut.G[3],Ut.H[3],ct),ct.h)break;w[Lt]=(ne<<24|$t<<16|zt<<8|ue)>>>0}if($t=!1,++Lt,++at>=F&&(at=0,++it,Q!=null&&it<=X&&!(it%16)&&Q(g,it),bt!=null))for(;It<Lt;)zt=w[It++],bt.X[(506832829*zt&4294967295)>>>bt.Mb]=zt}else if(280>zt){if(zt=Nr(zt-256,ct),ue=bi(Ut.G[4],Ut.H[4],ct),ht(ct),ue=tr(F,ue=Nr(ue,ct)),ct.h)break;if(Lt-N<ue||W-Lt<zt)break t;for(ne=0;ne<zt;++ne)w[Lt+ne]=w[Lt+ne-ue];for(Lt+=zt,at+=zt;at>=F;)at-=F,++it,Q!=null&&it<=X&&!(it%16)&&Q(g,it);if(t(Lt<=W),at&xt&&(Ut=Jn(yt,at,it)),bt!=null)for(;It<Lt;)zt=w[It++],bt.X[(506832829*zt&4294967295)>>>bt.Mb]=zt}else{if(!(zt<Ht))break t;for($t=zt-280,t(bt!=null);It<Lt;)zt=w[It++],bt.X[(506832829*zt&4294967295)>>>bt.Mb]=zt;zt=Lt,t(!($t>>>(ue=bt).Xa)),w[zt]=ue.X[$t],$t=!0}$t||t(ct.h==nt(ct))}if(g.Pb&&ct.h&&Lt<W)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ft(g.s.vb,g.s.Wa);else{if(ct.h)break t;Q!=null&&Q(g,it>X?X:it),g.a=0,g.$=Lt-N}return 1}return g.a=3,0}function er(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,t(g!=null)}function wi(){var g=new mu;return g==null?null:(g.a=0,g.xb=Wf,As("Predictor","VP8LPredictors"),As("Predictor","VP8LPredictors_C"),As("PredictorAdd","VP8LPredictorsAdd"),As("PredictorAdd","VP8LPredictorsAdd_C"),Sh=Te,zo=Ne,Or=le,yr=ui,to=We,sa=Un,eo=$e,I.VP8LMapColor32b=yu,I.VP8LMapColor8b=vr,g)}function ds(g,w,N,F,W){var X=1,Q=[g],it=[w],at=F.m,ct=F.s,yt=null,Lt=0;t:for(;;){if(N)for(;X&&pt(at,1);){var It=Q,At=it,Ht=F,jt=1,bt=Ht.m,xt=Ht.gc[Ht.ab],Ut=pt(bt,2);if(Ht.Oc&1<<Ut)X=0;else{switch(Ht.Oc|=1<<Ut,xt.hc=Ut,xt.Ea=It[0],xt.nc=At[0],xt.K=[null],++Ht.ab,t(4>=Ht.ab),Ut){case 0:case 1:xt.b=pt(bt,3)+2,jt=ds(de(xt.Ea,xt.b),de(xt.nc,xt.b),0,Ht,xt.K),xt.K=xt.K[0];break;case 3:var $t,zt=pt(bt,8)+1,ue=16<zt?0:4<zt?1:2<zt?2:3;if(It[0]=de(xt.Ea,ue),xt.b=ue,$t=jt=ds(zt,1,0,Ht,xt.K)){var ne,we=zt,re=xt,wn=1<<(8>>re.b),sn=a(wn);if(sn==null)$t=0;else{var cn=re.K[0],Ve=re.w;for(sn[0]=re.K[0][0],ne=1;ne<1*we;++ne)sn[ne]=Zt(cn[Ve+ne],sn[ne-1]);for(;ne<4*wn;++ne)sn[ne]=0;re.K[0]=null,re.K[0]=sn,$t=1}}jt=$t;break;case 2:break;default:t(0)}X=jt}}if(Q=Q[0],it=it[0],X&&pt(at,1)&&!(X=1<=(Lt=pt(at,4))&&11>=Lt)){F.a=3;break t}var Rn;if(Rn=X)e:{var En,Ie,jn,qi=F,fi=Q,xr=it,mn=Lt,ur=N,Jr=qi.m,Li=qi.s,di=[null],Hi=1,ws=0,js=ks[mn];n:for(;;){if(ur&&pt(Jr,1)){var Ci=pt(Jr,3)+2,Si=de(fi,Ci),Gi=de(xr,Ci),xs=Si*Gi;if(!ds(Si,Gi,0,qi,di))break n;for(di=di[0],Li.xc=Ci,En=0;En<xs;++En){var Ra=di[En]>>8&65535;di[En]=Ra,Ra>=Hi&&(Hi=Ra+1)}}if(Jr.h)break n;for(Ie=0;5>Ie;++Ie){var ri=Ol[Ie];!Ie&&0<mn&&(ri+=1<<mn),ws<ri&&(ws=ri)}var Ia=l(Hi*js,P),Zr=Hi,pi=l(Zr,ot);if(pi==null)var jl=null;else t(65536>=Zr),jl=pi;var Ss=a(ws);if(jl==null||Ss==null||Ia==null){qi.a=1;break n}var Me=Ia;for(En=jn=0;En<Hi;++En){var Xe=jl[En],Kn=Xe.G,ao=Xe.H,Fl=0,La=1,jc=0;for(Ie=0;5>Ie;++Ie){ri=Ol[Ie],Kn[Ie]=Me,ao[Ie]=jn,!Ie&&0<mn&&(ri+=1<<mn);r:{var Zo,tl=ri,Dh=qi,Hn=Ss,$f=Me,Kf=jn,Mh=0,oo=Dh.m,N0=pt(oo,1);if(r(Hn,0,0,tl),N0){var Xf=pt(oo,1)+1,Qf=pt(oo,1),jh=pt(oo,Qf==0?1:8);Hn[jh]=1,Xf==2&&(Hn[jh=pt(oo,8)]=1);var Wi=1}else{var gi=a(19),Fc=pt(oo,4)+4;if(19<Fc){Dh.a=3;var el=0;break r}for(Zo=0;Zo<Fc;++Zo)gi[Oc[Zo]]=pt(oo,3);var Iu=void 0,Bl=void 0,Pa=Dh,Fh=gi,Lu=tl,Bh=Hn,Vh=0,lo=Pa.m,Jf=8,Zf=l(128,P);i:for(;L(Zf,0,7,Fh,19);){if(pt(lo,1)){var jp=2+2*pt(lo,3);if((Iu=2+pt(lo,jp))>Lu)break i}else Iu=Lu;for(Bl=0;Bl<Lu&&Iu--;){ht(lo);var td=Zf[0+(127&Y(lo))];lt(lo,lo.u+td.g);var nl=td.value;if(16>nl)Bh[Bl++]=nl,nl!=0&&(Jf=nl);else{var Fp=nl==16,Bp=nl-16,Vp=Tu[Bp],ed=pt(lo,Ls[Bp])+Vp;if(Bl+ed>Lu)break i;for(var zp=Fp?Jf:0;0<ed--;)Bh[Bl++]=zp}}Vh=1;break i}Vh||(Pa.a=3),Wi=Vh}(Wi=Wi&&!oo.h)&&(Mh=L($f,Kf,8,Hn,tl)),Wi&&Mh!=0?el=Mh:(Dh.a=3,el=0)}if(el==0)break n;if(La&&Rh[Ie]==1&&(La=Me[jn].g==0),Fl+=Me[jn].g,jn+=el,3>=Ie){var Vl,zh=Ss[0];for(Vl=1;Vl<ri;++Vl)Ss[Vl]>zh&&(zh=Ss[Vl]);jc+=zh}}if(Xe.nd=La,Xe.Qb=0,La&&(Xe.qb=(Kn[3][ao[3]+0].value<<24|Kn[1][ao[1]+0].value<<16|Kn[2][ao[2]+0].value)>>>0,Fl==0&&256>Kn[0][ao[0]+0].value&&(Xe.Qb=1,Xe.qb+=Kn[0][ao[0]+0].value<<8)),Xe.jc=!Xe.Qb&&6>jc,Xe.jc){var Bc,ka=Xe;for(Bc=0;Bc<zi;++Bc){var uo=Bc,co=ka.pd[uo],Uh=ka.G[0][ka.H[0]+uo];256<=Uh.value?(co.g=Uh.g+256,co.value=Uh.value):(co.g=0,co.value=0,uo>>=ei(Uh,8,co),uo>>=ei(ka.G[1][ka.H[1]+uo],16,co),uo>>=ei(ka.G[2][ka.H[2]+uo],0,co),ei(ka.G[3][ka.H[3]+uo],24,co))}}}Li.vc=di,Li.Wb=Hi,Li.Ya=jl,Li.yc=Ia,Rn=1;break e}Rn=0}if(!(X=Rn)){F.a=3;break t}if(0<Lt){if(ct.ua=1<<Lt,!ve(ct.Wa,Lt)){F.a=1,X=0;break t}}else ct.ua=0;var qh=F,zl=Q,Up=it,Pu=qh.s,ku=Pu.xc;if(qh.c=zl,qh.i=Up,Pu.md=de(zl,ku),Pu.wc=ku==0?-1:(1<<ku)-1,N){F.xb=$o;break t}if((yt=a(Q*it))==null){F.a=1,X=0;break t}X=(X=Ti(F,yt,0,Q,it,it,null))&&!at.h;break t}return X?(W!=null?W[0]=yt:(t(yt==null),t(N)),F.$=0,N||er(ct)):er(ct),X}function $s(g,w){var N=g.c*g.i,F=N+w+16*w;return t(g.c<=w),g.V=a(F),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+N+w,1)}function zr(g,w){var N=g.C,F=w-N,W=g.V,X=g.Ba+g.c*N;for(t(w<=g.l.o);0<F;){var Q=16<F?16:F,it=g.l.ma,at=g.l.width,ct=at*Q,yt=it.ca,Lt=it.tb+at*N,It=g.Ta,At=g.Ua;_i(g,Q,W,X),_n(It,At,yt,Lt,ct),bn(it,N,N+Q,yt,Lt,at),F-=Q,W+=Q*g.c,N+=Q}t(N==w),g.C=g.Ma=w}function Ts(){this.ub=this.yd=this.td=this.Rb=0}function Ur(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ya(){this.Yb=(function(){var g=[];return(function w(N,F,W){for(var X=W[F],Q=0;Q<X&&(N.push(W.length>F+1?[]:0),!(W.length<F+1));Q++)w(N[Q],F+1,W)})(g,0,[3,11]),g})()}function ps(){this.jb=a(3),this.Wc=u([4,8],ya),this.Xc=u([4,17],ya)}function ni(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ks(){this.ld=this.La=this.dd=this.tc=0}function Xs(){this.Na=this.la=0}function nr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ks),this.Y=0,this.ya=Array(new Hr),this.aa=0,this.l=new qa}function No(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Al(){this.cb=this.a=0,this.sc="",this.m=new tt,this.Od=new Ts,this.Kc=new Ur,this.ed=new ni,this.Qa=new qr,this.Ic=this.$c=this.Aa=0,this.D=new Nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,tt),this.ia=0,this.pb=l(4,nr),this.Pa=new ps,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new No),this.Hd=0,this.rb=Array(new Xs),this.sb=0,this.wa=Array(new Ks),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hr),this.L=this.aa=0,this.gd=u([4,2],Ks),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ba(){var g=new Al;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,_s||(_s=El)),g}function Pn(g,w,N){return g.a==0&&(g.a=w,g.sc=N,g.cb=0),0}function Cr(g,w,N){return 3<=N&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function Bi(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return Pn(g,2,"null VP8Io passed to VP8GetHeaders()");var N=w.data,F=w.w,W=w.ha;if(4>W)return Pn(g,7,"Truncated header.");var X=N[F+0]|N[F+1]<<8|N[F+2]<<16,Q=g.Od;if(Q.Rb=!(1&X),Q.td=X>>1&7,Q.yd=X>>4&1,Q.ub=X>>5,3<Q.td)return Pn(g,3,"Incorrect keyframe parameters.");if(!Q.yd)return Pn(g,4,"Frame not displayable.");F+=3,W-=3;var it=g.Kc;if(Q.Rb){if(7>W)return Pn(g,7,"cannot parse picture header");if(!Cr(N,F,W))return Pn(g,3,"Bad code word");it.c=16383&(N[F+4]<<8|N[F+3]),it.Td=N[F+4]>>6,it.i=16383&(N[F+6]<<8|N[F+5]),it.Ud=N[F+6]>>6,F+=7,W-=7,g.za=it.c+15>>4,g.Ub=it.i+15>>4,w.width=it.c,w.height=it.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,r((X=g.Pa).jb,0,255,X.jb.length),t((X=g.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,r(X.Zb,0,0,X.Zb.length),r(X.Lb,0,0,X.Lb)}if(Q.ub>W)return Pn(g,7,"bad partition length");mt(X=g.m,N,F,Q.ub),F+=Q.ub,W-=Q.ub,Q.Rb&&(it.Ld=Nt(X),it.Kd=Nt(X)),it=g.Qa;var at,ct=g.Pa;if(t(X!=null),t(it!=null),it.Cb=Nt(X),it.Cb){if(it.Bb=Nt(X),Nt(X)){for(it.Fb=Nt(X),at=0;4>at;++at)it.Zb[at]=Nt(X)?J(X,7):0;for(at=0;4>at;++at)it.Lb[at]=Nt(X)?J(X,6):0}if(it.Bb)for(at=0;3>at;++at)ct.jb[at]=Nt(X)?$(X,8):255}else it.Bb=0;if(X.Ka)return Pn(g,3,"cannot parse segment header");if((it=g.ed).zd=Nt(X),it.Tb=$(X,6),it.wb=$(X,3),it.Pc=Nt(X),it.Pc&&Nt(X)){for(ct=0;4>ct;++ct)Nt(X)&&(it.vd[ct]=J(X,6));for(ct=0;4>ct;++ct)Nt(X)&&(it.od[ct]=J(X,6))}if(g.L=it.Tb==0?0:it.zd?1:2,X.Ka)return Pn(g,3,"cannot parse filter header");var yt=W;if(W=at=F,F=at+yt,it=yt,g.Xb=(1<<$(g.m,2))-1,yt<3*(ct=g.Xb))N=7;else{for(at+=3*ct,it-=3*ct,yt=0;yt<ct;++yt){var Lt=N[W+0]|N[W+1]<<8|N[W+2]<<16;Lt>it&&(Lt=it),mt(g.Jc[+yt],N,at,Lt),at+=Lt,it-=Lt,W+=3}mt(g.Jc[+ct],N,at,it),N=at<F?0:5}if(N!=0)return Pn(g,N,"cannot parse partitions");for(N=$(at=g.m,7),W=Nt(at)?J(at,4):0,F=Nt(at)?J(at,4):0,it=Nt(at)?J(at,4):0,ct=Nt(at)?J(at,4):0,at=Nt(at)?J(at,4):0,yt=g.Qa,Lt=0;4>Lt;++Lt){if(yt.Cb){var It=yt.Zb[Lt];yt.Fb||(It+=N)}else{if(0<Lt){g.pb[Lt]=g.pb[0];continue}It=N}var At=g.pb[Lt];At.Sc[0]=Os[An(It+W,127)],At.Sc[1]=Ds[An(It+0,127)],At.Eb[0]=2*Os[An(It+F,127)],At.Eb[1]=101581*Ds[An(It+it,127)]>>16,8>At.Eb[1]&&(At.Eb[1]=8),At.Qc[0]=Os[An(It+ct,117)],At.Qc[1]=Ds[An(It+at,127)],At.lc=It+at}if(!Q.Rb)return Pn(g,4,"Not a key frame.");for(Nt(X),Q=g.Pa,N=0;4>N;++N){for(W=0;8>W;++W)for(F=0;3>F;++F)for(it=0;11>it;++it)ct=Rt(X,$n[N][W][F][it])?$(X,8):Dp[N][W][F][it],Q.Wc[N][W].Yb[F][it]=ct;for(W=0;17>W;++W)Q.Xc[N][W]=Q.Wc[N][rn[W]]}return g.kc=Nt(X),g.kc&&(g.Bd=$(X,8)),g.cb=1}function El(g,w,N,F,W,X,Q){var it=w[W].Yb[N];for(N=0;16>W;++W){if(!Rt(g,it[N+0]))return W;for(;!Rt(g,it[N+1]);)if(it=w[++W].Yb[0],N=0,W==16)return 16;var at=w[W+1].Yb;if(Rt(g,it[N+2])){var ct=g,yt=0;if(Rt(ct,(It=it)[(Lt=N)+3]))if(Rt(ct,It[Lt+6])){for(it=0,Lt=2*(yt=Rt(ct,It[Lt+8]))+(It=Rt(ct,It[Lt+9+yt])),yt=0,It=Op[Lt];It[it];++it)yt+=yt+Rt(ct,It[it]);yt+=3+(8<<Lt)}else Rt(ct,It[Lt+7])?(yt=7+2*Rt(ct,165),yt+=Rt(ct,145)):yt=5+Rt(ct,159);else yt=Rt(ct,It[Lt+4])?3+Rt(ct,It[Lt+5]):2;it=at[2]}else yt=1,it=at[1];at=Q+Gf[W],0>(ct=g).b&&_t(ct);var Lt,It=ct.b,At=(Lt=ct.Ca>>1)-(ct.I>>It)>>31;--ct.b,ct.Ca+=At,ct.Ca|=1,ct.I-=(Lt+1&At)<<It,X[at]=((yt^At)-At)*F[(0<W)+0]}return 16}function Tl(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function Co(g,w){if(g==null)return 0;if(w==null)return Pn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Bi(g,w))return 0;if(t(g.cb),w.ac==null||w.ac(w)){w.ob&&(g.L=0);var N=Ru[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=w.v-N>>4,g.zb=w.j-N>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=w.o+15+N>>4,g.Hb=w.va+15+N>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var F=g.ed;for(N=0;4>N;++N){var W;if(g.Qa.Cb){var X=g.Qa.Lb[N];g.Qa.Fb||(X+=F.Tb)}else X=F.Tb;for(W=0;1>=W;++W){var Q=g.gd[N][W],it=X;if(F.Pc&&(it+=F.vd[0],W&&(it+=F.od[0])),0<(it=0>it?0:63<it?63:it)){var at=it;0<F.wb&&(at=4<F.wb?at>>2:at>>1)>9-F.wb&&(at=9-F.wb),1>at&&(at=1),Q.dd=at,Q.tc=2*it+at,Q.ld=40<=it?2:15<=it?1:0}else Q.tc=0;Q.La=W}}}N=0}else Pn(g,6,"Frame setup failed"),N=g.a;if(N=N==0){if(N){g.$c=0,0<g.Aa||(g.Ic=Mc);t:{N=g.Ic,F=4*(at=g.za);var ct=32*at,yt=at+1,Lt=0<g.L?at*(0<g.Aa?2:1):0,It=(g.Aa==2?2:1)*at;if((Q=F+832+(W=3*(16*N+Ru[g.L])/2*ct)+(X=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=Q)N=0;else{if(Q>g.Vb){if(g.Vb=0,g.Ec=a(Q),g.Fc=0,g.Ec==null){N=Pn(g,1,"no memory during frame initialization.");break t}g.Vb=Q}Q=g.Ec,it=g.Fc,g.Ac=Q,g.Bc=it,it+=F,g.Gd=l(ct,No),g.Hd=0,g.rb=l(yt+1,Xs),g.sb=1,g.wa=Lt?l(Lt,Ks):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=at),t(!0),g.oc=Q,g.pc=it,it+=832,g.ya=l(It,Hr),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=at),g.R=16*at,g.B=8*at,at=(ct=Ru[g.L])*g.R,ct=ct/2*g.B,g.sa=Q,g.ta=it+at,g.qa=g.sa,g.ra=g.ta+16*N*g.R+ct,g.Ha=g.qa,g.Ia=g.ra+8*N*g.B+ct,g.$c=0,it+=W,g.mb=X?Q:null,g.nb=X?it:null,t(it+X<=g.Fc+g.Vb),Tl(g),r(g.Ac,g.Bc,0,F),N=1}}if(N){if(w.ka=0,w.y=g.sa,w.O=g.ta,w.f=g.qa,w.N=g.ra,w.ea=g.Ha,w.Vd=g.Ia,w.fa=g.R,w.Rc=g.B,w.F=null,w.J=0,!Su){for(N=-255;255>=N;++N)Zn[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)ua[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)Go[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)io[255+N]=0>N?0:255<N?255:N;Su=1}aa=wa,oa=Ha,Pl=Ga,br=un,Ui=_a,Yn=Js,la=ko,bu=na,_u=Oo,ys=Il,Uo=Aa,no=Ka,qo=Do,wu=Ea,kl=ta,Ho=Pr,xu=ii,bs=$a,hi[0]=Gr,hi[1]=Cc,hi[2]=Ir,hi[3]=gu,hi[4]=Cl,hi[5]=gr,hi[6]=ir,hi[7]=Ya,hi[8]=Lr,hi[9]=Ns,Dr[0]=ms,Dr[1]=pu,Dr[2]=gs,Dr[3]=Ro,Dr[4]=gn,Dr[5]=Lo,Dr[6]=Wa,ca[0]=$r,ca[1]=Nl,ca[2]=Po,ca[3]=Wr,ca[4]=Sn,ca[5]=xa,ca[6]=Ni,N=1}else N=0}N&&(N=(function(At,Ht){for(At.M=0;At.M<At.Va;++At.M){var jt,bt=At.Jc[At.M&At.Xb],xt=At.m,Ut=At;for(jt=0;jt<Ut.za;++jt){var $t=xt,zt=Ut,ue=zt.Ac,ne=zt.Bc+4*jt,we=zt.zc,re=zt.ya[zt.aa+jt];if(zt.Qa.Bb?re.$b=Rt($t,zt.Pa.jb[0])?2+Rt($t,zt.Pa.jb[2]):Rt($t,zt.Pa.jb[1]):re.$b=0,zt.kc&&(re.Ad=Rt($t,zt.Bd)),re.Za=!Rt($t,145)+0,re.Za){var wn=re.Ob,sn=0;for(zt=0;4>zt;++zt){var cn,Ve=we[0+zt];for(cn=0;4>cn;++cn){Ve=ar[ue[ne+cn]][Ve];for(var Rn=Ih[Rt($t,Ve[0])];0<Rn;)Rn=Ih[2*Rn+Rt($t,Ve[Rn])];Ve=-Rn,ue[ne+cn]=Ve}i(wn,sn,ue,ne,4),sn+=4,we[0+zt]=Ve}}else Ve=Rt($t,156)?Rt($t,128)?1:3:Rt($t,163)?2:0,re.Ob[0]=Ve,r(ue,ne,Ve,4),r(we,0,Ve,4);re.Dd=Rt($t,142)?Rt($t,114)?Rt($t,183)?1:3:2:0}if(Ut.m.Ka)return Pn(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(Ut=bt,$t=(xt=At).rb[xt.sb-1],ue=xt.rb[xt.sb+xt.ja],jt=xt.ya[xt.aa+xt.ja],ne=xt.kc?jt.Ad:0)$t.la=ue.la=0,jt.Za||($t.Na=ue.Na=0),jt.Hc=0,jt.Gc=0,jt.ia=0;else{var En,Ie;if($t=ue,ue=Ut,ne=xt.Pa.Xc,we=xt.ya[xt.aa+xt.ja],re=xt.pb[we.$b],zt=we.ad,wn=0,sn=xt.rb[xt.sb-1],Ve=cn=0,r(zt,wn,0,384),we.Za)var jn=0,qi=ne[3];else{Rn=a(16);var fi=$t.Na+sn.Na;if(fi=_s(ue,ne[1],fi,re.Eb,0,Rn,0),$t.Na=sn.Na=(0<fi)+0,1<fi)aa(Rn,0,zt,wn);else{var xr=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)zt[wn+Rn]=xr}jn=1,qi=ne[0]}var mn=15&$t.la,ur=15&sn.la;for(Rn=0;4>Rn;++Rn){var Jr=1&ur;for(xr=Ie=0;4>xr;++xr)mn=mn>>1|(Jr=(fi=_s(ue,qi,fi=Jr+(1&mn),re.Sc,jn,zt,wn))>jn)<<7,Ie=Ie<<2|(3<fi?3:1<fi?2:zt[wn+0]!=0),wn+=16;mn>>=4,ur=ur>>1|Jr<<7,cn=(cn<<8|Ie)>>>0}for(qi=mn,jn=ur>>4,En=0;4>En;En+=2){for(Ie=0,mn=$t.la>>4+En,ur=sn.la>>4+En,Rn=0;2>Rn;++Rn){for(Jr=1&ur,xr=0;2>xr;++xr)fi=Jr+(1&mn),mn=mn>>1|(Jr=0<(fi=_s(ue,ne[2],fi,re.Qc,0,zt,wn)))<<3,Ie=Ie<<2|(3<fi?3:1<fi?2:zt[wn+0]!=0),wn+=16;mn>>=2,ur=ur>>1|Jr<<5}Ve|=Ie<<4*En,qi|=mn<<4<<En,jn|=(240&ur)<<En}$t.la=qi,sn.la=jn,we.Hc=cn,we.Gc=Ve,we.ia=43690&Ve?0:re.ia,ne=!(cn|Ve)}if(0<xt.L&&(xt.wa[xt.Y+xt.ja]=xt.gd[jt.$b][jt.Za],xt.wa[xt.Y+xt.ja].La|=!ne),Ut.Ka)return Pn(At,7,"Premature end-of-file encountered.")}if(Tl(At),xt=Ht,Ut=1,jt=(bt=At).D,$t=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(jt.M=bt.M,jt.uc=$t,ra(bt,jt),Ut=1,jt=(Ie=bt.D).Nb,$t=(Ve=Ru[bt.L])*bt.R,ue=Ve/2*bt.B,Rn=16*jt*bt.R,xr=8*jt*bt.B,ne=bt.sa,we=bt.ta-$t+Rn,re=bt.qa,zt=bt.ra-ue+xr,wn=bt.Ha,sn=bt.Ia-ue+xr,ur=(mn=Ie.M)==0,cn=mn>=bt.Va-1,bt.Aa==2&&ra(bt,Ie),Ie.uc)for(Jr=(fi=bt).D.M,t(fi.D.uc),Ie=fi.yb;Ie<fi.Hb;++Ie){jn=Ie,qi=Jr;var Li=(di=(ri=fi).D).Nb;En=ri.R;var di=di.wa[di.Y+jn],Hi=ri.sa,ws=ri.ta+16*Li*En+16*jn,js=di.dd,Ci=di.tc;if(Ci!=0)if(t(3<=Ci),ri.L==1)0<jn&&Ho(Hi,ws,En,Ci+4),di.La&&bs(Hi,ws,En,Ci),0<qi&&kl(Hi,ws,En,Ci+4),di.La&&xu(Hi,ws,En,Ci);else{var Si=ri.B,Gi=ri.qa,xs=ri.ra+8*Li*Si+8*jn,Ra=ri.Ha,ri=ri.Ia+8*Li*Si+8*jn;Li=di.ld,0<jn&&(bu(Hi,ws,En,Ci+4,js,Li),ys(Gi,xs,Ra,ri,Si,Ci+4,js,Li)),di.La&&(no(Hi,ws,En,Ci,js,Li),wu(Gi,xs,Ra,ri,Si,Ci,js,Li)),0<qi&&(la(Hi,ws,En,Ci+4,js,Li),_u(Gi,xs,Ra,ri,Si,Ci+4,js,Li)),di.La&&(Uo(Hi,ws,En,Ci,js,Li),qo(Gi,xs,Ra,ri,Si,Ci,js,Li))}}if(bt.ia&&alert("todo:DitherRow"),xt.put!=null){if(Ie=16*mn,mn=16*(mn+1),ur?(xt.y=bt.sa,xt.O=bt.ta+Rn,xt.f=bt.qa,xt.N=bt.ra+xr,xt.ea=bt.Ha,xt.W=bt.Ia+xr):(Ie-=Ve,xt.y=ne,xt.O=we,xt.f=re,xt.N=zt,xt.ea=wn,xt.W=sn),cn||(mn-=Ve),mn>xt.o&&(mn=xt.o),xt.F=null,xt.J=null,bt.Fa!=null&&0<bt.Fa.length&&Ie<mn&&(xt.J=Qa(bt,xt,Ie,mn-Ie),xt.F=bt.mb,xt.F==null&&xt.F.length==0)){Ut=Pn(bt,3,"Could not decode alpha data.");break t}Ie<xt.j&&(Ve=xt.j-Ie,Ie=xt.j,t(!(1&Ve)),xt.O+=bt.R*Ve,xt.N+=bt.B*(Ve>>1),xt.W+=bt.B*(Ve>>1),xt.F!=null&&(xt.J+=xt.width*Ve)),Ie<mn&&(xt.O+=xt.v,xt.N+=xt.v>>1,xt.W+=xt.v>>1,xt.F!=null&&(xt.J+=xt.v),xt.ka=Ie-xt.j,xt.U=xt.va-xt.v,xt.T=mn-Ie,Ut=xt.put(xt))}jt+1!=bt.Ic||cn||(i(bt.sa,bt.ta-$t,ne,we+16*bt.R,$t),i(bt.qa,bt.ra-ue,re,zt+8*bt.B,ue),i(bt.Ha,bt.Ia-ue,wn,sn+8*bt.B,ue))}if(!Ut)return Pn(At,6,"Output aborted.")}return 1})(g,w)),w.bc!=null&&w.bc(w),N&=1}return N?(g.cb=0,N):0}function Rr(g,w,N,F,W){W=g[w+N+32*F]+(W>>3),g[w+N+32*F]=-256&W?0>W?0:255:W}function Qs(g,w,N,F,W,X){Rr(g,w,0,N,F+W),Rr(g,w,1,N,F+X),Rr(g,w,2,N,F-X),Rr(g,w,3,N,F-W)}function ci(g){return(20091*g>>16)+g}function qn(g,w,N,F){var W,X=0,Q=a(16);for(W=0;4>W;++W){var it=g[w+0]+g[w+8],at=g[w+0]-g[w+8],ct=(35468*g[w+4]>>16)-ci(g[w+12]),yt=ci(g[w+4])+(35468*g[w+12]>>16);Q[X+0]=it+yt,Q[X+1]=at+ct,Q[X+2]=at-ct,Q[X+3]=it-yt,X+=4,w++}for(W=X=0;4>W;++W)it=(g=Q[X+0]+4)+Q[X+8],at=g-Q[X+8],ct=(35468*Q[X+4]>>16)-ci(Q[X+12]),Rr(N,F,0,0,it+(yt=ci(Q[X+4])+(35468*Q[X+12]>>16))),Rr(N,F,1,0,at+ct),Rr(N,F,2,0,at-ct),Rr(N,F,3,0,it-yt),X++,F+=32}function Js(g,w,N,F){var W=g[w+0]+4,X=35468*g[w+4]>>16,Q=ci(g[w+4]),it=35468*g[w+1]>>16;Qs(N,F,0,W+Q,g=ci(g[w+1]),it),Qs(N,F,1,W+X,g,it),Qs(N,F,2,W-X,g,it),Qs(N,F,3,W-Q,g,it)}function Ha(g,w,N,F,W){qn(g,w,N,F),W&&qn(g,w+16,N,F+4)}function Ga(g,w,N,F){oa(g,w+0,N,F,1),oa(g,w+32,N,F+128,1)}function un(g,w,N,F){var W;for(g=g[w+0]+4,W=0;4>W;++W)for(w=0;4>w;++w)Rr(N,F,w,W,g)}function _a(g,w,N,F){g[w+0]&&br(g,w+0,N,F),g[w+16]&&br(g,w+16,N,F+4),g[w+32]&&br(g,w+32,N,F+128),g[w+48]&&br(g,w+48,N,F+128+4)}function wa(g,w,N,F){var W,X=a(16);for(W=0;4>W;++W){var Q=g[w+0+W]+g[w+12+W],it=g[w+4+W]+g[w+8+W],at=g[w+4+W]-g[w+8+W],ct=g[w+0+W]-g[w+12+W];X[0+W]=Q+it,X[8+W]=Q-it,X[4+W]=ct+at,X[12+W]=ct-at}for(W=0;4>W;++W)Q=(g=X[0+4*W]+3)+X[3+4*W],it=X[1+4*W]+X[2+4*W],at=X[1+4*W]-X[2+4*W],ct=g-X[3+4*W],N[F+0]=Q+it>>3,N[F+16]=ct+at>>3,N[F+32]=Q-it>>3,N[F+48]=ct-at>>3,F+=64}function pr(g,w,N){var F,W=w-32,X=_r,Q=255-g[W-1];for(F=0;F<N;++F){var it,at=X,ct=Q+g[w-1];for(it=0;it<N;++it)g[w+it]=at[ct+g[W+it]];w+=32}}function Cc(g,w){pr(g,w,4)}function Nl(g,w){pr(g,w,8)}function pu(g,w){pr(g,w,16)}function gs(g,w){var N;for(N=0;16>N;++N)i(g,w+32*N,g,w-32,16)}function Ro(g,w){var N;for(N=16;0<N;--N)r(g,w,g[w-1],16),w+=32}function Io(g,w,N){var F;for(F=0;16>F;++F)r(w,N+32*F,g,16)}function ms(g,w){var N,F=16;for(N=0;16>N;++N)F+=g[w-1+32*N]+g[w+N-32];Io(F>>5,g,w)}function gn(g,w){var N,F=8;for(N=0;16>N;++N)F+=g[w-1+32*N];Io(F>>4,g,w)}function Lo(g,w){var N,F=8;for(N=0;16>N;++N)F+=g[w+N-32];Io(F>>4,g,w)}function Wa(g,w){Io(128,g,w)}function Se(g,w,N){return g+2*w+N+2>>2}function Ir(g,w){var N,F=w-32;for(F=new Uint8Array([Se(g[F-1],g[F+0],g[F+1]),Se(g[F+0],g[F+1],g[F+2]),Se(g[F+1],g[F+2],g[F+3]),Se(g[F+2],g[F+3],g[F+4])]),N=0;4>N;++N)i(g,w+32*N,F,0,F.length)}function gu(g,w){var N=g[w-1],F=g[w-1+32],W=g[w-1+64],X=g[w-1+96];Qt(g,w+0,16843009*Se(g[w-1-32],N,F)),Qt(g,w+32,16843009*Se(N,F,W)),Qt(g,w+64,16843009*Se(F,W,X)),Qt(g,w+96,16843009*Se(W,X,X))}function Gr(g,w){var N,F=4;for(N=0;4>N;++N)F+=g[w+N-32]+g[w-1+32*N];for(F>>=3,N=0;4>N;++N)r(g,w+32*N,F,4)}function Cl(g,w){var N=g[w-1+0],F=g[w-1+32],W=g[w-1+64],X=g[w-1-32],Q=g[w+0-32],it=g[w+1-32],at=g[w+2-32],ct=g[w+3-32];g[w+0+96]=Se(F,W,g[w-1+96]),g[w+1+96]=g[w+0+64]=Se(N,F,W),g[w+2+96]=g[w+1+64]=g[w+0+32]=Se(X,N,F),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=Se(Q,X,N),g[w+3+64]=g[w+2+32]=g[w+1+0]=Se(it,Q,X),g[w+3+32]=g[w+2+0]=Se(at,it,Q),g[w+3+0]=Se(ct,at,it)}function ir(g,w){var N=g[w+1-32],F=g[w+2-32],W=g[w+3-32],X=g[w+4-32],Q=g[w+5-32],it=g[w+6-32],at=g[w+7-32];g[w+0+0]=Se(g[w+0-32],N,F),g[w+1+0]=g[w+0+32]=Se(N,F,W),g[w+2+0]=g[w+1+32]=g[w+0+64]=Se(F,W,X),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=Se(W,X,Q),g[w+3+32]=g[w+2+64]=g[w+1+96]=Se(X,Q,it),g[w+3+64]=g[w+2+96]=Se(Q,it,at),g[w+3+96]=Se(it,at,at)}function gr(g,w){var N=g[w-1+0],F=g[w-1+32],W=g[w-1+64],X=g[w-1-32],Q=g[w+0-32],it=g[w+1-32],at=g[w+2-32],ct=g[w+3-32];g[w+0+0]=g[w+1+64]=X+Q+1>>1,g[w+1+0]=g[w+2+64]=Q+it+1>>1,g[w+2+0]=g[w+3+64]=it+at+1>>1,g[w+3+0]=at+ct+1>>1,g[w+0+96]=Se(W,F,N),g[w+0+64]=Se(F,N,X),g[w+0+32]=g[w+1+96]=Se(N,X,Q),g[w+1+32]=g[w+2+96]=Se(X,Q,it),g[w+2+32]=g[w+3+96]=Se(Q,it,at),g[w+3+32]=Se(it,at,ct)}function Ya(g,w){var N=g[w+0-32],F=g[w+1-32],W=g[w+2-32],X=g[w+3-32],Q=g[w+4-32],it=g[w+5-32],at=g[w+6-32],ct=g[w+7-32];g[w+0+0]=N+F+1>>1,g[w+1+0]=g[w+0+64]=F+W+1>>1,g[w+2+0]=g[w+1+64]=W+X+1>>1,g[w+3+0]=g[w+2+64]=X+Q+1>>1,g[w+0+32]=Se(N,F,W),g[w+1+32]=g[w+0+96]=Se(F,W,X),g[w+2+32]=g[w+1+96]=Se(W,X,Q),g[w+3+32]=g[w+2+96]=Se(X,Q,it),g[w+3+64]=Se(Q,it,at),g[w+3+96]=Se(it,at,ct)}function Ns(g,w){var N=g[w-1+0],F=g[w-1+32],W=g[w-1+64],X=g[w-1+96];g[w+0+0]=N+F+1>>1,g[w+2+0]=g[w+0+32]=F+W+1>>1,g[w+2+32]=g[w+0+64]=W+X+1>>1,g[w+1+0]=Se(N,F,W),g[w+3+0]=g[w+1+32]=Se(F,W,X),g[w+3+32]=g[w+1+64]=Se(W,X,X),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=X}function Lr(g,w){var N=g[w-1+0],F=g[w-1+32],W=g[w-1+64],X=g[w-1+96],Q=g[w-1-32],it=g[w+0-32],at=g[w+1-32],ct=g[w+2-32];g[w+0+0]=g[w+2+32]=N+Q+1>>1,g[w+0+32]=g[w+2+64]=F+N+1>>1,g[w+0+64]=g[w+2+96]=W+F+1>>1,g[w+0+96]=X+W+1>>1,g[w+3+0]=Se(it,at,ct),g[w+2+0]=Se(Q,it,at),g[w+1+0]=g[w+3+32]=Se(N,Q,it),g[w+1+32]=g[w+3+64]=Se(F,N,Q),g[w+1+64]=g[w+3+96]=Se(W,F,N),g[w+1+96]=Se(X,W,F)}function Po(g,w){var N;for(N=0;8>N;++N)i(g,w+32*N,g,w-32,8)}function Wr(g,w){var N;for(N=0;8>N;++N)r(g,w,g[w-1],8),w+=32}function Yr(g,w,N){var F;for(F=0;8>F;++F)r(w,N+32*F,g,8)}function $r(g,w){var N,F=8;for(N=0;8>N;++N)F+=g[w+N-32]+g[w-1+32*N];Yr(F>>4,g,w)}function xa(g,w){var N,F=4;for(N=0;8>N;++N)F+=g[w+N-32];Yr(F>>3,g,w)}function Sn(g,w){var N,F=4;for(N=0;8>N;++N)F+=g[w-1+32*N];Yr(F>>3,g,w)}function Ni(g,w){Yr(128,g,w)}function Kr(g,w,N){var F=g[w-N],W=g[w+0],X=3*(W-F)+ro[1020+g[w-2*N]-g[w+N]],Q=Lc[112+(X+4>>3)];g[w-N]=_r[255+F+Lc[112+(X+3>>3)]],g[w+0]=_r[255+W-Q]}function Sa(g,w,N,F){var W=g[w+0],X=g[w+N];return sr[255+g[w-2*N]-g[w-N]]>F||sr[255+X-W]>F}function Zs(g,w,N,F){return 4*sr[255+g[w-N]-g[w+0]]+sr[255+g[w-2*N]-g[w+N]]<=F}function Rl(g,w,N,F,W){var X=g[w-3*N],Q=g[w-2*N],it=g[w-N],at=g[w+0],ct=g[w+N],yt=g[w+2*N],Lt=g[w+3*N];return 4*sr[255+it-at]+sr[255+Q-ct]>F?0:sr[255+g[w-4*N]-X]<=W&&sr[255+X-Q]<=W&&sr[255+Q-it]<=W&&sr[255+Lt-yt]<=W&&sr[255+yt-ct]<=W&&sr[255+ct-at]<=W}function ta(g,w,N,F){var W=2*F+1;for(F=0;16>F;++F)Zs(g,w+F,N,W)&&Kr(g,w+F,N)}function Pr(g,w,N,F){var W=2*F+1;for(F=0;16>F;++F)Zs(g,w+F*N,1,W)&&Kr(g,w+F*N,1)}function ii(g,w,N,F){var W;for(W=3;0<W;--W)ta(g,w+=4*N,N,F)}function $a(g,w,N,F){var W;for(W=3;0<W;--W)Pr(g,w+=4,N,F)}function ea(g,w,N,F,W,X,Q,it){for(X=2*X+1;0<W--;){if(Rl(g,w,N,X,Q))if(Sa(g,w,N,it))Kr(g,w,N);else{var at=g,ct=w,yt=N,Lt=at[ct-2*yt],It=at[ct-yt],At=at[ct+0],Ht=at[ct+yt],jt=at[ct+2*yt],bt=27*(Ut=ro[1020+3*(At-It)+ro[1020+Lt-Ht]])+63>>7,xt=18*Ut+63>>7,Ut=9*Ut+63>>7;at[ct-3*yt]=_r[255+at[ct-3*yt]+Ut],at[ct-2*yt]=_r[255+Lt+xt],at[ct-yt]=_r[255+It+bt],at[ct+0]=_r[255+At-bt],at[ct+yt]=_r[255+Ht-xt],at[ct+2*yt]=_r[255+jt-Ut]}w+=F}}function rr(g,w,N,F,W,X,Q,it){for(X=2*X+1;0<W--;){if(Rl(g,w,N,X,Q))if(Sa(g,w,N,it))Kr(g,w,N);else{var at=g,ct=w,yt=N,Lt=at[ct-yt],It=at[ct+0],At=at[ct+yt],Ht=Lc[112+((jt=3*(It-Lt))+4>>3)],jt=Lc[112+(jt+3>>3)],bt=Ht+1>>1;at[ct-2*yt]=_r[255+at[ct-2*yt]+bt],at[ct-yt]=_r[255+Lt+jt],at[ct+0]=_r[255+It-Ht],at[ct+yt]=_r[255+At-bt]}w+=F}}function ko(g,w,N,F,W,X){ea(g,w,N,1,16,F,W,X)}function na(g,w,N,F,W,X){ea(g,w,1,N,16,F,W,X)}function Aa(g,w,N,F,W,X){var Q;for(Q=3;0<Q;--Q)rr(g,w+=4*N,N,1,16,F,W,X)}function Ka(g,w,N,F,W,X){var Q;for(Q=3;0<Q;--Q)rr(g,w+=4,1,N,16,F,W,X)}function Oo(g,w,N,F,W,X,Q,it){ea(g,w,W,1,8,X,Q,it),ea(N,F,W,1,8,X,Q,it)}function Il(g,w,N,F,W,X,Q,it){ea(g,w,1,W,8,X,Q,it),ea(N,F,1,W,8,X,Q,it)}function Do(g,w,N,F,W,X,Q,it){rr(g,w+4*W,W,1,8,X,Q,it),rr(N,F+4*W,W,1,8,X,Q,it)}function Ea(g,w,N,F,W,X,Q,it){rr(g,w+4,1,W,8,X,Q,it),rr(N,F+4,1,W,8,X,Q,it)}function Ta(){this.ba=new Ei,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jo(){this.ua=0,this.Wa=new dt,this.vb=new dt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ot,this.yc=new P}function mu(){this.xb=this.a=0,this.l=new qa,this.ca=new Ei,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jo,this.ab=0,this.gc=l(4,Xa),this.Oc=0}function vs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Na(g,w,N,F,W,X,Q){for(g=g==null?0:g[w+0],w=0;w<Q;++w)W[X+w]=g+N[F+w]&255,g=W[X+w]}function Fo(g,w,N,F,W,X,Q){var it;if(g==null)Na(null,null,N,F,W,X,Q);else for(it=0;it<Q;++it)W[X+it]=g[w+it]+N[F+it]&255}function mr(g,w,N,F,W,X,Q){if(g==null)Na(null,null,N,F,W,X,Q);else{var it,at=g[w+0],ct=at,yt=at;for(it=0;it<Q;++it)ct=yt+(at=g[w+it])-ct,yt=N[F+it]+(-256&ct?0>ct?0:255:ct)&255,ct=at,W[X+it]=yt}}function Qa(g,w,N,F){var W=w.width,X=w.o;if(t(g!=null&&w!=null),0>N||0>=F||N+F>X)return null;if(!g.Cc){if(g.ga==null){var Q;if(g.ga=new vs,(Q=g.ga==null)||(Q=w.width*w.o,t(g.Gb.length==0),g.Gb=a(Q),g.Uc=0,g.Gb==null?Q=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Q=1),Q=!Q),!Q){Q=g.ga;var it=g.Fa,at=g.P,ct=g.qc,yt=g.mb,Lt=g.nb,It=at+1,At=ct-1,Ht=Q.l;if(t(it!=null&&yt!=null&&w!=null),so[0]=null,so[1]=Na,so[2]=Fo,so[3]=mr,Q.ca=yt,Q.tb=Lt,Q.c=w.width,Q.i=w.height,t(0<Q.c&&0<Q.i),1>=ct)w=0;else if(Q.$a=it[at+0]>>0&3,Q.Z=it[at+0]>>2&3,Q.Lc=it[at+0]>>4&3,at=it[at+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||at)w=0;else if(Ht.put=ji,Ht.ac=yi,Ht.bc=Zi,Ht.ma=Q,Ht.width=w.width,Ht.height=w.height,Ht.Da=w.Da,Ht.v=w.v,Ht.va=w.va,Ht.j=w.j,Ht.o=w.o,Q.$a)t:{t(Q.$a==1),w=wi();e:for(;;){if(w==null){w=0;break t}if(t(Q!=null),Q.mc=w,w.c=Q.c,w.i=Q.i,w.l=Q.l,w.l.ma=Q,w.l.width=Q.c,w.l.height=Q.i,w.a=0,et(w.m,it,It,At),!ds(Q.c,Q.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Fi(w.s)?(Q.ic=1,it=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(it),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(Q.ic=0,w=$s(w,Q.c)),!w))break e;w=1;break t}Q.mc=null,w=0}else w=At>=Q.c*Q.i;Q=!w}if(Q)return null;g.ga.Lc!=1?g.Ga=0:F=X-N}t(g.ga!=null),t(N+F<=X);t:{if(w=(it=g.ga).c,X=it.l.o,it.$a==0){if(It=g.rc,At=g.Vc,Ht=g.Fa,at=g.P+1+N*w,ct=g.mb,yt=g.nb+N*w,t(at<=g.P+g.qc),it.Z!=0)for(t(so[it.Z]!=null),Q=0;Q<F;++Q)so[it.Z](It,At,Ht,at,ct,yt,w),It=ct,At=yt,yt+=w,at+=w;else for(Q=0;Q<F;++Q)i(ct,yt,Ht,at,w),It=ct,At=yt,yt+=w,at+=w;g.rc=It,g.Vc=At}else{if(t(it.mc!=null),w=N+F,t((Q=it.mc)!=null),t(w<=Q.i),Q.C>=w)w=1;else if(it.ic||Et(),it.ic){it=Q.V,It=Q.Ba,At=Q.c;var jt=Q.i,bt=(Ht=1,at=Q.$/At,ct=Q.$%At,yt=Q.m,Lt=Q.s,Q.$),xt=At*jt,Ut=At*w,$t=Lt.wc,zt=bt<Ut?Jn(Lt,ct,at):null;t(bt<=xt),t(w<=jt),t(Fi(Lt));e:for(;;){for(;!yt.h&&bt<Ut;){if(ct&$t||(zt=Jn(Lt,ct,at)),t(zt!=null),ht(yt),256>(jt=bi(zt.G[0],zt.H[0],yt)))it[It+bt]=jt,++bt,++ct>=At&&(ct=0,++at<=w&&!(at%16)&&Dn(Q,at));else{if(!(280>jt)){Ht=0;break e}jt=Nr(jt-256,yt);var ue,ne=bi(zt.G[4],zt.H[4],yt);if(ht(yt),!(bt>=(ne=tr(At,ne=Nr(ne,yt)))&&xt-bt>=jt)){Ht=0;break e}for(ue=0;ue<jt;++ue)it[It+bt+ue]=it[It+bt+ue-ne];for(bt+=jt,ct+=jt;ct>=At;)ct-=At,++at<=w&&!(at%16)&&Dn(Q,at);bt<Ut&&ct&$t&&(zt=Jn(Lt,ct,at))}t(yt.h==nt(yt))}Dn(Q,at>w?w:at);break e}!Ht||yt.h&&bt<xt?(Ht=0,Q.a=yt.h?5:3):Q.$=bt,w=Ht}else w=Ti(Q,Q.V,Q.Ba,Q.c,Q.i,w,zr);if(!w){F=0;break t}}N+F>=X&&(g.Cc=1),F=1}if(!F)return null;if(g.Cc&&((F=g.ga)!=null&&(F.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+N*W}function A(g,w,N,F,W,X){for(;0<W--;){var Q,it=g,at=w+(N?1:0),ct=g,yt=w+(N?0:3);for(Q=0;Q<F;++Q){var Lt=ct[yt+4*Q];Lt!=255&&(Lt*=32897,it[at+4*Q+0]=it[at+4*Q+0]*Lt>>23,it[at+4*Q+1]=it[at+4*Q+1]*Lt>>23,it[at+4*Q+2]=it[at+4*Q+2]*Lt>>23)}w+=X}}function G(g,w,N,F,W){for(;0<F--;){var X;for(X=0;X<N;++X){var Q=g[w+2*X+0],it=15&(ct=g[w+2*X+1]),at=4369*it,ct=(240&ct|ct>>4)*at>>16;g[w+2*X+0]=(240&Q|Q>>4)*at>>16&240|(15&Q|Q<<4)*at>>16>>4&15,g[w+2*X+1]=240&ct|it}w+=W}}function ft(g,w,N,F,W,X,Q,it){var at,ct,yt=255;for(ct=0;ct<W;++ct){for(at=0;at<F;++at){var Lt=g[w+at];X[Q+4*at]=Lt,yt&=Lt}w+=N,Q+=it}return yt!=255}function vt(g,w,N,F,W){var X;for(X=0;X<W;++X)N[F+X]=g[w+X]>>8}function Et(){Qr=A,en=G,Cn=ft,_n=vt}function Bt(g,w,N){I[g]=function(F,W,X,Q,it,at,ct,yt,Lt,It,At,Ht,jt,bt,xt,Ut,$t){var zt,ue=$t-1>>1,ne=it[at+0]|ct[yt+0]<<16,we=Lt[It+0]|At[Ht+0]<<16;t(F!=null);var re=3*ne+we+131074>>2;for(w(F[W+0],255&re,re>>16,jt,bt),X!=null&&(re=3*we+ne+131074>>2,w(X[Q+0],255&re,re>>16,xt,Ut)),zt=1;zt<=ue;++zt){var wn=it[at+zt]|ct[yt+zt]<<16,sn=Lt[It+zt]|At[Ht+zt]<<16,cn=ne+wn+we+sn+524296,Ve=cn+2*(wn+we)>>3;re=Ve+ne>>1,ne=(cn=cn+2*(ne+sn)>>3)+wn>>1,w(F[W+2*zt-1],255&re,re>>16,jt,bt+(2*zt-1)*N),w(F[W+2*zt-0],255&ne,ne>>16,jt,bt+(2*zt-0)*N),X!=null&&(re=cn+we>>1,ne=Ve+sn>>1,w(X[Q+2*zt-1],255&re,re>>16,xt,Ut+(2*zt-1)*N),w(X[Q+2*zt+0],255&ne,ne>>16,xt,Ut+(2*zt+0)*N)),ne=wn,we=sn}1&$t||(re=3*ne+we+131074>>2,w(F[W+$t-1],255&re,re>>16,jt,bt+($t-1)*N),X!=null&&(re=3*we+ne+131074>>2,w(X[Q+$t-1],255&re,re>>16,xt,Ut+($t-1)*N)))}}function Xt(){or[Eh]=Dl,or[wr]=Nu,or[Th]=Yf,or[Is]=Lh,or[Pc]=Ko,or[Au]=Ca,or[Wo]=Xo,or[kc]=Nu,or[Nh]=Lh,or[Eu]=Ko,or[Ch]=Ca}function se(g){return g&-16384?0>g?0:255:g>>Ph}function v(g,w){return se((19077*g>>8)+(26149*w>>8)-14234)}function R(g,w,N){return se((19077*g>>8)-(6419*w>>8)-(13320*N>>8)+8708)}function V(g,w){return se((19077*g>>8)+(33050*w>>8)-17685)}function rt(g,w,N,F,W){F[W+0]=v(g,N),F[W+1]=R(g,w,N),F[W+2]=V(g,w)}function St(g,w,N,F,W){F[W+0]=V(g,w),F[W+1]=R(g,w,N),F[W+2]=v(g,N)}function Pt(g,w,N,F,W){var X=R(g,w,N);w=X<<3&224|V(g,w)>>3,F[W+0]=248&v(g,N)|X>>5,F[W+1]=w}function Jt(g,w,N,F,W){var X=240&V(g,w)|15;F[W+0]=240&v(g,N)|R(g,w,N)>>4,F[W+1]=X}function De(g,w,N,F,W){F[W+0]=255,rt(g,w,N,F,W+1)}function Je(g,w,N,F,W){St(g,w,N,F,W),F[W+3]=255}function Re(g,w,N,F,W){rt(g,w,N,F,W),F[W+3]=255}function An(g,w){return 0>g?0:g>w?w:g}function Mn(g,w,N){I[g]=function(F,W,X,Q,it,at,ct,yt,Lt){for(var It=yt+(-2&Lt)*N;yt!=It;)w(F[W+0],X[Q+0],it[at+0],ct,yt),w(F[W+1],X[Q+0],it[at+0],ct,yt+N),W+=2,++Q,++at,yt+=2*N;1&Lt&&w(F[W+0],X[Q+0],it[at+0],ct,yt)}}function ia(g,w,N){return N==0?g==0?w==0?6:5:w==0?4:0:N}function Vi(g,w,N,F,W){switch(g>>>30){case 3:oa(w,N,F,W,0);break;case 2:Yn(w,N,F,W);break;case 1:br(w,N,F,W)}}function ra(g,w){var N,F,W=w.M,X=w.Nb,Q=g.oc,it=g.pc+40,at=g.oc,ct=g.pc+584,yt=g.oc,Lt=g.pc+600;for(N=0;16>N;++N)Q[it+32*N-1]=129;for(N=0;8>N;++N)at[ct+32*N-1]=129,yt[Lt+32*N-1]=129;for(0<W?Q[it-1-32]=at[ct-1-32]=yt[Lt-1-32]=129:(r(Q,it-32-1,127,21),r(at,ct-32-1,127,9),r(yt,Lt-32-1,127,9)),F=0;F<g.za;++F){var It=w.ya[w.aa+F];if(0<F){for(N=-1;16>N;++N)i(Q,it+32*N-4,Q,it+32*N+12,4);for(N=-1;8>N;++N)i(at,ct+32*N-4,at,ct+32*N+4,4),i(yt,Lt+32*N-4,yt,Lt+32*N+4,4)}var At=g.Gd,Ht=g.Hd+F,jt=It.ad,bt=It.Hc;if(0<W&&(i(Q,it-32,At[Ht].y,0,16),i(at,ct-32,At[Ht].f,0,8),i(yt,Lt-32,At[Ht].ea,0,8)),It.Za){var xt=Q,Ut=it-32+16;for(0<W&&(F>=g.za-1?r(xt,Ut,At[Ht].y[15],4):i(xt,Ut,At[Ht+1].y,0,4)),N=0;4>N;N++)xt[Ut+128+N]=xt[Ut+256+N]=xt[Ut+384+N]=xt[Ut+0+N];for(N=0;16>N;++N,bt<<=2)xt=Q,Ut=it+xi[N],hi[It.Ob[N]](xt,Ut),Vi(bt,jt,16*+N,xt,Ut)}else if(xt=ia(F,W,It.Ob[0]),Dr[xt](Q,it),bt!=0)for(N=0;16>N;++N,bt<<=2)Vi(bt,jt,16*+N,Q,it+xi[N]);for(N=It.Gc,xt=ia(F,W,It.Dd),ca[xt](at,ct),ca[xt](yt,Lt),bt=jt,xt=at,Ut=ct,255&(It=N>>0)&&(170&It?Pl(bt,256,xt,Ut):Ui(bt,256,xt,Ut)),It=yt,bt=Lt,255&(N>>=8)&&(170&N?Pl(jt,320,It,bt):Ui(jt,320,It,bt)),W<g.Ub-1&&(i(At[Ht].y,0,Q,it+480,16),i(At[Ht].f,0,at,ct+224,8),i(At[Ht].ea,0,yt,Lt+224,8)),N=8*X*g.B,At=g.sa,Ht=g.ta+16*F+16*X*g.R,jt=g.qa,It=g.ra+8*F+N,bt=g.Ha,xt=g.Ia+8*F+N,N=0;16>N;++N)i(At,Ht+N*g.R,Q,it+32*N,16);for(N=0;8>N;++N)i(jt,It+N*g.B,at,ct+32*N,8),i(bt,xt+N*g.B,yt,Lt+32*N,8)}}function Xr(g,w,N,F,W,X,Q,it,at){var ct=[0],yt=[0],Lt=0,It=at!=null?at.kd:0,At=at??new Mo;if(g==null||12>N)return 7;At.data=g,At.w=w,At.ha=N,w=[w],N=[N],At.gb=[At.gb];t:{var Ht=w,jt=N,bt=At.gb;if(t(g!=null),t(jt!=null),t(bt!=null),bt[0]=0,12<=jt[0]&&!e(g,Ht[0],"RIFF")){if(e(g,Ht[0]+8,"WEBP")){bt=3;break t}var xt=ie(g,Ht[0]+4);if(12>xt||4294967286<xt){bt=3;break t}if(It&&xt>jt[0]-8){bt=7;break t}bt[0]=xt,Ht[0]+=12,jt[0]-=12}bt=0}if(bt!=0)return bt;for(xt=0<At.gb[0],N=N[0];;){t:{var Ut=g;jt=w,bt=N;var $t=ct,zt=yt,ue=Ht=[0];if((re=Lt=[Lt])[0]=0,8>bt[0])bt=7;else{if(!e(Ut,jt[0],"VP8X")){if(ie(Ut,jt[0]+4)!=10){bt=3;break t}if(18>bt[0]){bt=7;break t}var ne=ie(Ut,jt[0]+8),we=1+ee(Ut,jt[0]+12);if(2147483648<=we*(Ut=1+ee(Ut,jt[0]+15))){bt=3;break t}ue!=null&&(ue[0]=ne),$t!=null&&($t[0]=we),zt!=null&&(zt[0]=Ut),jt[0]+=18,bt[0]-=18,re[0]=1}bt=0}}if(Lt=Lt[0],Ht=Ht[0],bt!=0)return bt;if(jt=!!(2&Ht),!xt&&Lt)return 3;if(X!=null&&(X[0]=!!(16&Ht)),Q!=null&&(Q[0]=jt),it!=null&&(it[0]=0),Q=ct[0],Ht=yt[0],Lt&&jt&&at==null){bt=0;break}if(4>N){bt=7;break}if(xt&&Lt||!xt&&!Lt&&!e(g,w[0],"ALPH")){N=[N],At.na=[At.na],At.P=[At.P],At.Sa=[At.Sa];t:{ne=g,bt=w,xt=N;var re=At.gb;$t=At.na,zt=At.P,ue=At.Sa,we=22,t(ne!=null),t(xt!=null),Ut=bt[0];var wn=xt[0];for(t($t!=null),t(ue!=null),$t[0]=null,zt[0]=null,ue[0]=0;;){if(bt[0]=Ut,xt[0]=wn,8>wn){bt=7;break t}var sn=ie(ne,Ut+4);if(4294967286<sn){bt=3;break t}var cn=8+sn+1&-2;if(we+=cn,0<re&&we>re){bt=3;break t}if(!e(ne,Ut,"VP8 ")||!e(ne,Ut,"VP8L")){bt=0;break t}if(wn[0]<cn){bt=7;break t}e(ne,Ut,"ALPH")||($t[0]=ne,zt[0]=Ut+8,ue[0]=sn),Ut+=cn,wn-=cn}}if(N=N[0],At.na=At.na[0],At.P=At.P[0],At.Sa=At.Sa[0],bt!=0)break}N=[N],At.Ja=[At.Ja],At.xa=[At.xa];t:if(re=g,bt=w,xt=N,$t=At.gb[0],zt=At.Ja,ue=At.xa,ne=bt[0],Ut=!e(re,ne,"VP8 "),we=!e(re,ne,"VP8L"),t(re!=null),t(xt!=null),t(zt!=null),t(ue!=null),8>xt[0])bt=7;else{if(Ut||we){if(re=ie(re,ne+4),12<=$t&&re>$t-12){bt=3;break t}if(It&&re>xt[0]-8){bt=7;break t}zt[0]=re,bt[0]+=8,xt[0]-=8,ue[0]=we}else ue[0]=5<=xt[0]&&re[ne+0]==47&&!(re[ne+4]>>5),zt[0]=xt[0];bt=0}if(N=N[0],At.Ja=At.Ja[0],At.xa=At.xa[0],w=w[0],bt!=0)break;if(4294967286<At.Ja)return 3;if(it==null||jt||(it[0]=At.xa?2:1),Q=[Q],Ht=[Ht],At.xa){if(5>N){bt=7;break}it=Q,It=Ht,jt=X,g==null||5>N?g=0:5<=N&&g[w+0]==47&&!(g[w+4]>>5)?(xt=[0],re=[0],$t=[0],et(zt=new M,g,w,N),fe(zt,xt,re,$t)?(it!=null&&(it[0]=xt[0]),It!=null&&(It[0]=re[0]),jt!=null&&(jt[0]=$t[0]),g=1):g=0):g=0}else{if(10>N){bt=7;break}it=Ht,g==null||10>N||!Cr(g,w+3,N-3)?g=0:(It=g[w+0]|g[w+1]<<8|g[w+2]<<16,jt=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&It||3<(It>>1&7)||!(It>>4&1)||It>>5>=At.Ja||!jt||!g?g=0:(Q&&(Q[0]=jt),it&&(it[0]=g),g=1))}if(!g||(Q=Q[0],Ht=Ht[0],Lt&&(ct[0]!=Q||yt[0]!=Ht)))return 3;at!=null&&(at[0]=At,at.offset=w-at.w,t(4294967286>w-at.w),t(at.offset==at.ha-N));break}return bt==0||bt==7&&Lt&&at==null?(X!=null&&(X[0]|=At.na!=null&&0<At.na.length),F!=null&&(F[0]=Q),W!=null&&(W[0]=Ht),0):bt}function Ja(g,w,N){var F=w.width,W=w.height,X=0,Q=0,it=F,at=W;if(w.Da=g!=null&&0<g.Da,w.Da&&(it=g.cd,at=g.bd,X=g.v,Q=g.j,11>N||(X&=-2,Q&=-2),0>X||0>Q||0>=it||0>=at||X+it>F||Q+at>W))return 0;if(w.v=X,w.j=Q,w.va=X+it,w.o=Q+at,w.U=it,w.T=at,w.da=g!=null&&0<g.da,w.da){if(!Oe(it,at,N=[g.ib],X=[g.hb]))return 0;w.ib=N[0],w.hb=X[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*F/4&&w.hb<3*W/4,w.Kb=0),1}function Rc(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function Za(g,w,N,F){if(F==null||0>=g||0>=w)return 2;if(N!=null){if(N.Da){var W=N.cd,X=N.bd,Q=-2&N.v,it=-2&N.j;if(0>Q||0>it||0>=W||0>=X||Q+W>g||it+X>w)return 2;g=W,w=X}if(N.da){if(!Oe(g,w,W=[N.ib],X=[N.hb]))return 2;g=W[0],w=X[0]}}F.width=g,F.height=w;t:{var at=F.width,ct=F.height;if(g=F.S,0>=at||0>=ct||!(g>=Eh&&13>g))g=2;else{if(0>=F.Rd&&F.sd==null){Q=X=W=w=0;var yt=(it=at*Oh[g])*ct;if(11>g||(X=(ct+1)/2*(w=(at+1)/2),g==12&&(Q=(W=at)*ct)),(ct=a(yt+2*X+Q))==null){g=1;break t}F.sd=ct,11>g?((at=F.f.RGBA).eb=ct,at.fb=0,at.A=it,at.size=yt):((at=F.f.kb).y=ct,at.O=0,at.fa=it,at.Fd=yt,at.f=ct,at.N=0+yt,at.Ab=w,at.Cd=X,at.ea=ct,at.W=0+yt+X,at.Db=w,at.Ed=X,g==12&&(at.F=ct,at.J=0+yt+2*X),at.Tc=Q,at.lb=W)}if(w=1,W=F.S,X=F.width,Q=F.height,W>=Eh&&13>W)if(11>W)g=F.f.RGBA,w&=(it=Math.abs(g.A))*(Q-1)+X<=g.size,w&=it>=X*Oh[W],w&=g.eb!=null;else{g=F.f.kb,it=(X+1)/2,yt=(Q+1)/2,at=Math.abs(g.fa),ct=Math.abs(g.Ab);var Lt=Math.abs(g.Db),It=Math.abs(g.lb),At=It*(Q-1)+X;w&=at*(Q-1)+X<=g.Fd,w&=ct*(yt-1)+it<=g.Cd,w=(w&=Lt*(yt-1)+it<=g.Ed)&at>=X&ct>=it&Lt>=it,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,W==12&&(w&=It>=X,w&=At<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||N!=null&&N.fd&&(g=Rc(F)),g}var zi=64,Ll=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bo=24,Vo=32,vu=8,kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];te("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(g){return g},I.Predictor2=function(g,w,N){return w[N+0]},I.Predictor3=function(g,w,N){return w[N+1]},I.Predictor4=function(g,w,N){return w[N-1]},I.Predictor5=function(g,w,N){return oe(oe(g,w[N+1]),w[N+0])},I.Predictor6=function(g,w,N){return oe(g,w[N-1])},I.Predictor7=function(g,w,N){return oe(g,w[N+0])},I.Predictor8=function(g,w,N){return oe(w[N-1],w[N+0])},I.Predictor9=function(g,w,N){return oe(w[N+0],w[N+1])},I.Predictor10=function(g,w,N){return oe(oe(g,w[N-1]),oe(w[N+0],w[N+1]))},I.Predictor11=function(g,w,N){var F=w[N+0];return 0>=Fe(F>>24&255,g>>24&255,(w=w[N-1])>>24&255)+Fe(F>>16&255,g>>16&255,w>>16&255)+Fe(F>>8&255,g>>8&255,w>>8&255)+Fe(255&F,255&g,255&w)?F:g},I.Predictor12=function(g,w,N){var F=w[N+0];return(ye((g>>24&255)+(F>>24&255)-((w=w[N-1])>>24&255))<<24|ye((g>>16&255)+(F>>16&255)-(w>>16&255))<<16|ye((g>>8&255)+(F>>8&255)-(w>>8&255))<<8|ye((255&g)+(255&F)-(255&w)))>>>0},I.Predictor13=function(g,w,N){var F=w[N-1];return(me((g=oe(g,w[N+0]))>>24&255,F>>24&255)<<24|me(g>>16&255,F>>16&255)<<16|me(g>>8&255,F>>8&255)<<8|me(g>>0&255,F>>0&255))>>>0};var xh=I.PredictorAdd0;I.PredictorAdd1=_e,te("Predictor2","PredictorAdd2"),te("Predictor3","PredictorAdd3"),te("Predictor4","PredictorAdd4"),te("Predictor5","PredictorAdd5"),te("Predictor6","PredictorAdd6"),te("Predictor7","PredictorAdd7"),te("Predictor8","PredictorAdd8"),te("Predictor9","PredictorAdd9"),te("Predictor10","PredictorAdd10"),te("Predictor11","PredictorAdd11"),te("Predictor12","PredictorAdd12"),te("Predictor13","PredictorAdd13");var Ic=I.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",(function(g){return g>>8&255}),(function(g){return g})),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(g){return g}),(function(g){return g>>8&255}));var Sh,Cs=I.ColorIndexInverseTransform,yu=I.MapARGB,Ah=I.VP8LColorIndexInverseTransformAlpha,vr=I.MapAlpha,Rs=I.VP8LPredictorsAdd=[];Rs.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var zo,Or,yr,to,sa,eo,aa,oa,Yn,Pl,br,Ui,la,bu,_u,ys,Uo,no,qo,wu,kl,Ho,xu,bs,Qr,en,Cn,_n,Zn=a(511),ua=a(2041),Go=a(225),io=a(767),Su=0,ro=ua,Lc=Go,_r=io,sr=Zn,Eh=0,wr=1,Th=2,Is=3,Pc=4,Au=5,Wo=6,kc=7,Nh=8,Eu=9,Ch=10,Ls=[2,3,7],Tu=[3,3,11],Ol=[280,256,256,256,40],Rh=[0,1,1,1,0],Oc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ps=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ks=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Yo=8,Os=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ds=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_s=null,Op=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ih=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Dp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ar=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$n=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Dr=[],hi=[],ca=[],$o=1,Wf=2,so=[],or=[];Bt("UpsampleRgbLinePair",rt,3),Bt("UpsampleBgrLinePair",St,3),Bt("UpsampleRgbaLinePair",Re,4),Bt("UpsampleBgraLinePair",Je,4),Bt("UpsampleArgbLinePair",De,4),Bt("UpsampleRgba4444LinePair",Jt,2),Bt("UpsampleRgb565LinePair",Pt,2);var Dl=I.UpsampleRgbLinePair,Yf=I.UpsampleBgrLinePair,Nu=I.UpsampleRgbaLinePair,Lh=I.UpsampleBgraLinePair,Ko=I.UpsampleArgbLinePair,Ca=I.UpsampleRgba4444LinePair,Xo=I.UpsampleRgb565LinePair,Ms=16,Cu=1<<Ms-1,Ml=-227,Qo=482,Ph=6,Jo=0,lr=a(256),kh=a(256),Mp=a(256),A0=a(256),E0=a(Qo-Ml),T0=a(Qo-Ml);Mn("YuvToRgbRow",rt,3),Mn("YuvToBgrRow",St,3),Mn("YuvToRgbaRow",Re,4),Mn("YuvToBgraRow",Je,4),Mn("YuvToArgbRow",De,4),Mn("YuvToRgba4444Row",Jt,2),Mn("YuvToRgb565Row",Pt,2);var xi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ru=[0,2,8],Dc=[8,7,6,4,4,2,2,2,1,1,1,1],Mc=1;this.WebPDecodeRGBA=function(g,w,N,F,W){var X=wr,Q=new Ta,it=new Ei;Q.ba=it,it.S=X,it.width=[it.width],it.height=[it.height];var at=it.width,ct=it.height,yt=new dr;if(yt==null||g==null)var Lt=2;else t(yt!=null),Lt=Xr(g,w,N,yt.width,yt.height,yt.Pd,yt.Qd,yt.format,null);if(Lt!=0?at=0:(at!=null&&(at[0]=yt.width[0]),ct!=null&&(ct[0]=yt.height[0]),at=1),at){it.width=it.width[0],it.height=it.height[0],F!=null&&(F[0]=it.width),W!=null&&(W[0]=it.height);t:{if(F=new qa,(W=new Mo).data=g,W.w=w,W.ha=N,W.kd=1,w=[0],t(W!=null),((g=Xr(W.data,W.w,W.ha,null,null,null,w,null,W))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(t(Q!=null),F.data=W.data,F.w=W.w+W.offset,F.ha=W.ha-W.offset,F.put=ji,F.ac=yi,F.bc=Zi,F.ma=Q,W.xa){if((g=wi())==null){Q=1;break t}if((function(It,At){var Ht=[0],jt=[0],bt=[0];e:for(;;){if(It==null)return 0;if(At==null)return It.a=2,0;if(It.l=At,It.a=0,et(It.m,At.data,At.w,At.ha),!fe(It.m,Ht,jt,bt)){It.a=3;break e}if(It.xb=Wf,At.width=Ht[0],At.height=jt[0],!ds(Ht[0],jt[0],1,It,null))break e;return 1}return t(It.a!=0),0})(g,F)){if(F=(w=Za(F.width,F.height,Q.Oa,Q.ba))==0){e:{F=g;n:for(;;){if(F==null){F=0;break e}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((N=F.l)!=null),t((W=N.ma)!=null),F.xb!=0){if(F.ca=W.ba,F.tb=W.tb,t(F.ca!=null),!Ja(W.Oa,N,Is)){F.a=2;break n}if(!$s(F,N.width)||N.da)break n;if((N.da||ln(F.ca.S))&&Et(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&Et()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!ve(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!Ti(F,F.V,F.Ba,F.c,F.i,N.o,Ua))break n;W.Dc=F.Ma,F=1;break e}t(F.a!=0),F=0}F=!F}F&&(w=g.a)}else w=g.a}else{if((g=new ba)==null){Q=1;break t}if(g.Fa=W.na,g.P=W.P,g.qc=W.Sa,Bi(g,F)){if((w=Za(F.width,F.height,Q.Oa,Q.ba))==0){if(g.Aa=0,N=Q.Oa,t((W=g)!=null),N!=null){if(0<(at=0>(at=N.Md)?0:100<at?255:255*at/100)){for(ct=yt=0;4>ct;++ct)12>(Lt=W.pb[ct]).lc&&(Lt.ia=at*Dc[0>Lt.lc?0:Lt.lc]>>3),yt|=Lt.ia;yt&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=N.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}Co(g,F)||(w=g.a)}}else w=g.a}w==0&&Q.Oa!=null&&Q.Oa.fd&&(w=Rc(Q.ba))}Q=w}X=Q!=0?null:11>X?it.f.RGBA.eb:it.f.kb.y}else X=null;return X};var Oh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,B){for(var q="",L=0;L<4;L++)q+=String.fromCharCode(I[B++]);return q}function p(I,B){return(I[B+0]<<0|I[B+1]<<8|I[B+2]<<16)>>>0}function m(I,B){return(I[B+0]<<0|I[B+1]<<8|I[B+2]<<16|I[B+3]<<24)>>>0}new h;var _=[0],y=[0],S=[],T=new h,C=n,E=(function(I,B){var q={},L=0,P=!1,z=0,ot=0;if(q.frames=[],!(function(Y,nt,lt,ht){for(var _t=0;_t<ht;_t++)if(Y[nt+_t]!=lt.charCodeAt(_t))return!0;return!1})(I,B,"RIFF",4)){var mt,$;for(m(I,B+=4),B+=8;B<I.length;){var J=f(I,B),et=m(I,B+=4);B+=4;var ut=et+(1&et);switch(J){case"VP8 ":case"VP8L":q.frames[L]===void 0&&(q.frames[L]={}),(M=q.frames[L]).src_off=P?ot:B-8,M.src_size=z+et+8,L++,P&&(P=!1,z=0,ot=0);break;case"VP8X":(M=q.header={}).feature_flags=I[B];var pt=B+4;M.canvas_width=1+p(I,pt),pt+=3,M.canvas_height=1+p(I,pt),pt+=3;break;case"ALPH":P=!0,z=ut+8,ot=B-8;break;case"ANIM":(M=q.header).bgcolor=m(I,B),pt=B+4,M.loop_count=(mt=I)[($=pt)+0]<<0|mt[$+1]<<8,pt+=2;break;case"ANMF":var tt,M;(M=q.frames[L]={}).offset_x=2*p(I,B),B+=3,M.offset_y=2*p(I,B),B+=3,M.width=1+p(I,B),B+=3,M.height=1+p(I,B),B+=3,M.duration=p(I,B),B+=3,tt=I[B++],M.dispose=1&tt,M.blend=tt>>1&1}J!="ANMF"&&(B+=ut)}return q}})(C,0);E.response=C,E.rgbaoutput=!0,E.dataurl=!1;var D=E.header?E.header:null,j=E.frames?E.frames:null;if(D){D.loop_counter=D.loop_count,_=[D.canvas_height],y=[D.canvas_width];for(var H=0;H<j.length&&j[H].blend!=0;H++);}var K=j[0],Z=T.WebPDecodeRGBA(C,K.src_off,K.src_size,y,_);K.rgba=Z,K.imgwidth=y[0],K.imgheight=_[0];for(var k=0;k<y[0]*_[0]*4;k++)S[k]=Z[k];return this.width=y,this.height=_,this.data=S,this}(function(n){var t=function(){return typeof rv=="function"},e=function(_,y,S,T){var C=4,E=l;switch(T){case n.image_compression.FAST:C=1,E=a;break;case n.image_compression.MEDIUM:C=6,E=u;break;case n.image_compression.SLOW:C=9,E=h}_=i(_,y,S,E);var D=rv(_,{level:C});return n.__addimage__.arrayBufferToBinaryString(D)},i=function(_,y,S,T){for(var C,E,D,j=_.length/y,H=new Uint8Array(_.length+j),K=p(),Z=0;Z<j;Z+=1){if(D=Z*y,C=_.subarray(D,D+y),T)H.set(T(C,S,E),D+Z);else{for(var k,I=K.length,B=[];k<I;k+=1)B[k]=K[k](C,S,E);var q=m(B.concat());H.set(B[q],D+Z)}E=C}return H},r=function(_){var y=Array.apply([],_);return y.unshift(0),y},a=function(_,y){var S,T=[],C=_.length;T[0]=1;for(var E=0;E<C;E+=1)S=_[E-y]||0,T[E+1]=_[E]-S+256&255;return T},l=function(_,y,S){var T,C=[],E=_.length;C[0]=2;for(var D=0;D<E;D+=1)T=S&&S[D]||0,C[D+1]=_[D]-T+256&255;return C},u=function(_,y,S){var T,C,E=[],D=_.length;E[0]=3;for(var j=0;j<D;j+=1)T=_[j-y]||0,C=S&&S[j]||0,E[j+1]=_[j]+256-(T+C>>>1)&255;return E},h=function(_,y,S){var T,C,E,D,j=[],H=_.length;j[0]=4;for(var K=0;K<H;K+=1)T=_[K-y]||0,C=S&&S[K]||0,E=S&&S[K-y]||0,D=f(T,C,E),j[K+1]=_[K]-D+256&255;return j},f=function(_,y,S){if(_===y&&y===S)return _;var T=Math.abs(y-S),C=Math.abs(_-S),E=Math.abs(_+y-S-S);return T<=C&&T<=E?_:C<=E?y:S},p=function(){return[r,a,l,u,h]},m=function(_){var y=_.map((function(S){return S.reduce((function(T,C){return T+Math.abs(C)}),0)}));return y.indexOf(Math.min.apply(null,y))};n.processPNG=function(_,y,S,T){var C,E,D,j,H,K,Z,k,I,B,q,L,P,z,ot,mt=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(D=new dO(_)).imgData,E=D.bits,C=D.colorSpace,H=D.colors,[4,6].indexOf(D.colorType)!==-1){if(D.bits===8){I=(k=D.pixelBitlength==32?new Uint32Array(D.decodePixels().buffer):D.pixelBitlength==16?new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer)).length,q=new Uint8Array(I*D.colors),B=new Uint8Array(I);var J,et=D.pixelBitlength-D.bits;for(z=0,ot=0;z<I;z++){for(P=k[z],J=0;J<et;)q[ot++]=P>>>J&255,J+=D.bits;B[z]=P>>>J&255}}if(D.bits===16){I=(k=new Uint32Array(D.decodePixels().buffer)).length,q=new Uint8Array(I*(32/D.pixelBitlength)*D.colors),B=new Uint8Array(I*(32/D.pixelBitlength)),L=D.colors>1,z=0,ot=0;for(var ut=0;z<I;)P=k[z++],q[ot++]=P>>>0&255,L&&(q[ot++]=P>>>16&255,P=k[z++],q[ot++]=P>>>0&255),B[ut++]=P>>>16&255;E=8}T!==n.image_compression.NONE&&t()?(_=e(q,D.width*D.colors,D.colors,T),Z=e(B,D.width,1,T)):(_=q,Z=B,mt=void 0)}if(D.colorType===3&&(C=this.color_spaces.INDEXED,K=D.palette,D.transparency.indexed)){var pt=D.transparency.indexed,tt=0;for(z=0,I=pt.length;z<I;++z)tt+=pt[z];if((tt/=255)===I-1&&pt.indexOf(0)!==-1)j=[pt.indexOf(0)];else if(tt!==I){for(k=D.decodePixels(),B=new Uint8Array(k.length),z=0,I=k.length;z<I;z++)B[z]=pt[k[z]];Z=e(B,D.width,1)}}var M=(function(Y){var nt;switch(Y){case n.image_compression.FAST:nt=11;break;case n.image_compression.MEDIUM:nt=13;break;case n.image_compression.SLOW:nt=14;break;default:nt=12}return nt})(T);return mt===this.decode.FLATE_DECODE&&($="/Predictor "+M+" "),$+="/Colors "+H+" /BitsPerComponent "+E+" /Columns "+D.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:S,data:_,index:y,filter:mt,decodeParameters:$,transparency:j,palette:K,sMask:Z,predictor:M,width:D.width,height:D.height,bitsPerComponent:E,colorSpace:C}}}})(Ce.API),(function(n){n.processGIF89A=function(t,e,i,r){var a=new pO(t),l=a.width,u=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:l,height:u},p=new c2(100).encode(f,100);return n.processJPEG.call(this,p,e,i,r)},n.processGIF87A=n.processGIF89A})(Ce.API),go.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},go.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Qn.log("bit decode error:"+e)}},go.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var h=this.palette[a>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}e!==0&&(this.pos+=4-e)}},go.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*r*4,u=a>>4,h=15&a,f=this.palette[u];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*r+1>=this.width)break;f=this.palette[h],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},go.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*i;if(r<this.palette.length){var l=this.palette[r];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},go.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,u=(a>>5&t)/t*255|0,h=(a>>10&t)/t*255|0,f=a>>15?255:0,p=i*this.width*4+4*r;this.data[p]=h,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=f}this.pos+=n}},go.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&t)/t*255|0,h=(l>>5&e)/e*255|0,f=(l>>11)/t*255|0,p=r*this.width*4+4*a;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=u,this.data[p+3]=255}this.pos+=n}},go.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},go.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=a,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=l}},go.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,i,r){var a=new go(t,!1),l=a.width,u=a.height,h={data:a.getData(),width:l,height:u},f=new c2(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}})(Ce.API),px.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,i,r){var a=new px(t),l=a.width,u=a.height,h={data:a.getData(),width:l,height:u},f=new c2(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}})(Ce.API),Ce.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,a=new Uint8Array(r/4*3),l=new Uint8Array(r/4),u=0,h=0,f=0;f<r;f+=4){var p=i[f],m=i[f+1],_=i[f+2],y=i[f+3];a[u++]=p,a[u++]=m,a[u++]=_,l[h++]=y}var S=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:S,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ce.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},rf=Ce.API,Og=rf.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:r.metadata.Unicode.widths,h=u.fof?u.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,m=t.doKerning!==!1,_=0,y=n.length,S=0,T=u[0]||h,C=[];for(e=0;e<y;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?C.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(_=m&&zn(f[i])==="object"&&!isNaN(parseInt(f[i][S],10))?f[i][S]/p:0,C.push((u[i]||T)/h+_)),S=i;return C},cx=rf.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return rf.processArabic&&(n=rf.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:Og.apply(this,arguments).reduce((function(a,l){return a+l}),0)},hx=function(n,t,e,i){for(var r=[],a=0,l=n.length,u=0;a!==l&&u+t[a]<e;)u+=t[a],a++;r.push(n.slice(0,a));var h=a;for(u=0;a!==l;)u+t[a]>i&&(r.push(n.slice(h,a)),u=0,h=a),u+=t[a],a++;return h!==a&&r.push(n.slice(h,a)),r},fx=function(n,t,e){e||(e={});var i,r,a,l,u,h,f,p=[],m=[p],_=e.textIndent||0,y=0,S=0,T=n.split(" "),C=Og.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?T[0].length+2:e.lineIndent||0){var E=Array(h).join(" "),D=[];T.map((function(H){(H=H.split(/\s*\n/)).length>1?D=D.concat(H.map((function(K,Z){return(Z&&K.length?`
`:"")+K}))):D.push(H[0])})),T=D,h=cx.apply(this,[E,e])}for(a=0,l=T.length;a<l;a++){var j=0;if(i=T[a],h&&i[0]==`
`&&(i=i.substr(1),j=1),_+y+(S=(r=Og.apply(this,[i,e])).reduce((function(H,K){return H+K}),0))>t||j){if(S>t){for(u=hx.apply(this,[i,r,t-(_+y),t]),p.push(u.shift()),p=[u.pop()];u.length;)m.push([u.shift()]);S=r.slice(i.length-(p[0]?p[0].length:0)).reduce((function(H,K){return H+K}),0)}else p=[i];m.push(p),_=S+h,y=C}else p.push(i),_+=y+S,y=C}return f=h?function(H,K){return(K?E:"")+H.join(" ")}:function(H){return H.join(" ")},m.map(f)},rf.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/r;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=e.lineIndent;var u,h,f=[];for(u=0,h=i.length;u<h;u++)f=f.concat(fx.apply(this,[i[u],l,a]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var a=function(m){return"0x"+parseInt(m,10).toString(16)},l=n.__fontmetrics__.compress=function(m){var _,y,S,T,C=["{"];for(var E in m){if(_=m[E],isNaN(parseInt(E,10))?y="'"+E+"'":(E=parseInt(E,10),y=(y=a(E).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof _=="number")_<0?(S=a(_).slice(3),T="-"):(S=a(_).slice(2),T=""),S=T+S.slice(0,-1)+i[S.slice(-1)];else{if(zn(_)!=="object")throw new Error("Don't know what to do with value type "+zn(_)+".");S=l(_)}C.push(y+S)}return C.push("}"),C.join("")},u=n.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,y,S,T,C={},E=1,D=C,j=[],H="",K="",Z=m.length-1,k=1;k<Z;k+=1)(T=m[k])=="'"?_?(S=_.join(""),_=void 0):_=[]:_?_.push(T):T=="{"?(j.push([D,S]),D={},S=void 0):T=="}"?((y=j.pop())[0][y[1]]=D,S=void 0,D=y[0]):T=="-"?E=-1:S===void 0?e.hasOwnProperty(T)?(H+=e[T],S=parseInt(H,16)*E,E=1,H=""):H+=T:e.hasOwnProperty(T)?(K+=e[T],D[S]=parseInt(K,16)*E,E=1,S=void 0,K=""):K+=T;return C},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(m){var _=m.font,y=p.Unicode[_.postScriptName];y&&(_.metadata.Unicode={},_.metadata.Unicode.widths=y.widths,_.metadata.Unicode.kerning=y.kerning);var S=f.Unicode[_.postScriptName];S&&(_.metadata.Unicode.encoding=S,_.encoding=S.codePages[0])}])})(Ce.API),(function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=e.charCodeAt(a);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,a=e.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Gd(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(r,i)}}])})(Ce),(function(n){function t(){return(Pe.canvg?Promise.resolve(Pe.canvg):Z2(()=>import("./index.es-DF4UT5-f.js"),[])).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Ce.API.addSvgAsImage=function(e,i,r,a,l,u,h,f){if(isNaN(i)||isNaN(r))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=a,p.height=l;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return t().then((function(S){return S.fromString(m,e,_)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(S){return S.render(_)})).then((function(){y.addImage(p.toDataURL("image/jpeg",1),i,r,a,l,h,f)}))}})(),Ce.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},Ce.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],f=0,p=0,m=0;function _(S,T){var C,E=!1;for(C=0;C<S.length;C+=1)S[C]===T&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var y=u.length;for(m=0;m<y;m+=1)e[u[m]].value=e[u[m]].defaultValue,e[u[m]].explicitSet=!1}if(zn(n)==="object"){for(r in n)if(a=n[r],_(u,r)&&a!==void 0){if(e[r].type==="boolean"&&typeof a=="boolean")e[r].value=a;else if(e[r].type==="name"&&_(e[r].valueSet,a))e[r].value=a;else if(e[r].type==="integer"&&Number.isInteger(a))e[r].value=a;else if(e[r].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")h.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(i=!1);i===!0&&h.push([a[f][0]-1,a[f][1]-1].join(" "))}e[r].value="["+h.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var S,T=[];for(S in e)e[S].explicitSet===!0&&(e[S].type==="name"?T.push("/"+S+" /"+e[S].value):T.push("/"+S+" "+e[S].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+l.length+u.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+a+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Ce.API),(function(n){var t=n.API,e=t.pdfEscape16=function(a,l){for(var u,h=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],m=0,_=a.length;m<_;++m){if(u=l.metadata.characterToGlyph(a.charCodeAt(m)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=a.charCodeAt(m),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},i=function(a){var l,u,h,f,p,m,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],m=0,_=(u=Object.keys(a).sort((function(y,S){return y-S}))).length;m<_;m++)l=u[m],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(f=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var u=l.font,h=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var m=u.metadata.Unicode.widths,_=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),y="",S=0;S<_.length;S++)y+=String.fromCharCode(_[S]);var T=f();p({data:y,addLength1:!0,objectId:T}),h("endobj");var C=f();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:C}),h("endobj");var E=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+ff(u.fontName)),h("/FontFile2 "+T+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var D=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+ff(u.fontName)),h("/FontDescriptor "+E+" 0 R"),h("/W "+n.API.PDFObject.convert(m)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+C+" 0 R"),h("/BaseFont /"+ff(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+D+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var u=l.font,h=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var m=u.metadata.rawData,_="",y=0;y<m.length;y++)_+=String.fromCharCode(m[y]);var S=f();p({data:_,addLength1:!0,objectId:S}),h("endobj");var T=f();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:T}),h("endobj");var C=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+S+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+ff(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var E=0;E<u.metadata.hmtx.widths.length;E++)u.metadata.hmtx.widths[E]=parseInt(u.metadata.hmtx.widths[E]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+ff(u.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(a)}]);var r=function(a){var l,u=a.text||"",h=a.x,f=a.y,p=a.options||{},m=a.mutex||{},_=m.pdfEscape,y=m.activeFontKey,S=m.fonts,T=y,C="",E=0,D="",j=S[T].encoding;if(S[T].encoding!=="Identity-H")return{text:u,x:h,y:f,options:p,mutex:m};for(D=u,T=y,Array.isArray(u)&&(D=u[0]),E=0;E<D.length;E+=1)S[T].metadata.hasOwnProperty("cmap")&&(l=S[T].metadata.cmap.unicode.codeMap[D[E].charCodeAt(0)]),l||D[E].charCodeAt(0)<256&&S[T].metadata.hasOwnProperty("Unicode")?C+=D[E]:C+="";var H="";return parseInt(T.slice(1))<14||j==="WinAnsiEncoding"?H=_(C,T).split("").map((function(K){return K.charCodeAt(0).toString(16)})).join(""):j==="Identity-H"&&(H=e(C,S[T])),m.isHex=!0,{text:H,x:h,y:f,options:p,mutex:m}};t.events.push(["postProcessText",function(a){var l=a.text||"",u=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?u.push([r(Object.assign({},h,{text:l[f][0]})).text,l[f][1],l[f][2]]):u.push(r(Object.assign({},h,{text:l[f]})).text);a.text=u}else a.text=r(Object.assign({},h,{text:l})).text}])})(Ce),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Ce.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,a,l,u,h,f,p,m=t,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,j=0;this.__bidiEngine__={};var H=function(L){var P=L.charCodeAt(),z=P>>8,ot=T[z];return ot!==void 0?m[256*ot+(255&P)]:z===252||z===253?"AL":E.test(z)?"L":z===8?"R":"N"},K=function(L){for(var P,z=0;z<L.length;z++){if((P=H(L.charAt(z)))==="L")return!1;if(P==="R")return!0}return!1},Z=function(L,P,z,ot){var mt,$,J,et,ut=P[ot];switch(ut){case"L":case"R":D=!1;break;case"N":case"AN":break;case"EN":D&&(ut="AN");break;case"AL":D=!0,ut="R";break;case"WS":ut="N";break;case"CS":ot<1||ot+1>=P.length||(mt=z[ot-1])!=="EN"&&mt!=="AN"||($=P[ot+1])!=="EN"&&$!=="AN"?ut="N":D&&($="AN"),ut=$===mt?$:"N";break;case"ES":ut=(mt=ot>0?z[ot-1]:"B")==="EN"&&ot+1<P.length&&P[ot+1]==="EN"?"EN":"N";break;case"ET":if(ot>0&&z[ot-1]==="EN"){ut="EN";break}if(D){ut="N";break}for(J=ot+1,et=P.length;J<et&&P[J]==="ET";)J++;ut=J<et&&P[J]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(et=P.length,J=ot+1;J<et&&P[J]==="NSM";)J++;if(J<et){var pt=L[ot],tt=pt>=1425&&pt<=2303||pt===64286;if(mt=P[J],tt&&(mt==="R"||mt==="AL")){ut="R";break}}}ut=ot<1||(mt=P[ot-1])==="B"?"N":z[ot-1];break;case"B":D=!1,r=!0,ut=j;break;case"S":a=!0,ut="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"BN":ut="N"}return ut},k=function(L,P,z){var ot=L.split("");return z&&I(ot,z,{hiLevel:j}),ot.reverse(),P&&P.reverse(),ot.join("")},I=function(L,P,z){var ot,mt,$,J,et,ut=-1,pt=L.length,tt=0,M=[],Y=j?y:_,nt=[];for(D=!1,r=!1,a=!1,mt=0;mt<pt;mt++)nt[mt]=H(L[mt]);for($=0;$<pt;$++){if(et=tt,M[$]=Z(L,nt,M,$),ot=240&(tt=Y[et][S[M[$]]]),tt&=15,P[$]=J=Y[tt][5],ot>0)if(ot===16){for(mt=ut;mt<$;mt++)P[mt]=1;ut=-1}else ut=-1;if(Y[tt][6])ut===-1&&(ut=$);else if(ut>-1){for(mt=ut;mt<$;mt++)P[mt]=J;ut=-1}nt[$]==="B"&&(P[$]=0),z.hiLevel|=J}a&&(function(lt,ht,_t){for(var Nt=0;Nt<_t;Nt++)if(lt[Nt]==="S"){ht[Nt]=j;for(var Rt=Nt-1;Rt>=0&&lt[Rt]==="WS";Rt--)ht[Rt]=j}})(nt,P,pt)},B=function(L,P,z,ot,mt){if(!(mt.hiLevel<L)){if(L===1&&j===1&&!r)return P.reverse(),void(z&&z.reverse());for(var $,J,et,ut,pt=P.length,tt=0;tt<pt;){if(ot[tt]>=L){for(et=tt+1;et<pt&&ot[et]>=L;)et++;for(ut=tt,J=et-1;ut<J;ut++,J--)$=P[ut],P[ut]=P[J],P[J]=$,z&&($=z[ut],z[ut]=z[J],z[J]=$);tt=et}tt++}}},q=function(L,P,z){var ot=L.split(""),mt={hiLevel:j};return z||(z=[]),I(ot,z,mt),(function($,J,et){if(et.hiLevel!==0&&p)for(var ut,pt=0;pt<$.length;pt++)J[pt]===1&&(ut=C.indexOf($[pt]))>=0&&($[pt]=C[ut+1])})(ot,z,mt),B(2,ot,P,z,mt),B(1,ot,P,z,mt),ot.join("")};return this.__bidiEngine__.doBidiReorder=function(L,P,z){if((function(mt,$){if($)for(var J=0;J<mt.length;J++)$[J]=J;u===void 0&&(u=K(mt)),f===void 0&&(f=K(mt))})(L,P),l||!h||f)if(l&&h&&u^f)j=u?1:0,L=k(L,P,z);else if(!l&&h&&f)j=u?1:0,L=q(L,P,z),L=k(L,P);else if(!l||u||h||f){if(l&&!h&&u^f)L=k(L,P),u?(j=0,L=q(L,P,z)):(j=1,L=q(L,P,z),L=k(L,P));else if(l&&u&&!h&&f)j=1,L=q(L,P,z),L=k(L,P);else if(!l&&!h&&u^f){var ot=p;u?(j=1,L=q(L,P,z),j=0,p=!1,L=q(L,P,z),p=ot):(j=0,L=q(L,P,z),L=k(L,P),j=1,p=!1,L=q(L,P,z),p=ot,L=k(L,P))}}else j=0,L=q(L,P,z);else j=u?1:0,L=q(L,P,z);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,h=L.isOutputVisual,u=L.isInputRtl,f=L.isOutputRtl,p=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,a=(i.x,i.y,i.options||{}),l=(i.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var u=0;for(l=[],u=0;u<r.length;u+=1)Object.prototype.toString.call(r[u])==="[object Array]"?l.push([e.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):l.push([e.doBidiReorder(r[u])]);i.text=l}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])})(Ce),Ce.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Ec(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new RO(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new gO(this.contents),this.head=new vO(this),this.name=new xO(this),this.cmap=new Q3(this),this.toUnicode={},this.hhea=new yO(this),this.maxp=new SO(this),this.hmtx=new AO(this),this.post=new _O(this),this.os2=new bO(this),this.loca=new CO(this),this.glyf=new EO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,f;for(f=[],l=0,u=(h=this.bbox).length;l<u;l++)t=h[l],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(e=r>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,a,l,u;for(l=0,a=0,u=(t=""+t).length;0<=u?a<u:a>u;a=0<=u?++a:--a)r=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return l*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n})();var To,Ec=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,a,l,u,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*a+65536*l+256*u+h},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,a;for(a=[],i=0,r=t.length;i<r;i++)e=t[i],a.push(this.writeByte(e));return a},n})(),gO=(function(){var n;function t(e){var i,r,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,a,l,u,h,f,p,m,_,y,S,T;for(T in y=Object.keys(e).length,h=Math.log(2),m=16*Math.floor(Math.log(y)/h),l=Math.floor(m/h),p=16*y-m,(r=new Ec).writeInt(this.scalarType),r.writeShort(y),r.writeShort(m),r.writeShort(l),r.writeShort(p),a=16*y,f=r.pos+a,u=null,S=[],e)for(_=e[T],r.writeString(T),r.writeInt(n(_)),r.writeInt(f),r.writeInt(_.length),S=S.concat(_),T==="head"&&(u=f),f+=_.length;f%4;)S.push(0),f++;return r.write(S),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(e){var i,r,a,l;for(e=J3.call(e);e.length%4;)e.push(0);for(a=new Ec(e),r=0,i=0,l=e.length;i<l;i=i+=4)r+=a.readUInt32();return 4294967295&r},t})(),mO={}.hasOwnProperty,Sl=function(n,t){for(var e in t)mO.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};To=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var vO=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Ec).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t})(),gx=(function(){function n(t,e){var i,r,a,l,u,h,f,p,m,_,y,S,T,C,E,D,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(y=t.readUInt16(),_=y/2,t.pos+=6,a=(function(){var H,K;for(K=[],h=H=0;0<=_?H<_:H>_;h=0<=_?++H:--H)K.push(t.readUInt16());return K})(),t.pos+=2,T=(function(){var H,K;for(K=[],h=H=0;0<=_?H<_:H>_;h=0<=_?++H:--H)K.push(t.readUInt16());return K})(),f=(function(){var H,K;for(K=[],h=H=0;0<=_?H<_:H>_;h=0<=_?++H:--H)K.push(t.readUInt16());return K})(),p=(function(){var H,K;for(K=[],h=H=0;0<=_?H<_:H>_;h=0<=_?++H:--H)K.push(t.readUInt16());return K})(),r=(this.length-t.pos+this.offset)/2,u=(function(){var H,K;for(K=[],h=H=0;0<=r?H<r:H>r;h=0<=r?++H:--H)K.push(t.readUInt16());return K})(),h=E=0,j=a.length;E<j;h=++E)for(C=a[h],i=D=S=T[h];S<=C?D<=C:D>=C;i=S<=C?++D:--D)p[h]===0?l=i+f[h]:(l=u[p[h]/2+(i-S)-(_-h)]||0)!==0&&(l+=f[h]),this.codeMap[i]=65535&l}t.pos=m}return n.encode=function(t,e){var i,r,a,l,u,h,f,p,m,_,y,S,T,C,E,D,j,H,K,Z,k,I,B,q,L,P,z,ot,mt,$,J,et,ut,pt,tt,M,Y,nt,lt,ht,_t,Nt,Rt,Qt,Kt,ee;switch(ot=new Ec,l=Object.keys(t).sort((function(ie,ve){return ie-ve})),e){case"macroman":for(T=0,C=(function(){var ie=[];for(S=0;S<256;++S)ie.push(0);return ie})(),D={0:0},a={},mt=0,ut=l.length;mt<ut;mt++)D[Rt=t[r=l[mt]]]==null&&(D[Rt]=++T),a[r]={old:t[r],new:D[t[r]]},C[r]=D[t[r]];return ot.writeUInt16(1),ot.writeUInt16(0),ot.writeUInt32(12),ot.writeUInt16(0),ot.writeUInt16(262),ot.writeUInt16(0),ot.write(C),{charMap:a,subtable:ot.data,maxGlyphID:T+1};case"unicode":for(P=[],m=[],j=0,D={},i={},E=f=null,$=0,pt=l.length;$<pt;$++)D[K=t[r=l[$]]]==null&&(D[K]=++j),i[r]={old:K,new:D[K]},u=D[K]-r,E!=null&&u===f||(E&&m.push(E),P.push(r),f=u),E=r;for(E&&m.push(E),m.push(65535),P.push(65535),q=2*(B=P.length),I=2*Math.pow(Math.log(B)/Math.LN2,2),_=Math.log(I/2)/Math.LN2,k=2*B-I,h=[],Z=[],y=[],S=J=0,tt=P.length;J<tt;S=++J){if(L=P[S],p=m[S],L===65535){h.push(0),Z.push(0);break}if(L-(z=i[L].new)>=32768)for(h.push(0),Z.push(2*(y.length+B-S)),r=et=L;L<=p?et<=p:et>=p;r=L<=p?++et:--et)y.push(i[r].new);else h.push(z-L),Z.push(0)}for(ot.writeUInt16(3),ot.writeUInt16(1),ot.writeUInt32(12),ot.writeUInt16(4),ot.writeUInt16(16+8*B+2*y.length),ot.writeUInt16(0),ot.writeUInt16(q),ot.writeUInt16(I),ot.writeUInt16(_),ot.writeUInt16(k),_t=0,M=m.length;_t<M;_t++)r=m[_t],ot.writeUInt16(r);for(ot.writeUInt16(0),Nt=0,Y=P.length;Nt<Y;Nt++)r=P[Nt],ot.writeUInt16(r);for(Qt=0,nt=h.length;Qt<nt;Qt++)u=h[Qt],ot.writeUInt16(u);for(Kt=0,lt=Z.length;Kt<lt;Kt++)H=Z[Kt],ot.writeUInt16(H);for(ee=0,ht=y.length;ee<ht;ee++)T=y[ee],ot.writeUInt16(T);return{charMap:i,subtable:ot.data,maxGlyphID:j+1}}},n})(),Q3=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)i=new gx(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var r,a;return i==null&&(i="macroman"),r=gx.encode(e,i),(a=new Ec).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},t})(),yO=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),bO=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r})(),this.charRange=(function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),_O=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var l;for(r=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)i=e.readByte(),a.push(this.names.push(e.readString(i)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=(function(){var u,h,f;for(f=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t})(),wO=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},xO=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,a,l,u,h,f,p,m,_,y;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),r=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},l=m=0,_=r.length;m<_;l=++m)a=r[l],e.pos=a.offset,p=e.readString(a.length),u=new wO(p,a),f[y=a.nameID]==null&&(f[y]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),SO=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),AO=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,a,l,u,h,f;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,m;for(m=[],i=p=0;0<=a?p<a:p>a;i=0<=a?++p:--p)m.push(e.readInt16());return m})(),this.widths=(function(){var p,m,_,y;for(y=[],p=0,m=(_=this.metrics).length;p<m;p++)l=_[p],y.push(l.advance);return y}).call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=a?u<a:u>a;i=0<=a?++u:--u)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),J3=[].slice,EO=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,a,l,u,h,f,p,m,_;return e in this.cache?this.cache[e]:(l=this.file.loca,i=this.file.contents,r=l.indexOf(e),(a=l.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+r,u=(h=new Ec(i.read(a))).readShort(),p=h.readShort(),_=h.readShort(),f=h.readShort(),m=h.readShort(),this.cache[e]=u===-1?new NO(h,p,_,f,m):new TO(h,u,p,_,f,m),this.cache[e]))},t.prototype.encode=function(e,i,r){var a,l,u,h,f;for(u=[],l=[],h=0,f=i.length;h<f;h++)a=e[i[h]],l.push(u.length),a&&(u=u.concat(a.encode(r)));return l.push(u.length),{table:u,offsets:l}},t})(),TO=(function(){function n(t,e,i,r,a,l){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),NO=(function(){function n(t,e,i,r,a){var l,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Ec(J3.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),CO=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Sl(t,To),t.prototype.tag="loca",t.prototype.parse=function(e){var i,r;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,l;for(l=[],r=0,a=this.length;r<a;r+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],r=0,a=this.length;r<a;r+=4)l.push(e.readUInt32());return l}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),a=0,l=0,u=0;u<r.length;++u)if(r[u]=a,l<i.length&&i[l]==u){++l,r[u]=a;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(a+=f)}for(var p=new Array(4*r.length),m=0;m<r.length;++m)p[4*m+3]=255&r[m],p[4*m+2]=(65280&r[m])>>8,p[4*m+1]=(16711680&r[m])>>16,p[4*m]=(4278190080&r[m])>>24;return p},t})(),RO=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,a;for(e in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,a,l,u,h;for(r={},l=0,u=t.length;l<u;l++)r[a=t[l]]=this.font.glyf.glyphFor(a);for(a in e=[],r)(i=r[a])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(a in h=this.glyphsFor(e))i=h[a],r[a]=i;return r},n.prototype.encode=function(t,e){var i,r,a,l,u,h,f,p,m,_,y,S,T,C,E;for(r in i=Q3.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),y={0:0},E=i.charMap)y[(h=E[r]).old]=h.new;for(S in _=i.maxGlyphID,l)S in y||(y[S]=_++);return p=(function(D){var j,H;for(j in H={},D)H[D[j]]=j;return H})(y),m=Object.keys(p).sort((function(D,j){return D-j})),T=(function(){var D,j,H;for(H=[],D=0,j=m.length;D<j;D++)u=m[D],H.push(p[u]);return H})(),a=this.font.glyf.encode(l,T,y),f=this.font.loca.encode(a.offsets,T),C={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n})();Ce.API.PDFObject=(function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,a,l;if(Array.isArray(e))return"["+(function(){var u,h,f;for(f=[],u=0,h=e.length;u<h;u++)i=e[u],f.push(t.convert(i));return f})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in a=["<<"],e)l=e[r],a.push("/"+r+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+e},t})();const IO=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:oO,AcroFormAppearance:ge,AcroFormButton:hr,AcroFormCheckBox:$d,AcroFormChoiceField:ih,AcroFormComboBox:sh,AcroFormEditBox:Wd,AcroFormListBox:rh,AcroFormPasswordField:Kd,AcroFormPushButton:Yd,AcroFormRadioButton:ah,AcroFormTextField:gc,GState:fp,ShadingPattern:ec,TilingPattern:Jc,default:Ce,jsPDF:Ce},Symbol.toStringTag,{value:"Module"}));var om={exports:{}};const LO=u6(IO);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var mx=om.exports,vx;function PO(){return vx||(vx=1,(function(n,t){(function(i,r){n.exports=r((function(){try{return LO}catch{}})())})(typeof globalThis<"u"?globalThis:typeof mx<"u"?mx:typeof window<"u"?window:typeof self<"u"?self:l6,function(e){return(function(){var i={172:(function(u,h){var f=this&&this.__extends||(function(){var _=function(y,S){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,C){T.__proto__=C}||function(T,C){for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&(T[E]=C[E])},_(y,S)};return function(y,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");_(y,S);function T(){this.constructor=y}y.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}})();Object.defineProperty(h,"__esModule",{value:!0}),h.CellHookData=h.HookData=void 0;var p=(function(){function _(y,S,T){this.table=S,this.pageNumber=S.pageNumber,this.pageCount=this.pageNumber,this.settings=S.settings,this.cursor=T,this.doc=y.getDocument()}return _})();h.HookData=p;var m=(function(_){f(y,_);function y(S,T,C,E,D,j){var H=_.call(this,S,T,j)||this;return H.cell=C,H.row=E,H.column=D,H.section=E.section,H}return y})(p);h.CellHookData=m}),340:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0});var p=f(4),m=f(136),_=f(744),y=f(776),S=f(664),T=f(972);function C(E){E.API.autoTable=function(){for(var D=[],j=0;j<arguments.length;j++)D[j]=arguments[j];var H;D.length===1?H=D[0]:(console.error("Use of deprecated autoTable initiation"),H=D[2]||{},H.columns=D[0],H.body=D[1]);var K=(0,y.parseInput)(this,H),Z=(0,T.createTable)(this,K);return(0,S.drawTable)(this,Z),this},E.API.lastAutoTable=!1,E.API.previousAutoTable=!1,E.API.autoTable.previous=!1,E.API.autoTableText=function(D,j,H,K){(0,m.default)(D,j,H,K,this)},E.API.autoTableSetDefaults=function(D){return _.DocHandler.setDefaults(D,this),this},E.autoTableSetDefaults=function(D,j){_.DocHandler.setDefaults(D,j)},E.API.autoTableHtmlToJson=function(D,j){var H;if(j===void 0&&(j=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var K=new _.DocHandler(this),Z=(0,p.parseHtml)(K,D,window,j,!1),k=Z.head,I=Z.body,B=((H=k[0])===null||H===void 0?void 0:H.map(function(q){return q.content}))||[];return{columns:B,rows:I,data:I}},E.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var D=this.lastAutoTable;return D&&D.finalY?D.finalY:0},E.API.autoTableAddPageContent=function(D){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),E.API.autoTable.globalDefaults||(E.API.autoTable.globalDefaults={}),E.API.autoTable.globalDefaults.addPageContent=D,this},E.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}h.default=C}),136:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0});function f(p,m,_,y,S){y=y||{};var T=1.15,C=S.internal.scaleFactor,E=S.internal.getFontSize()/C,D=S.getLineHeightFactor?S.getLineHeightFactor():T,j=E*D,H=/\r\n|\r|\n/g,K="",Z=1;if((y.valign==="middle"||y.valign==="bottom"||y.halign==="center"||y.halign==="right")&&(K=typeof p=="string"?p.split(H):p,Z=K.length||1),_+=E*(2-T),y.valign==="middle"?_-=Z/2*j:y.valign==="bottom"&&(_-=Z*j),y.halign==="center"||y.halign==="right"){var k=E;if(y.halign==="center"&&(k*=.5),K&&Z>=1){for(var I=0;I<K.length;I++)S.text(K[I],m-S.getStringUnitWidth(K[I])*k,_),_+=j;return S}m-=S.getStringUnitWidth(p)*k}return y.halign==="justify"?S.text(p,m,_,{maxWidth:y.maxWidth||100,align:"justify"}):S.text(p,m,_),S}h.default=f}),420:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.getPageAvailableWidth=h.parseSpacing=h.getFillStyle=h.addTableBorder=h.getStringWidth=void 0;function f(S,T,C){C.applyStyles(T,!0);var E=Array.isArray(S)?S:[S],D=E.map(function(j){return C.getTextWidth(j)}).reduce(function(j,H){return Math.max(j,H)},0);return D}h.getStringWidth=f;function p(S,T,C,E){var D=T.settings.tableLineWidth,j=T.settings.tableLineColor;S.applyStyles({lineWidth:D,lineColor:j});var H=m(D,!1);H&&S.rect(C.x,C.y,T.getWidth(S.pageSize().width),E.y-C.y,H)}h.addTableBorder=p;function m(S,T){var C=S>0,E=T||T===0;return C&&E?"DF":C?"S":E?"F":null}h.getFillStyle=m;function _(S,T){var C,E,D,j;if(S=S||T,Array.isArray(S)){if(S.length>=4)return{top:S[0],right:S[1],bottom:S[2],left:S[3]};if(S.length===3)return{top:S[0],right:S[1],bottom:S[2],left:S[1]};if(S.length===2)return{top:S[0],right:S[1],bottom:S[0],left:S[1]};S.length===1?S=S[0]:S=T}return typeof S=="object"?(typeof S.vertical=="number"&&(S.top=S.vertical,S.bottom=S.vertical),typeof S.horizontal=="number"&&(S.right=S.horizontal,S.left=S.horizontal),{left:(C=S.left)!==null&&C!==void 0?C:T,top:(E=S.top)!==null&&E!==void 0?E:T,right:(D=S.right)!==null&&D!==void 0?D:T,bottom:(j=S.bottom)!==null&&j!==void 0?j:T}):(typeof S!="number"&&(S=T),{top:S,right:S,bottom:S,left:S})}h.parseSpacing=_;function y(S,T){var C=_(T.settings.margin,0);return S.pageSize().width-(C.left+C.right)}h.getPageAvailableWidth=y}),796:(function(u,h){var f=this&&this.__extends||(function(){var y=function(S,T){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(C[D]=E[D])},y(S,T)};return function(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");y(S,T);function C(){this.constructor=S}S.prototype=T===null?Object.create(T):(C.prototype=T.prototype,new C)}})();Object.defineProperty(h,"__esModule",{value:!0}),h.getTheme=h.defaultStyles=h.HtmlRowInput=void 0;var p=(function(y){f(S,y);function S(T){var C=y.call(this)||this;return C._element=T,C}return S})(Array);h.HtmlRowInput=p;function m(y){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/y,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}h.defaultStyles=m;function _(y){var S={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return S[y]}h.getTheme=_}),903:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.parseCss=void 0;var p=f(420);function m(C,E,D,j,H){var K={},Z=1.3333333333333333,k=y(E,function(ut){return H.getComputedStyle(ut).backgroundColor});k!=null&&(K.fillColor=k);var I=y(E,function(ut){return H.getComputedStyle(ut).color});I!=null&&(K.textColor=I);var B=T(j,D);B&&(K.cellPadding=B);var q="borderTopColor",L=Z*D,P=j.borderTopWidth;if(j.borderBottomWidth===P&&j.borderRightWidth===P&&j.borderLeftWidth===P){var z=(parseFloat(P)||0)/L;z&&(K.lineWidth=z)}else K.lineWidth={top:(parseFloat(j.borderTopWidth)||0)/L,right:(parseFloat(j.borderRightWidth)||0)/L,bottom:(parseFloat(j.borderBottomWidth)||0)/L,left:(parseFloat(j.borderLeftWidth)||0)/L},K.lineWidth.top||(K.lineWidth.right?q="borderRightColor":K.lineWidth.bottom?q="borderBottomColor":K.lineWidth.left&&(q="borderLeftColor"));var ot=y(E,function(ut){return H.getComputedStyle(ut)[q]});ot!=null&&(K.lineColor=ot);var mt=["left","right","center","justify"];mt.indexOf(j.textAlign)!==-1&&(K.halign=j.textAlign),mt=["middle","bottom","top"],mt.indexOf(j.verticalAlign)!==-1&&(K.valign=j.verticalAlign);var $=parseInt(j.fontSize||"");isNaN($)||(K.fontSize=$/Z);var J=_(j);J&&(K.fontStyle=J);var et=(j.fontFamily||"").toLowerCase();return C.indexOf(et)!==-1&&(K.font=et),K}h.parseCss=m;function _(C){var E="";return(C.fontWeight==="bold"||C.fontWeight==="bolder"||parseInt(C.fontWeight)>=700)&&(E="bold"),(C.fontStyle==="italic"||C.fontStyle==="oblique")&&(E+="italic"),E}function y(C,E){var D=S(C,E);if(!D)return null;var j=D.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!j||!Array.isArray(j))return null;var H=[parseInt(j[1]),parseInt(j[2]),parseInt(j[3])],K=parseInt(j[4]);return K===0||isNaN(H[0])||isNaN(H[1])||isNaN(H[2])?null:H}function S(C,E){var D=E(C);return D==="rgba(0, 0, 0, 0)"||D==="transparent"||D==="initial"||D==="inherit"?C.parentElement==null?null:S(C.parentElement,E):D}function T(C,E){var D=[C.paddingTop,C.paddingRight,C.paddingBottom,C.paddingLeft],j=96/(72/E),H=(parseInt(C.lineHeight)-parseInt(C.fontSize))/E/2,K=D.map(function(k){return parseInt(k||"0")/j}),Z=(0,p.parseSpacing)(K,0);return H>Z.top&&(Z.top=H),H>Z.bottom&&(Z.bottom=H),Z}}),744:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.DocHandler=void 0;var f={},p=(function(){function m(_){this.jsPDFDocument=_,this.userStyles={textColor:_.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:_.internal.getFontSize(),fontStyle:_.internal.getFont().fontStyle,font:_.internal.getFont().fontName,lineWidth:_.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:_.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return m.setDefaults=function(_,y){y===void 0&&(y=null),y?y.__autoTableDocumentDefaults=_:f=_},m.unifyColor=function(_){return Array.isArray(_)?_:typeof _=="number"?[_,_,_]:typeof _=="string"?[_]:null},m.prototype.applyStyles=function(_,y){var S,T,C;y===void 0&&(y=!1),_.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(_.fontStyle);var E=this.jsPDFDocument.internal.getFont(),D=E.fontStyle,j=E.fontName;if(_.font&&(j=_.font),_.fontStyle){D=_.fontStyle;var H=this.getFontList()[j];H&&H.indexOf(D)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(H[0]),D=H[0])}if(this.jsPDFDocument.setFont(j,D),_.fontSize&&this.jsPDFDocument.setFontSize(_.fontSize),!y){var K=m.unifyColor(_.fillColor);K&&(S=this.jsPDFDocument).setFillColor.apply(S,K),K=m.unifyColor(_.textColor),K&&(T=this.jsPDFDocument).setTextColor.apply(T,K),K=m.unifyColor(_.lineColor),K&&(C=this.jsPDFDocument).setDrawColor.apply(C,K),typeof _.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(_.lineWidth)}},m.prototype.splitTextToSize=function(_,y,S){return this.jsPDFDocument.splitTextToSize(_,y,S)},m.prototype.rect=function(_,y,S,T,C){return this.jsPDFDocument.rect(_,y,S,T,C)},m.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},m.prototype.getTextWidth=function(_){return this.jsPDFDocument.getTextWidth(_)},m.prototype.getDocument=function(){return this.jsPDFDocument},m.prototype.setPage=function(_){this.jsPDFDocument.setPage(_)},m.prototype.addPage=function(){return this.jsPDFDocument.addPage()},m.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},m.prototype.getGlobalOptions=function(){return f||{}},m.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},m.prototype.pageSize=function(){var _=this.jsPDFDocument.internal.pageSize;return _.width==null&&(_={width:_.getWidth(),height:_.getHeight()}),_},m.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},m.prototype.getLineHeightFactor=function(){var _=this.jsPDFDocument;return _.getLineHeightFactor?_.getLineHeightFactor():1.15},m.prototype.getLineHeight=function(_){return _/this.scaleFactor()*this.getLineHeightFactor()},m.prototype.pageNumber=function(){var _=this.jsPDFDocument.internal.getCurrentPageInfo();return _?_.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},m})();h.DocHandler=p}),4:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.parseHtml=void 0;var p=f(903),m=f(796);function _(T,C,E,D,j){var H,K;D===void 0&&(D=!1),j===void 0&&(j=!1);var Z;typeof C=="string"?Z=E.document.querySelector(C):Z=C;var k=Object.keys(T.getFontList()),I=T.scaleFactor(),B=[],q=[],L=[];if(!Z)return console.error("Html table could not be found with input: ",C),{head:B,body:q,foot:L};for(var P=0;P<Z.rows.length;P++){var z=Z.rows[P],ot=(K=(H=z==null?void 0:z.parentElement)===null||H===void 0?void 0:H.tagName)===null||K===void 0?void 0:K.toLowerCase(),mt=y(k,I,E,z,D,j);mt&&(ot==="thead"?B.push(mt):ot==="tfoot"?L.push(mt):q.push(mt))}return{head:B,body:q,foot:L}}h.parseHtml=_;function y(T,C,E,D,j,H){for(var K=new m.HtmlRowInput(D),Z=0;Z<D.cells.length;Z++){var k=D.cells[Z],I=E.getComputedStyle(k);if(j||I.display!=="none"){var B=void 0;H&&(B=(0,p.parseCss)(T,k,C,I,E)),K.push({rowSpan:k.rowSpan,colSpan:k.colSpan,styles:B,_element:k,content:S(k)})}}var q=E.getComputedStyle(D);if(K.length>0&&(j||q.display!=="none"))return K}function S(T){var C=T.cloneNode(!0);return C.innerHTML=C.innerHTML.replace(/\n/g,"").replace(/ +/g," "),C.innerHTML=C.innerHTML.split(/<br.*?>/).map(function(E){return E.trim()}).join(`
`),C.innerText||C.textContent||""}}),776:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.parseInput=void 0;var p=f(4),m=f(356),_=f(420),y=f(744),S=f(792);function T(Z,k){var I=new y.DocHandler(Z),B=I.getDocumentOptions(),q=I.getGlobalOptions();(0,S.default)(I,q,B,k);var L=(0,m.assign)({},q,B,k),P;typeof window<"u"&&(P=window);var z=C(q,B,k),ot=E(q,B,k),mt=D(I,L),$=H(I,L,P);return{id:k.tableId,content:$,hooks:ot,styles:z,settings:mt}}h.parseInput=T;function C(Z,k,I){for(var B={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},q=function(ot){if(ot==="columnStyles"){var mt=Z[ot],$=k[ot],J=I[ot];B.columnStyles=(0,m.assign)({},mt,$,J)}else{var et=[Z,k,I],ut=et.map(function(pt){return pt[ot]||{}});B[ot]=(0,m.assign)({},ut[0],ut[1],ut[2])}},L=0,P=Object.keys(B);L<P.length;L++){var z=P[L];q(z)}return B}function E(Z,k,I){for(var B=[Z,k,I],q={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},L=0,P=B;L<P.length;L++){var z=P[L];z.didParseCell&&q.didParseCell.push(z.didParseCell),z.willDrawCell&&q.willDrawCell.push(z.willDrawCell),z.didDrawCell&&q.didDrawCell.push(z.didDrawCell),z.willDrawPage&&q.willDrawPage.push(z.willDrawPage),z.didDrawPage&&q.didDrawPage.push(z.didDrawPage)}return q}function D(Z,k){var I,B,q,L,P,z,ot,mt,$,J,et,ut,pt=(0,_.parseSpacing)(k.margin,40/Z.scaleFactor()),tt=(I=j(Z,k.startY))!==null&&I!==void 0?I:pt.top,M;k.showFoot===!0?M="everyPage":k.showFoot===!1?M="never":M=(B=k.showFoot)!==null&&B!==void 0?B:"everyPage";var Y;k.showHead===!0?Y="everyPage":k.showHead===!1?Y="never":Y=(q=k.showHead)!==null&&q!==void 0?q:"everyPage";var nt=(L=k.useCss)!==null&&L!==void 0?L:!1,lt=k.theme||(nt?"plain":"striped"),ht=!!k.horizontalPageBreak,_t=(P=k.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(z=k.includeHiddenHtml)!==null&&z!==void 0?z:!1,useCss:nt,theme:lt,startY:tt,margin:pt,pageBreak:(ot=k.pageBreak)!==null&&ot!==void 0?ot:"auto",rowPageBreak:(mt=k.rowPageBreak)!==null&&mt!==void 0?mt:"auto",tableWidth:($=k.tableWidth)!==null&&$!==void 0?$:"auto",showHead:Y,showFoot:M,tableLineWidth:(J=k.tableLineWidth)!==null&&J!==void 0?J:0,tableLineColor:(et=k.tableLineColor)!==null&&et!==void 0?et:200,horizontalPageBreak:ht,horizontalPageBreakRepeat:_t,horizontalPageBreakBehaviour:(ut=k.horizontalPageBreakBehaviour)!==null&&ut!==void 0?ut:"afterAllRows"}}function j(Z,k){var I=Z.getLastAutoTable(),B=Z.scaleFactor(),q=Z.pageNumber(),L=!1;if(I&&I.startPageNumber){var P=I.startPageNumber+I.pageNumber-1;L=P===q}return typeof k=="number"?k:(k==null||k===!1)&&L&&(I==null?void 0:I.finalY)!=null?I.finalY+20/B:null}function H(Z,k,I){var B=k.head||[],q=k.body||[],L=k.foot||[];if(k.html){var P=k.includeHiddenHtml;if(I){var z=(0,p.parseHtml)(Z,k.html,I,P,k.useCss)||{};B=z.head||B,q=z.body||B,L=z.foot||B}else console.error("Cannot parse html in non browser environment")}var ot=k.columns||K(B,q,L);return{columns:ot,head:B,body:q,foot:L}}function K(Z,k,I){var B=Z[0]||k[0]||I[0]||[],q=[];return Object.keys(B).filter(function(L){return L!=="_element"}).forEach(function(L){var P=1,z;Array.isArray(B)?z=B[parseInt(L)]:z=B[L],typeof z=="object"&&!Array.isArray(z)&&(P=(z==null?void 0:z.colSpan)||1);for(var ot=0;ot<P;ot++){var mt=void 0;Array.isArray(B)?mt=q.length:mt=L+(ot>0?"_".concat(ot):"");var $={dataKey:mt};q.push($)}}),q}}),792:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0});function f(m,_,y,S){for(var T=function(j){j&&typeof j!="object"&&console.error("The options parameter should be of type object, is: "+typeof j),typeof j.extendWidth<"u"&&(j.tableWidth=j.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof j.margins<"u"&&(typeof j.margin>"u"&&(j.margin=j.margins),console.error("Use of deprecated option: margins, use margin instead.")),j.startY&&typeof j.startY!="number"&&(console.error("Invalid value for startY option",j.startY),delete j.startY),!j.didDrawPage&&(j.afterPageContent||j.beforePageContent||j.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),j.didDrawPage=function(L){m.applyStyles(m.userStyles),j.beforePageContent&&j.beforePageContent(L),m.applyStyles(m.userStyles),j.afterPageContent&&j.afterPageContent(L),m.applyStyles(m.userStyles),j.afterPageAdd&&L.pageNumber>1&&L.afterPageAdd(L),m.applyStyles(m.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(L){j[L]&&console.error('The "'.concat(L,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(L){var P=L[0],z=L[1];j[z]&&(console.error("Use of deprecated option ".concat(z,". Use ").concat(P," instead")),j[P]=j[z])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(L){var P=typeof L=="string"?L:L[0],z=typeof L=="string"?L:L[1];typeof j[P]<"u"&&(typeof j.styles[z]>"u"&&(j.styles[z]=j[P]),console.error("Use of deprecated option: "+P+", use the style "+z+" instead."))});for(var H=0,K=["styles","bodyStyles","headStyles","footStyles"];H<K.length;H++){var Z=K[H];p(j[Z]||{})}for(var k=j.columnStyles||{},I=0,B=Object.keys(k);I<B.length;I++){var q=B[I];p(k[q]||{})}},C=0,E=[_,y,S];C<E.length;C++){var D=E[C];T(D)}}h.default=f;function p(m){m.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),m.minCellHeight||(m.minCellHeight=m.rowHeight)):m.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),m.cellWidth||(m.cellWidth=m.columnWidth))}}),260:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.Column=h.Cell=h.Row=h.Table=void 0;var p=f(796),m=f(172),_=f(420),y=(function(){function E(D,j){this.pageNumber=1,this.pageCount=1,this.id=D.id,this.settings=D.settings,this.styles=D.styles,this.hooks=D.hooks,this.columns=j.columns,this.head=j.head,this.body=j.body,this.foot=j.foot}return E.prototype.getHeadHeight=function(D){return this.head.reduce(function(j,H){return j+H.getMaxCellHeight(D)},0)},E.prototype.getFootHeight=function(D){return this.foot.reduce(function(j,H){return j+H.getMaxCellHeight(D)},0)},E.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},E.prototype.callCellHooks=function(D,j,H,K,Z,k){for(var I=0,B=j;I<B.length;I++){var q=B[I],L=new m.CellHookData(D,this,H,K,Z,k),P=q(L)===!1;if(H.text=Array.isArray(H.text)?H.text:[H.text],P)return!1}return!0},E.prototype.callEndPageHooks=function(D,j){D.applyStyles(D.userStyles);for(var H=0,K=this.hooks.didDrawPage;H<K.length;H++){var Z=K[H];Z(new m.HookData(D,this,j))}},E.prototype.callWillDrawPageHooks=function(D,j){for(var H=0,K=this.hooks.willDrawPage;H<K.length;H++){var Z=K[H];Z(new m.HookData(D,this,j))}},E.prototype.getWidth=function(D){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var j=this.columns.reduce(function(K,Z){return K+Z.wrappedWidth},0);return j}else{var H=this.settings.margin;return D-H.left-H.right}},E})();h.Table=y;var S=(function(){function E(D,j,H,K,Z){Z===void 0&&(Z=!1),this.height=0,this.raw=D,D instanceof p.HtmlRowInput&&(this.raw=D._element,this.element=D._element),this.index=j,this.section=H,this.cells=K,this.spansMultiplePages=Z}return E.prototype.getMaxCellHeight=function(D){var j=this;return D.reduce(function(H,K){var Z;return Math.max(H,((Z=j.cells[K.index])===null||Z===void 0?void 0:Z.height)||0)},0)},E.prototype.hasRowSpan=function(D){var j=this;return D.filter(function(H){var K=j.cells[H.index];return K?K.rowSpan>1:!1}).length>0},E.prototype.canEntireRowFit=function(D,j){return this.getMaxCellHeight(j)<=D},E.prototype.getMinimumRowHeight=function(D,j){var H=this;return D.reduce(function(K,Z){var k=H.cells[Z.index];if(!k)return 0;var I=j.getLineHeight(k.styles.fontSize),B=k.padding("vertical"),q=B+I;return q>K?q:K},0)},E})();h.Row=S;var T=(function(){function E(D,j,H){var K,Z;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=j,this.section=H,this.raw=D;var k=D;D!=null&&typeof D=="object"&&!Array.isArray(D)?(this.rowSpan=D.rowSpan||1,this.colSpan=D.colSpan||1,k=(Z=(K=D.content)!==null&&K!==void 0?K:D.title)!==null&&Z!==void 0?Z:D,D._element&&(this.raw=D._element)):(this.rowSpan=1,this.colSpan=1);var I=k!=null?""+k:"",B=/\r\n|\r|\n/g;this.text=I.split(B)}return E.prototype.getTextPos=function(){var D;if(this.styles.valign==="top")D=this.y+this.padding("top");else if(this.styles.valign==="bottom")D=this.y+this.height-this.padding("bottom");else{var j=this.height-this.padding("vertical");D=this.y+j/2+this.padding("top")}var H;if(this.styles.halign==="right")H=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var K=this.width-this.padding("horizontal");H=this.x+K/2+this.padding("left")}else H=this.x+this.padding("left");return{x:H,y:D}},E.prototype.getContentHeight=function(D,j){j===void 0&&(j=1.15);var H=Array.isArray(this.text)?this.text.length:1,K=this.styles.fontSize/D*j,Z=H*K+this.padding("vertical");return Math.max(Z,this.styles.minCellHeight)},E.prototype.padding=function(D){var j=(0,_.parseSpacing)(this.styles.cellPadding,0);return D==="vertical"?j.top+j.bottom:D==="horizontal"?j.left+j.right:j[D]},E})();h.Cell=T;var C=(function(){function E(D,j,H){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=D,this.raw=j,this.index=H}return E.prototype.getMaxCustomCellWidth=function(D){for(var j=0,H=0,K=D.allRows();H<K.length;H++){var Z=K[H],k=Z.cells[this.index];k&&typeof k.styles.cellWidth=="number"&&(j=Math.max(j,k.styles.cellWidth))}return j},E})();h.Column=C}),356:(function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.assign=void 0;function f(p,m,_,y,S){if(p==null)throw new TypeError("Cannot convert undefined or null to object");for(var T=Object(p),C=1;C<arguments.length;C++){var E=arguments[C];if(E!=null)for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(T[D]=E[D])}return T}h.assign=f}),972:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.createTable=void 0;var p=f(744),m=f(260),_=f(324),y=f(796),S=f(356);function T(Z,k){var I=new p.DocHandler(Z),B=C(k,I.scaleFactor()),q=new m.Table(k,B);return(0,_.calculateWidths)(I,q),I.applyStyles(I.userStyles),q}h.createTable=T;function C(Z,k){var I=Z.content,B=H(I.columns);if(I.head.length===0){var q=D(B,"head");q&&I.head.push(q)}if(I.foot.length===0){var q=D(B,"foot");q&&I.foot.push(q)}var L=Z.settings.theme,P=Z.styles;return{columns:B,head:E("head",I.head,B,P,L,k),body:E("body",I.body,B,P,L,k),foot:E("foot",I.foot,B,P,L,k)}}function E(Z,k,I,B,q,L){var P={},z=k.map(function(ot,mt){for(var $=0,J={},et=0,ut=0,pt=0,tt=I;pt<tt.length;pt++){var M=tt[pt];if(P[M.index]==null||P[M.index].left===0)if(ut===0){var Y=void 0;Array.isArray(ot)?Y=ot[M.index-et-$]:Y=ot[M.dataKey];var nt={};typeof Y=="object"&&!Array.isArray(Y)&&(nt=(Y==null?void 0:Y.styles)||{});var lt=K(Z,M,mt,q,B,L,nt),ht=new m.Cell(Y,lt,Z);J[M.dataKey]=ht,J[M.index]=ht,ut=ht.colSpan-1,P[M.index]={left:ht.rowSpan-1,times:ut}}else ut--,et++;else P[M.index].left--,ut=P[M.index].times,$++}return new m.Row(ot,mt,Z,J)});return z}function D(Z,k){var I={};return Z.forEach(function(B){if(B.raw!=null){var q=j(k,B.raw);q!=null&&(I[B.dataKey]=q)}}),Object.keys(I).length>0?I:null}function j(Z,k){if(Z==="head"){if(typeof k=="object")return k.header||k.title||null;if(typeof k=="string"||typeof k=="number")return k}else if(Z==="foot"&&typeof k=="object")return k.footer;return null}function H(Z){return Z.map(function(k,I){var B,q,L;return typeof k=="object"?L=(q=(B=k.dataKey)!==null&&B!==void 0?B:k.key)!==null&&q!==void 0?q:I:L=I,new m.Column(L,k,I)})}function K(Z,k,I,B,q,L,P){var z=(0,y.getTheme)(B),ot;Z==="head"?ot=q.headStyles:Z==="body"?ot=q.bodyStyles:Z==="foot"&&(ot=q.footStyles);var mt=(0,S.assign)({},z.table,z[Z],q.styles,ot),$=q.columnStyles[k.dataKey]||q.columnStyles[k.index]||{},J=Z==="body"?$:{},et=Z==="body"&&I%2===0?(0,S.assign)({},z.alternateRow,q.alternateRowStyles):{},ut=(0,y.defaultStyles)(L),pt=(0,S.assign)({},ut,mt,et,J);return(0,S.assign)(pt,P)}}),664:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.addPage=h.drawTable=void 0;var p=f(420),m=f(260),_=f(744),y=f(356),S=f(136),T=f(224);function C($,J){var et=J.settings,ut=et.startY,pt=et.margin,tt={x:pt.left,y:ut},M=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns),Y=ut+pt.bottom+M;if(et.pageBreak==="avoid"){var nt=J.body,lt=nt.reduce(function(Nt,Rt){return Nt+Rt.height},0);Y+=lt}var ht=new _.DocHandler($);(et.pageBreak==="always"||et.startY!=null&&Y>ht.pageSize().height)&&(mt(ht),tt.y=pt.top),J.callWillDrawPageHooks(ht,tt);var _t=(0,y.assign)({},tt);J.startPageNumber=ht.pageNumber(),et.horizontalPageBreak?E(ht,J,_t,tt):(ht.applyStyles(ht.userStyles),(et.showHead==="firstPage"||et.showHead==="everyPage")&&J.head.forEach(function(Nt){return q(ht,J,Nt,tt,J.columns)}),ht.applyStyles(ht.userStyles),J.body.forEach(function(Nt,Rt){var Qt=Rt===J.body.length-1;B(ht,J,Nt,Qt,_t,tt,J.columns)}),ht.applyStyles(ht.userStyles),(et.showFoot==="lastPage"||et.showFoot==="everyPage")&&J.foot.forEach(function(Nt){return q(ht,J,Nt,tt,J.columns)})),(0,p.addTableBorder)(ht,J,_t,tt),J.callEndPageHooks(ht,tt),J.finalY=tt.y,$.lastAutoTable=J,$.previousAutoTable=J,$.autoTable&&($.autoTable.previous=J),ht.applyStyles(ht.userStyles)}h.drawTable=C;function E($,J,et,ut){var pt=(0,T.calculateAllColumnsCanFitInPage)($,J),tt=J.settings;if(tt.horizontalPageBreakBehaviour==="afterAllRows")pt.forEach(function(lt,ht){$.applyStyles($.userStyles),ht>0?ot($,J,et,ut,lt.columns,!0):D($,J,ut,lt.columns),j($,J,et,ut,lt.columns),K($,J,ut,lt.columns)});else for(var M=-1,Y=pt[0],nt=function(){var lt=M;if(Y){$.applyStyles($.userStyles);var ht=Y.columns;M>=0?ot($,J,et,ut,ht,!0):D($,J,ut,ht),lt=H($,J,M+1,ut,ht),K($,J,ut,ht)}var _t=lt-M;pt.slice(1).forEach(function(Nt){$.applyStyles($.userStyles),ot($,J,et,ut,Nt.columns,!0),H($,J,M+1,ut,Nt.columns,_t),K($,J,ut,Nt.columns)}),M=lt};M<J.body.length-1;)nt()}function D($,J,et,ut){var pt=J.settings;$.applyStyles($.userStyles),(pt.showHead==="firstPage"||pt.showHead==="everyPage")&&J.head.forEach(function(tt){return q($,J,tt,et,ut)})}function j($,J,et,ut,pt){$.applyStyles($.userStyles),J.body.forEach(function(tt,M){var Y=M===J.body.length-1;B($,J,tt,Y,et,ut,pt)})}function H($,J,et,ut,pt,tt){$.applyStyles($.userStyles),tt=tt??J.body.length;var M=Math.min(et+tt,J.body.length),Y=-1;return J.body.slice(et,M).forEach(function(nt,lt){var ht=et+lt===J.body.length-1,_t=z($,J,ht,ut);nt.canEntireRowFit(_t,pt)&&(q($,J,nt,ut,pt),Y=et+lt)}),Y}function K($,J,et,ut){var pt=J.settings;$.applyStyles($.userStyles),(pt.showFoot==="lastPage"||pt.showFoot==="everyPage")&&J.foot.forEach(function(tt){return q($,J,tt,et,ut)})}function Z($,J,et){var ut=et.getLineHeight($.styles.fontSize),pt=$.padding("vertical"),tt=Math.floor((J-pt)/ut);return Math.max(0,tt)}function k($,J,et,ut){var pt={};$.spansMultiplePages=!0,$.height=0;for(var tt=0,M=0,Y=et.columns;M<Y.length;M++){var nt=Y[M],lt=$.cells[nt.index];if(lt){Array.isArray(lt.text)||(lt.text=[lt.text]);var ht=new m.Cell(lt.raw,lt.styles,lt.section);ht=(0,y.assign)(ht,lt),ht.text=[];var _t=Z(lt,J,ut);lt.text.length>_t&&(ht.text=lt.text.splice(_t,lt.text.length));var Nt=ut.scaleFactor(),Rt=ut.getLineHeightFactor();lt.contentHeight=lt.getContentHeight(Nt,Rt),lt.contentHeight>=J&&(lt.contentHeight=J,ht.styles.minCellHeight-=J),lt.contentHeight>$.height&&($.height=lt.contentHeight),ht.contentHeight=ht.getContentHeight(Nt,Rt),ht.contentHeight>tt&&(tt=ht.contentHeight),pt[nt.index]=ht}}var Qt=new m.Row($.raw,-1,$.section,pt,!0);Qt.height=tt;for(var Kt=0,ee=et.columns;Kt<ee.length;Kt++){var nt=ee[Kt],ht=Qt.cells[nt.index];ht&&(ht.height=Qt.height);var lt=$.cells[nt.index];lt&&(lt.height=$.height)}return Qt}function I($,J,et,ut){var pt=$.pageSize().height,tt=ut.settings.margin,M=tt.top+tt.bottom,Y=pt-M;J.section==="body"&&(Y-=ut.getHeadHeight(ut.columns)+ut.getFootHeight(ut.columns));var nt=J.getMinimumRowHeight(ut.columns,$),lt=nt<et;if(nt>Y)return console.error("Will not be able to print row ".concat(J.index," correctly since it's minimum height is larger than page height")),!0;if(!lt)return!1;var ht=J.hasRowSpan(ut.columns),_t=J.getMaxCellHeight(ut.columns)>Y;return _t?(ht&&console.error("The content of row ".concat(J.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ht||ut.settings.rowPageBreak==="avoid")}function B($,J,et,ut,pt,tt,M){var Y=z($,J,ut,tt);if(et.canEntireRowFit(Y,M))q($,J,et,tt,M);else if(I($,et,Y,J)){var nt=k(et,Y,J,$);q($,J,et,tt,M),ot($,J,pt,tt,M),B($,J,nt,ut,pt,tt,M)}else ot($,J,pt,tt,M),B($,J,et,ut,pt,tt,M)}function q($,J,et,ut,pt){ut.x=J.settings.margin.left;for(var tt=0,M=pt;tt<M.length;tt++){var Y=M[tt],nt=et.cells[Y.index];if(!nt){ut.x+=Y.width;continue}$.applyStyles(nt.styles),nt.x=ut.x,nt.y=ut.y;var lt=J.callCellHooks($,J.hooks.willDrawCell,nt,et,Y,ut);if(lt===!1){ut.x+=Y.width;continue}L($,nt,ut);var ht=nt.getTextPos();(0,S.default)(nt.text,ht.x,ht.y,{halign:nt.styles.halign,valign:nt.styles.valign,maxWidth:Math.ceil(nt.width-nt.padding("left")-nt.padding("right"))},$.getDocument()),J.callCellHooks($,J.hooks.didDrawCell,nt,et,Y,ut),ut.x+=Y.width}ut.y+=et.height}function L($,J,et){var ut=J.styles;if($.getDocument().setFillColor($.getDocument().getFillColor()),typeof ut.lineWidth=="number"){var pt=(0,p.getFillStyle)(ut.lineWidth,ut.fillColor);pt&&$.rect(J.x,et.y,J.width,J.height,pt)}else typeof ut.lineWidth=="object"&&(ut.fillColor&&$.rect(J.x,et.y,J.width,J.height,"F"),P($,J,et,ut.lineWidth))}function P($,J,et,ut){var pt,tt,M,Y;ut.top&&(pt=et.x,tt=et.y,M=et.x+J.width,Y=et.y,ut.right&&(M+=.5*ut.right),ut.left&&(pt-=.5*ut.left),nt(ut.top,pt,tt,M,Y)),ut.bottom&&(pt=et.x,tt=et.y+J.height,M=et.x+J.width,Y=et.y+J.height,ut.right&&(M+=.5*ut.right),ut.left&&(pt-=.5*ut.left),nt(ut.bottom,pt,tt,M,Y)),ut.left&&(pt=et.x,tt=et.y,M=et.x,Y=et.y+J.height,ut.top&&(tt-=.5*ut.top),ut.bottom&&(Y+=.5*ut.bottom),nt(ut.left,pt,tt,M,Y)),ut.right&&(pt=et.x+J.width,tt=et.y,M=et.x+J.width,Y=et.y+J.height,ut.top&&(tt-=.5*ut.top),ut.bottom&&(Y+=.5*ut.bottom),nt(ut.right,pt,tt,M,Y));function nt(lt,ht,_t,Nt,Rt){$.getDocument().setLineWidth(lt),$.getDocument().line(ht,_t,Nt,Rt,"S")}}function z($,J,et,ut){var pt=J.settings.margin.bottom,tt=J.settings.showFoot;return(tt==="everyPage"||tt==="lastPage"&&et)&&(pt+=J.getFootHeight(J.columns)),$.pageSize().height-ut.y-pt}function ot($,J,et,ut,pt,tt){pt===void 0&&(pt=[]),tt===void 0&&(tt=!1),$.applyStyles($.userStyles),J.settings.showFoot==="everyPage"&&!tt&&J.foot.forEach(function(Y){return q($,J,Y,ut,pt)}),J.callEndPageHooks($,ut);var M=J.settings.margin;(0,p.addTableBorder)($,J,et,ut),mt($),J.pageNumber++,J.pageCount++,ut.x=M.left,ut.y=M.top,et.y=M.top,J.callWillDrawPageHooks($,ut),J.settings.showHead==="everyPage"&&(J.head.forEach(function(Y){return q($,J,Y,ut,pt)}),$.applyStyles($.userStyles))}h.addPage=ot;function mt($){var J=$.pageNumber();$.setPage(J+1);var et=$.pageNumber();return et===J?($.addPage(),!0):!1}}),224:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.calculateAllColumnsCanFitInPage=void 0;var p=f(420);function m(y,S,T){var C;T===void 0&&(T={});var E=(0,p.getPageAvailableWidth)(y,S),D=new Map,j=[],H=[],K=[];S.settings.horizontalPageBreakRepeat,Array.isArray(S.settings.horizontalPageBreakRepeat)?K=S.settings.horizontalPageBreakRepeat:(typeof S.settings.horizontalPageBreakRepeat=="string"||typeof S.settings.horizontalPageBreakRepeat=="number")&&(K=[S.settings.horizontalPageBreakRepeat]),K.forEach(function(B){var q=S.columns.find(function(L){return L.dataKey===B||L.index===B});q&&!D.has(q.index)&&(D.set(q.index,!0),j.push(q.index),H.push(S.columns[q.index]),E-=q.wrappedWidth)});for(var Z=!0,k=(C=T==null?void 0:T.start)!==null&&C!==void 0?C:0;k<S.columns.length;){if(D.has(k)){k++;continue}var I=S.columns[k].wrappedWidth;if(Z||E>=I)Z=!1,j.push(k),H.push(S.columns[k]),E-=I;else break;k++}return{colIndexes:j,columns:H,lastIndex:k-1}}function _(y,S){for(var T=[],C=0;C<S.columns.length;C++){var E=m(y,S,{start:C});E.columns.length&&(T.push(E),C=E.lastIndex)}return T}h.calculateAllColumnsCanFitInPage=_}),324:(function(u,h,f){Object.defineProperty(h,"__esModule",{value:!0}),h.ellipsize=h.resizeColumns=h.calculateWidths=void 0;var p=f(420);function m(j,H){_(j,H);var K=[],Z=0;H.columns.forEach(function(I){var B=I.getMaxCustomCellWidth(H);B?I.width=B:(I.width=I.wrappedWidth,K.push(I)),Z+=I.width});var k=H.getWidth(j.pageSize().width)-Z;k&&(k=y(K,k,function(I){return Math.max(I.minReadableWidth,I.minWidth)})),k&&(k=y(K,k,function(I){return I.minWidth})),k=Math.abs(k),!H.settings.horizontalPageBreak&&k>.1/j.scaleFactor()&&(k=k<1?k:Math.round(k),console.warn("Of the table content, ".concat(k," units width could not fit page"))),T(H),C(H,j),S(H)}h.calculateWidths=m;function _(j,H){var K=j.scaleFactor(),Z=H.settings.horizontalPageBreak,k=(0,p.getPageAvailableWidth)(j,H);H.allRows().forEach(function(I){for(var B=0,q=H.columns;B<q.length;B++){var L=q[B],P=I.cells[L.index];if(P){var z=H.hooks.didParseCell;H.callCellHooks(j,z,P,I,L,null);var ot=P.padding("horizontal");P.contentWidth=(0,p.getStringWidth)(P.text,P.styles,j)+ot;var mt=(0,p.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,j);if(P.minReadableWidth=mt+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||Z===!0)P.contentWidth>k?(P.minWidth=k,P.wrappedWidth=k):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var $=10/K;P.minWidth=P.styles.minCellWidth||$,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),H.allRows().forEach(function(I){for(var B=0,q=H.columns;B<q.length;B++){var L=q[B],P=I.cells[L.index];if(P&&P.colSpan===1)L.wrappedWidth=Math.max(L.wrappedWidth,P.wrappedWidth),L.minWidth=Math.max(L.minWidth,P.minWidth),L.minReadableWidth=Math.max(L.minReadableWidth,P.minReadableWidth);else{var z=H.styles.columnStyles[L.dataKey]||H.styles.columnStyles[L.index]||{},ot=z.cellWidth||z.minCellWidth;ot&&typeof ot=="number"&&(L.minWidth=ot,L.wrappedWidth=ot)}P&&(P.colSpan>1&&!L.minWidth&&(L.minWidth=P.minWidth),P.colSpan>1&&!L.wrappedWidth&&(L.wrappedWidth=P.minWidth))}})}function y(j,H,K){for(var Z=H,k=j.reduce(function($,J){return $+J.wrappedWidth},0),I=0;I<j.length;I++){var B=j[I],q=B.wrappedWidth/k,L=Z*q,P=B.width+L,z=K(B),ot=P<z?z:P;H-=ot-B.width,B.width=ot}if(H=Math.round(H*1e10)/1e10,H){var mt=j.filter(function($){return H<0?$.width>K($):!0});mt.length&&(H=y(mt,H,K))}return H}h.resizeColumns=y;function S(j){for(var H={},K=1,Z=j.allRows(),k=0;k<Z.length;k++)for(var I=Z[k],B=0,q=j.columns;B<q.length;B++){var L=q[B],P=H[L.index];if(K>1)K--,delete I.cells[L.index];else if(P)P.cell.height+=I.height,K=P.cell.colSpan,delete I.cells[L.index],P.left--,P.left<=1&&delete H[L.index];else{var z=I.cells[L.index];if(!z)continue;if(z.height=I.height,z.rowSpan>1){var ot=Z.length-k,mt=z.rowSpan>ot?ot:z.rowSpan;H[L.index]={cell:z,left:mt,row:I}}}}}function T(j){for(var H=j.allRows(),K=0;K<H.length;K++)for(var Z=H[K],k=null,I=0,B=0,q=0;q<j.columns.length;q++){var L=j.columns[q];if(B-=1,B>1&&j.columns[q+1])I+=L.width,delete Z.cells[L.index];else if(k){var P=k;delete Z.cells[L.index],k=null,P.width=L.width+I}else{var P=Z.cells[L.index];if(!P)continue;if(B=P.colSpan,I=0,P.colSpan>1){k=P,I+=L.width;continue}P.width=L.width+I}}}function C(j,H){for(var K={count:0,height:0},Z=0,k=j.allRows();Z<k.length;Z++){for(var I=k[Z],B=0,q=j.columns;B<q.length;B++){var L=q[B],P=I.cells[L.index];if(P){H.applyStyles(P.styles,!0);var z=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=H.splitTextToSize(P.text,z+1/H.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=E(P.text,z,P.styles,H,"...");else if(P.styles.overflow==="hidden")P.text=E(P.text,z,P.styles,H,"");else if(typeof P.styles.overflow=="function"){var ot=P.styles.overflow(P.text,z);typeof ot=="string"?P.text=[ot]:P.text=ot}P.contentHeight=P.getContentHeight(H.scaleFactor(),H.getLineHeightFactor());var mt=P.contentHeight/P.rowSpan;P.rowSpan>1&&K.count*K.height<mt*P.rowSpan?K={height:mt,count:P.rowSpan}:K&&K.count>0&&K.height>mt&&(mt=K.height),mt>I.height&&(I.height=mt)}}K.count--}}function E(j,H,K,Z,k){return j.map(function(I){return D(I,H,K,Z,k)})}h.ellipsize=E;function D(j,H,K,Z,k){var I=1e4*Z.scaleFactor();if(H=Math.ceil(H*I)/I,H>=(0,p.getStringWidth)(j,K,Z))return j;for(;H<(0,p.getStringWidth)(j+k,K,Z)&&!(j.length<=1);)j=j.substring(0,j.length-1);return j.trim()+k}}),964:(function(u){if(typeof e>"u"){var h=new Error("Cannot find module 'undefined'");throw h.code="MODULE_NOT_FOUND",h}u.exports=e})},r={};function a(u){var h=r[u];if(h!==void 0)return h.exports;var f=r[u]={exports:{}};return i[u].call(f.exports,f,f.exports,a),f.exports}var l={};return(function(){var u=l;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var h=a(340),f=a(776),p=a(664),m=a(972),_=a(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return _.Table}});var y=a(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return y.CellHookData}});var S=a(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return S.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return S.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return S.Row}});function T(H){(0,h.default)(H)}u.applyPlugin=T;function C(H,K){var Z=(0,f.parseInput)(H,K),k=(0,m.createTable)(H,Z);(0,p.drawTable)(H,k)}function E(H,K){var Z=(0,f.parseInput)(H,K);return(0,m.createTable)(H,Z)}u.__createTable=E;function D(H,K){(0,p.drawTable)(H,K)}u.__drawTable=D;try{var j=a(964);j.jsPDF&&(j=j.jsPDF),T(j)}catch{}u.default=C})(),l})()})})(om)),om.exports}PO();function kO({correctionData:n}){const t=()=>{const e=new Ce,{studentName:i,className:r,date:a,score:l,maxScore:u,errors:h=[],exercises:f=[],ocrText:p}=n;e.setFontSize(20),e.setTextColor(26,35,126),e.text("Raport de Corectare",105,20,{align:"center"}),e.setFontSize(10),e.setTextColor(117,117,117),e.text("Generat de Corector",105,28,{align:"center"}),e.setDrawColor(63,81,181),e.setLineWidth(.5),e.line(20,32,190,32);let m=42;if(e.setFontSize(11),e.setTextColor(33,33,33),e.text(`Elev: ${i||"N/A"}`,20,m),e.text(`Clasa: ${r||"N/A"}`,120,m),m+=8,e.text(`Data: ${a||new Date().toLocaleDateString("ro-RO")}`,20,m),l!==void 0&&u!==void 0){const S=u>0?Math.round(l/u*100):0;e.text(`Punctaj: ${l}/${u} (${S}%)`,120,m)}if(m+=15,p){e.setFontSize(13),e.setTextColor(26,35,126),e.text("Text extras (OCR)",20,m),m+=8,e.setFontSize(9),e.setTextColor(66,66,66);const S=e.splitTextToSize(p,170);e.text(S,20,m),m+=S.length*4.5+10}h.length>0&&(m>250&&(e.addPage(),m=20),e.setFontSize(13),e.setTextColor(26,35,126),e.text("Greseli identificate",20,m),m+=5,e.autoTable({startY:m,head:[["Tip","Text gresit","Text corect","Explicatie"]],body:h.map(S=>[S.tip||"",S.textGresit||"",S.textCorect||"",S.explicatie||""]),styles:{fontSize:8,cellPadding:4,font:"helvetica"},headStyles:{fillColor:[26,35,126],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:20,right:20}}),m=e.lastAutoTable.finalY+15),f.length>0&&(m>230&&(e.addPage(),m=20),e.setFontSize(13),e.setTextColor(26,35,126),e.text("Exercitii remediale",20,m),m+=10,f.forEach((S,T)=>{m>260&&(e.addPage(),m=20),e.setFontSize(10),e.setTextColor(46,125,50),e.text(`${T+1}. ${S.titlu||"Exercitiu "+(T+1)}`,20,m),m+=6,e.setFontSize(9),e.setTextColor(66,66,66);const C=e.splitTextToSize(S.cerinta||"",170);e.text(C,24,m),m+=C.length*4.5+8}));const _=e.internal.getNumberOfPages();for(let S=1;S<=_;S++)e.setPage(S),e.setFontSize(8),e.setTextColor(189,189,189),e.text(`Corector - Pagina ${S} din ${_}`,105,290,{align:"center"});const y=`raport_${(i||"elev").replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;e.save(y)};return O.jsxs("button",{className:"btn btn-secondary",onClick:t,children:[O.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),O.jsx("polyline",{points:"7 10 12 15 17 10"}),O.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export PDF"]})}const OO="1tntvuPsqJUukip1WPBmg667qCuIMYi9g",DO=()=>!!T3(),MO=async n=>{var r;const t=T3();if(!t)throw new Error("DRIVE_NO_TOKEN");const e={name:`${Date.now()}_${n.name}`,parents:[OO]},i=new FormData;i.append("metadata",new Blob([JSON.stringify(e)],{type:"application/json"})),i.append("file",n);try{const a=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,webViewLink",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:i});if(!a.ok){const l=await a.json();throw new Error(((r=l.error)==null?void 0:r.message)||"Eroare la upload")}return await a.json()}catch(a){throw console.error("Eroare upload Drive:",a),a}};function jO(){const{user:n}=qf(),[t,e]=Tt.useState(1),[i,r]=Tt.useState(null),[a,l]=Tt.useState(!1),[u,h]=Tt.useState(null),[f,p]=Tt.useState(!1),[m,_]=Tt.useState(""),[y,S]=Tt.useState(null),[T,C]=Tt.useState([]),[E,D]=Tt.useState(null),[j,H]=Tt.useState([]),[K,Z]=Tt.useState(""),[k,I]=Tt.useState(""),B=DO();Tt.useEffect(()=>{n&&q()},[n]);const q=async()=>{try{const et=await b7(n.uid);H(et)}catch(et){console.log("Nu s-au putut ncrca baremele:",et)}},L=et=>{r(et)},P=async()=>{if(i){if(!B){e(2);return}l(!0);try{await MO(i),e(2)}catch(et){console.error("Eroare upload:",et),et.message==="DRIVE_NO_TOKEN"?e(2):alert("Eroare la ncrcare: "+et.message)}finally{l(!1)}}},z=()=>{e(2)},ot=et=>{h(et),e(3)},mt=async et=>{var ut;p(!0);try{et.name&&await y7({teacherId:n.uid,name:et.name,items:et.items});let pt,tt="";if(i&&((ut=i.type)!=null&&ut.startsWith("image/")))_("Se analizeaz imaginea cu Gemini Vision..."),pt=await N7(i,et.items),tt=pt.textExtras||"",S({textOcr:tt});else{_("Se citesc datele din Google Sheets...");try{const M=await Ww();M&&(S(M),tt=M.textOcr||"")}catch(M){console.log("Nu s-a putut citi din Sheets:",M)}tt||(tt="Nu s-a putut extrage textul OCR. Verificai Google Sheets."),_("Se compar cu baremul folosind Gemini AI..."),pt=await R7(tt,et.items)}D(pt),await Yw({teacherId:n.uid,studentName:K||(y==null?void 0:y.numeElev)||"Necunoscut",className:k||(y==null?void 0:y.clasa)||"",mode:"test",ocrText:tt,baremResult:pt,score:pt.punctajTotal||0,maxScore:pt.punctajMaxim||et.totalPoints,date:new Date().toISOString()}),e(4)}catch(pt){console.error("Eroare procesare barem:",pt),alert("Eroare la procesarea baremului: "+pt.message)}finally{p(!1),_("")}},$=async()=>{var et;p(!0);try{let ut="",pt=[];if(i&&((et=i.type)!=null&&et.startsWith("image/"))){_("Se analizeaz imaginea cu Gemini Vision...");const tt=await T7(i);ut=tt.textExtras||"",pt=tt.greseli||[],S({textOcr:ut})}else{_("Se citesc datele din Google Sheets...");try{const tt=await Ww();tt&&(S(tt),ut=tt.textOcr||"",pt=tt.greseliJson||[])}catch(tt){console.log("Nu s-a putut citi din Sheets:",tt)}ut&&(!pt||pt.length===0)&&(_("Se analizeaz textul cu Gemini AI..."),pt=await E7(ut))}C(pt),await Yw({teacherId:n.uid,studentName:K||(y==null?void 0:y.numeElev)||"Necunoscut",className:k||(y==null?void 0:y.clasa)||"",mode:"caiet",ocrText:ut,errors:pt,date:new Date().toISOString()}),e(4)}catch(ut){console.error("Eroare procesare caiet:",ut),alert("Eroare la procesarea textului: "+ut.message)}finally{p(!1),_("")}},J=()=>O.jsx("div",{className:"steps",children:[{num:1,label:"Upload"},{num:2,label:"Mod corectare"},{num:3,label:u==="test"?"Barem":"Procesare"},{num:4,label:"Rezultate"}].map((et,ut)=>O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[O.jsxs("div",{className:`step ${t===et.num?"active":t>et.num?"completed":""}`,children:[O.jsx("div",{className:"step-number",children:t>et.num?"":et.num}),O.jsx("span",{children:et.label})]}),ut<3&&O.jsx("div",{className:`step-connector ${t>et.num?"active":""}`})]},et.num))});return O.jsxs("div",{className:"new-correction",children:[O.jsxs("div",{className:"page-header",children:[O.jsx("h1",{children:" Corectare nou"}),O.jsx("p",{children:"ncarc un test sau caiet i primete feedback automat."})]}),J(),!C3()&&O.jsxs("div",{style:{padding:"var(--space-md)",background:"var(--warning-50, #fff3e0)",border:"1px solid var(--warning-200, #ffcc80)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-lg)",display:"flex",alignItems:"center",gap:"var(--space-md)",flexWrap:"wrap"},children:[O.jsx("span",{style:{fontSize:"1.2rem"},children:""}),O.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--warning-900, #e65100)",flex:1},children:[O.jsx("strong",{children:"Cheia API Gemini nu este configurat."})," Corectarea nu va funciona fr ea."]}),O.jsx(eh,{to:"/setari",className:"btn btn-primary btn-sm",children:"Mergi la Setri"})]}),t===1&&O.jsxs("div",{className:"card",children:[O.jsx("h2",{style:{marginBottom:"var(--space-md)"},children:" ncarc documentul"}),!B&&O.jsxs("div",{style:{padding:"var(--space-md)",background:"var(--info-50, #e3f2fd)",border:"1px solid var(--info-200, #90caf9)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-lg)",fontSize:"0.85rem",color:"var(--info-800, #1565c0)"},children:[" ",O.jsx("strong",{children:"Mod demo:"})," Upload-ul automat la Google Drive necesit autentificare cu Google (Firebase). Poi ncrca manual documentul n folderul Drive monitorizat de n8n, apoi apas ",O.jsx("strong",{children:'Continu"'})," pentru a citi rezultatele din Google Sheets."]}),O.jsxs("div",{className:"flex gap-lg",style:{marginBottom:"var(--space-lg)",flexWrap:"wrap"},children:[O.jsxs("div",{className:"input-group",style:{flex:1,minWidth:200},children:[O.jsx("label",{children:"Numele elevului"}),O.jsx("input",{type:"text",className:"input",placeholder:"Ex: Ion Popescu",value:K,onChange:et=>Z(et.target.value)})]}),O.jsxs("div",{className:"input-group",style:{flex:1,minWidth:200},children:[O.jsx("label",{children:"Clasa"}),O.jsx("input",{type:"text",className:"input",placeholder:"Ex: V A",value:k,onChange:et=>I(et.target.value)})]})]}),O.jsx(w7,{onFileSelected:L,uploading:a}),O.jsxs("div",{className:"flex gap-md",style:{marginTop:"var(--space-lg)",justifyContent:"flex-end"},children:[O.jsx("button",{className:"btn btn-ghost",onClick:z,children:"Sari peste upload"}),O.jsx("button",{className:"btn btn-primary",onClick:P,disabled:!i||a,children:a?"Se ncarc...":B?"ncarc n Drive i continu":"Continu "})]})]}),t===2&&O.jsxs("div",{className:"card",children:[O.jsx("h2",{style:{marginBottom:"var(--space-lg)"},children:" Selecteaz modul de corectare"}),O.jsxs("div",{className:"mode-cards",children:[O.jsxs("div",{className:`mode-card ${u==="test"?"selected":""}`,onClick:()=>ot("test"),children:[O.jsx("div",{className:"mode-card-icon",children:""}),O.jsx("h3",{children:"Test cu barem"}),O.jsx("p",{children:"Introdu rspunsurile corecte i aplicaia compar automat cu rspunsurile elevului."})]}),O.jsxs("div",{className:`mode-card ${u==="caiet"?"selected":""}`,onClick:()=>ot("caiet"),children:[O.jsx("div",{className:"mode-card-icon",children:""}),O.jsx("h3",{children:"Caiet liber"}),O.jsx("p",{children:"Gemini analizeaz textul i identific greeli ortografice, gramaticale i de coninut."})]})]})]}),t===3&&u==="test"&&O.jsxs("div",{children:[O.jsx(x7,{onBaremReady:mt,savedBarems:j}),f&&O.jsxs("div",{className:"loading-container",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:m||"Se proceseaz..."})]})]}),t===3&&u==="caiet"&&O.jsxs("div",{className:"card",style:{textAlign:"center"},children:[O.jsx("h2",{style:{marginBottom:"var(--space-md)"},children:" Procesare caiet liber"}),i?O.jsx("div",{style:{marginBottom:"var(--space-lg)"},children:O.jsxs("div",{style:{padding:"var(--space-md)",background:"var(--success-50, #e8f5e9)",border:"1px solid var(--success-200, #a5d6a7)",borderRadius:"var(--radius-md)",fontSize:"0.85rem",color:"var(--success-800, #2e7d32)"},children:[" Imagine ncrcat: ",O.jsx("strong",{children:i.name}),"  Gemini Vision va analiza direct imaginea"]})}):O.jsx("p",{className:"text-muted",style:{marginBottom:"var(--space-lg)"},children:"Se va citi textul OCR din Google Sheets (procesat de n8n) i se va analiza cu Gemini AI."}),f?O.jsxs("div",{className:"loading-container",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:m||"Se analizeaz..."})]}):O.jsxs("button",{className:"btn btn-primary btn-lg",onClick:$,children:[O.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:O.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),i?"Analizeaz imaginea":"Citete din Sheets i analizeaz"]})]}),t===4&&O.jsxs("div",{children:[O.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:"var(--space-lg)"},children:[O.jsx("h2",{children:" Rezultate corectare"}),O.jsxs("div",{className:"flex gap-sm",children:[O.jsx(kO,{correctionData:{studentName:K||(y==null?void 0:y.numeElev)||"",className:k||(y==null?void 0:y.clasa)||"",date:new Date().toLocaleDateString("ro-RO"),score:u==="test"?(E==null?void 0:E.punctajTotal)||0:void 0,maxScore:u==="test"?(E==null?void 0:E.punctajMaxim)||100:void 0,errors:u==="caiet"?T:((E==null?void 0:E.items)||[]).filter(et=>!et.corect).map(et=>({tip:"continut",textGresit:et.raspunsElev,textCorect:et.raspunsCorect,explicatie:et.feedback})),ocrText:(y==null?void 0:y.textOcr)||""}}),O.jsx("button",{className:"btn btn-primary",onClick:()=>{e(1),r(null),h(null),C([]),D(null),S(null)},children:"Corectare nou"})]})]}),(y==null?void 0:y.textOcr)&&O.jsxs("div",{className:"card",style:{marginBottom:"var(--space-lg)"},children:[O.jsx("h3",{style:{marginBottom:"var(--space-md)"},children:" Text extras (OCR)"}),O.jsx("div",{style:{background:"var(--gray-50)",padding:"var(--space-md)",borderRadius:"var(--radius-md)",fontFamily:"monospace",fontSize:"0.85rem",lineHeight:1.8,whiteSpace:"pre-wrap"},children:y.textOcr})]}),u==="test"&&E&&O.jsxs("div",{className:"flex gap-xl",style:{flexWrap:"wrap"},children:[O.jsx("div",{style:{flex:"0 0 200px"},children:O.jsx("div",{className:"card",children:O.jsx(A7,{score:E.punctajTotal||0,maxScore:E.punctajMaxim||100})})}),O.jsx("div",{style:{flex:1,minWidth:300},children:O.jsxs("div",{className:"card",children:[O.jsx("h3",{style:{marginBottom:"var(--space-md)"},children:"Detalii per item"}),O.jsx("div",{className:"table-container",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"#"}),O.jsx("th",{children:"Rspuns elev"}),O.jsx("th",{children:"Corect"}),O.jsx("th",{children:"Puncte"}),O.jsx("th",{children:"Status"})]})}),O.jsx("tbody",{children:(E.items||[]).map((et,ut)=>O.jsxs("tr",{children:[O.jsx("td",{children:et.itemNr||ut+1}),O.jsx("td",{children:et.raspunsElev||"-"}),O.jsx("td",{children:et.raspunsCorect||"-"}),O.jsxs("td",{children:[et.puncteObtinute,"/",et.puncteMaxime]}),O.jsx("td",{children:O.jsx("span",{className:`badge ${et.corect===!0?"badge-success":et.corect==="partial"?"badge-gramatica":"badge-ortografie"}`,children:et.corect===!0?" Corect":et.corect==="partial"?" Parial":" Greit"})})]},ut))})]})})]})})]}),u==="caiet"&&O.jsx("div",{className:"card",style:{marginBottom:"var(--space-lg)"},children:O.jsx(S7,{errors:T})}),O.jsx("div",{style:{marginTop:"var(--space-xl)"},children:O.jsx(L3,{errors:u==="caiet"?T:((E==null?void 0:E.items)||[]).filter(et=>!et.corect).map(et=>({tip:"continut",textGresit:et.raspunsElev,textCorect:et.raspunsCorect,explicatie:et.feedback}))})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pp(n){return n+.5|0}const rc=(n,t,e)=>Math.max(Math.min(n,e),t);function Md(n){return rc(Pp(n*2.55),0,255)}function mc(n){return rc(Pp(n*255),0,255)}function eu(n){return rc(Pp(n/2.55)/100,0,1)}function yx(n){return rc(Pp(n*100),0,100)}const Ma={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hv=[..."0123456789ABCDEF"],FO=n=>hv[n&15],BO=n=>hv[(n&240)>>4]+hv[n&15],Dg=n=>(n&240)>>4===(n&15),VO=n=>Dg(n.r)&&Dg(n.g)&&Dg(n.b)&&Dg(n.a);function zO(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ma[n[1]]*17,g:255&Ma[n[2]]*17,b:255&Ma[n[3]]*17,a:t===5?Ma[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ma[n[1]]<<4|Ma[n[2]],g:Ma[n[3]]<<4|Ma[n[4]],b:Ma[n[5]]<<4|Ma[n[6]],a:t===9?Ma[n[7]]<<4|Ma[n[8]]:255})),e}const UO=(n,t)=>n<255?t(n):"";function qO(n){var t=VO(n)?FO:BO;return n?"#"+t(n.r)+t(n.g)+t(n.b)+UO(n.a,t):void 0}const HO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Z3(n,t,e){const i=t*Math.min(e,1-e),r=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function GO(n,t,e){const i=(r,a=(r+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function WO(n,t,e){const i=Z3(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function YO(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Ny(n){const e=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(e,i,r),l=Math.min(e,i,r),u=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),h=YO(e,i,r,p,a),h=h*60+.5),[h|0,f||0,u]}function Cy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(mc)}function Ry(n,t,e){return Cy(Z3,n,t,e)}function $O(n,t,e){return Cy(WO,n,t,e)}function KO(n,t,e){return Cy(GO,n,t,e)}function tE(n){return(n%360+360)%360}function XO(n){const t=HO.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Md(+t[5]):mc(+t[5]));const r=tE(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=$O(r,a,l):t[1]==="hsv"?i=KO(r,a,l):i=Ry(r,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function QO(n,t){var e=Ny(n);e[0]=tE(e[0]+t),e=Ry(e),n.r=e[0],n.g=e[1],n.b=e[2]}function JO(n){if(!n)return;const t=Ny(n),e=t[0],i=yx(t[1]),r=yx(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${eu(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const bx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_x={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZO(){const n={},t=Object.keys(_x),e=Object.keys(bx);let i,r,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)a=e[r],u=u.replace(a,bx[a]);a=parseInt(_x[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Mg;function tD(n){Mg||(Mg=ZO(),Mg.transparent=[0,0,0,0]);const t=Mg[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const eD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nD(n){const t=eD.exec(n);let e=255,i,r,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Md(l):rc(l*255,0,255)}return i=+t[1],r=+t[3],a=+t[5],i=255&(t[2]?Md(i):rc(i,0,255)),r=255&(t[4]?Md(r):rc(r,0,255)),a=255&(t[6]?Md(a):rc(a,0,255)),{r:i,g:r,b:a,a:e}}}function iD(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${eu(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const h2=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,sf=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function rD(n,t,e){const i=sf(eu(n.r)),r=sf(eu(n.g)),a=sf(eu(n.b));return{r:mc(h2(i+e*(sf(eu(t.r))-i))),g:mc(h2(r+e*(sf(eu(t.g))-r))),b:mc(h2(a+e*(sf(eu(t.b))-a))),a:n.a+e*(t.a-n.a)}}function jg(n,t,e){if(n){let i=Ny(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Ry(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function eE(n,t){return n&&Object.assign(t||{},n)}function wx(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=mc(n[3]))):(t=eE(n,{r:0,g:0,b:0,a:1}),t.a=mc(t.a)),t}function sD(n){return n.charAt(0)==="r"?nD(n):XO(n)}class dp{constructor(t){if(t instanceof dp)return t;const e=typeof t;let i;e==="object"?i=wx(t):e==="string"&&(i=zO(t)||tD(t)||sD(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=eE(this._rgb);return t&&(t.a=eu(t.a)),t}set rgb(t){this._rgb=wx(t)}rgbString(){return this._valid?iD(this._rgb):void 0}hexString(){return this._valid?qO(this._rgb):void 0}hslString(){return this._valid?JO(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,h=i.a-r.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*r.r+.5,i.g=255&f*i.g+a*r.g+.5,i.b=255&f*i.b+a*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=rD(this._rgb,t._rgb,e)),this}clone(){return new dp(this.rgb)}alpha(t){return this._rgb.a=mc(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Pp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jg(this._rgb,2,t),this}darken(t){return jg(this._rgb,2,-t),this}saturate(t){return jg(this._rgb,1,t),this}desaturate(t){return jg(this._rgb,1,-t),this}rotate(t){return QO(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jl(){}const aD=(()=>{let n=0;return()=>n++})();function kn(n){return n==null}function Qi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function vn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function fs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function sl(n,t){return fs(n)?n:t}function nn(n,t){return typeof n>"u"?t:n}const oD=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ai(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Vn(n,t,e,i){let r,a,l;if(Qi(n))for(a=n.length,r=0;r<a;r++)t.call(e,n[r],r);else if(vn(n))for(l=Object.keys(n),a=l.length,r=0;r<a;r++)t.call(e,n[l[r]],l[r])}function Dm(n,t){let e,i,r,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],a=t[e],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Mm(n){if(Qi(n))return n.map(Mm);if(vn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Mm(n[e[r]]);return t}return n}function nE(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function lD(n,t,e,i){if(!nE(n))return;const r=t[n],a=e[n];vn(r)&&vn(a)?pp(r,a,i):t[n]=Mm(a)}function pp(n,t,e){const i=Qi(t)?t:[t],r=i.length;if(!vn(n))return n;e=e||{};const a=e.merger||lD;let l;for(let u=0;u<r;++u){if(l=i[u],!vn(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],n,l,e)}return n}function Xd(n,t){return pp(n,t,{merger:uD})}function uD(n,t,e){if(!nE(n))return;const i=t[n],r=e[n];vn(i)&&vn(r)?Xd(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Mm(r))}const xx={"":n=>n,x:n=>n.x,y:n=>n.y};function cD(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function hD(n){const t=cD(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function If(n,t){return(xx[t]||(xx[t]=hD(t)))(n)}function Iy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const gp=n=>typeof n<"u",Tc=n=>typeof n=="function",Sx=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function fD(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Tr=Math.PI,xo=2*Tr,dD=xo+Tr,jm=Number.POSITIVE_INFINITY,pD=Tr/180,_o=Tr/2,qc=Tr/4,Ax=Tr*2/3,iE=Math.log10,bl=Math.sign;function Qd(n,t,e){return Math.abs(n-t)<e}function Ex(n){const t=Math.round(n);n=Qd(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(iE(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function gD(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,a)=>r-a).pop(),t}function mD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function mp(n){return!mD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function vD(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function yD(n,t,e){let i,r,a;for(i=0,r=n.length;i<r;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Zc(n){return n*(Tr/180)}function bD(n){return n*(180/Tr)}function Tx(n){if(!fs(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function _D(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*Tr&&(a+=xo),{angle:a,distance:r}}function fv(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function wD(n,t){return(n-t+dD)%xo-Tr}function cl(n){return(n%xo+xo)%xo}function rE(n,t,e,i){const r=cl(n),a=cl(t),l=cl(e),u=cl(a-r),h=cl(l-r),f=cl(r-a),p=cl(r-l);return r===a||r===l||i&&a===l||u>h&&f<p}function ga(n,t,e){return Math.max(t,Math.min(e,n))}function xD(n){return ga(n,-32768,32767)}function sc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Ly(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,e(a)?r=a:i=a;return{lo:r,hi:i}}const th=(n,t,e,i)=>Ly(n,e,i?r=>{const a=n[r][t];return a<e||a===e&&n[r+1][t]===e}:r=>n[r][t]<e),SD=(n,t,e)=>Ly(n,e,i=>n[i][t]>=e);function AD(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const sE=["push","pop","shift","splice","unshift"];function ED(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),sE.forEach(e=>{const i="_onData"+Iy(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function Nx(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(sE.forEach(a=>{delete n[a]}),delete n._chartjs)}function aE(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const oE=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function lE(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,oE.call(window,()=>{i=!1,n.apply(t,e)}))}}function TD(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Py=n=>n==="start"?"left":n==="end"?"right":"center",as=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,ND=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function CD(n,t,e){const i=t.length;let r=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:m,max:_,minDefined:y,maxDefined:S}=l.getUserBounds();if(y){if(r=Math.min(th(h,p,m).lo,e?i:th(t,p,l.getPixelForValue(m)).lo),f){const T=h.slice(0,r+1).reverse().findIndex(C=>!kn(C[u.axis]));r-=Math.max(0,T)}r=ga(r,0,i-1)}if(S){let T=Math.max(th(h,l.axis,_,!0).hi+1,e?0:th(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const C=h.slice(T-1).findIndex(E=>!kn(E[u.axis]));T+=Math.max(0,C)}a=ga(T,r,i)-r}else a=i-r}return{start:r,count:a}}function RD(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),a}const Fg=n=>n===0||n===1,Cx=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*xo/e)),Rx=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*xo/e)+1,Jd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*_o)+1,easeOutSine:n=>Math.sin(n*_o),easeInOutSine:n=>-.5*(Math.cos(Tr*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Fg(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Fg(n)?n:Cx(n,.075,.3),easeOutElastic:n=>Fg(n)?n:Rx(n,.075,.3),easeInOutElastic(n){return Fg(n)?n:n<.5?.5*Cx(n*2,.1125,.45):.5+.5*Rx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Jd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Jd.easeInBounce(n*2)*.5:Jd.easeOutBounce(n*2-1)*.5+.5};function ky(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ix(n){return ky(n)?n:new dp(n)}function f2(n){return ky(n)?n:new dp(n).saturate(.5).darken(.1).hexString()}const ID=["x","y","borderWidth","radius","tension"],LD=["color","borderColor","backgroundColor"];function PD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:LD},numbers:{type:"number",properties:ID}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function kD(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Lx=new Map;function OD(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Lx.get(e);return i||(i=new Intl.NumberFormat(n,t),Lx.set(e,i)),i}function uE(n,t,e){return OD(t,e).format(n)}const DD={values(n){return Qi(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,a=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),a=MD(n,e)}const l=iE(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),uE(n,i,h)}};function MD(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var cE={formatters:DD};function jD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const dh=Object.create(null),dv=Object.create(null);function Zd(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function d2(n,t,e){return typeof t=="string"?pp(Zd(n,t),e):pp(Zd(n,""),t)}class FD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>f2(r.backgroundColor),this.hoverBorderColor=(i,r)=>f2(r.borderColor),this.hoverColor=(i,r)=>f2(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return d2(this,t,e)}get(t){return Zd(this,t)}describe(t,e){return d2(dv,t,e)}override(t,e){return d2(dh,t,e)}route(t,e,i,r){const a=Zd(this,t),l=Zd(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],f=l[r];return vn(h)?Object.assign({},f,h):nn(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var Mi=new FD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[PD,kD,jD]);function BD(n){return!n||kn(n.size)||kn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Px(n,t,e,i,r){let a=t[r];return a||(a=t[r]=n.measureText(r).width,e.push(r)),a>i&&(i=a),i}function Hc(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function kx(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function pv(n,t,e,i){hE(n,t,e,i,null)}function hE(n,t,e,i,r){let a,l,u,h,f,p,m,_;const y=t.pointStyle,S=t.rotation,T=t.radius;let C=(S||0)*pD;if(y&&typeof y=="object"&&(a=y.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),y){default:r?n.ellipse(e,i,r/2,T,0,0,xo):n.arc(e,i,T,0,xo),n.closePath();break;case"triangle":p=r?r/2:T,n.moveTo(e+Math.sin(C)*p,i-Math.cos(C)*T),C+=Ax,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*T),C+=Ax,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*T),n.closePath();break;case"rectRounded":f=T*.516,h=T-f,l=Math.cos(C+qc)*h,m=Math.cos(C+qc)*(r?r/2-f:h),u=Math.sin(C+qc)*h,_=Math.sin(C+qc)*(r?r/2-f:h),n.arc(e-m,i-u,f,C-Tr,C-_o),n.arc(e+_,i-l,f,C-_o,C),n.arc(e+m,i+u,f,C,C+_o),n.arc(e-_,i+l,f,C+_o,C+Tr),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*T,p=r?r/2:h,n.rect(e-p,i-h,2*p,2*h);break}C+=qc;case"rectRot":m=Math.cos(C)*(r?r/2:T),l=Math.cos(C)*T,u=Math.sin(C)*T,_=Math.sin(C)*(r?r/2:T),n.moveTo(e-m,i-u),n.lineTo(e+_,i-l),n.lineTo(e+m,i+u),n.lineTo(e-_,i+l),n.closePath();break;case"crossRot":C+=qc;case"cross":m=Math.cos(C)*(r?r/2:T),l=Math.cos(C)*T,u=Math.sin(C)*T,_=Math.sin(C)*(r?r/2:T),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"star":m=Math.cos(C)*(r?r/2:T),l=Math.cos(C)*T,u=Math.sin(C)*T,_=Math.sin(C)*(r?r/2:T),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l),C+=qc,m=Math.cos(C)*(r?r/2:T),l=Math.cos(C)*T,u=Math.sin(C)*T,_=Math.sin(C)*(r?r/2:T),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"line":l=r?r/2:Math.cos(C)*T,u=Math.sin(C)*T,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:T),i+Math.sin(C)*T);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function vp(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function y0(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function b0(n){n.restore()}function VD(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function zD(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function UD(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),kn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function qD(n,t,e,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,f=e+a.actualBoundingBoxDescent,p=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function HD(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function yp(n,t,e,i,r,a={}){const l=Qi(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,UD(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&HD(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),kn(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,e,i,a.maxWidth)),n.fillText(f,e,i,a.maxWidth),qD(n,e,i,f,a),i+=Number(r.lineHeight);n.restore()}function Fm(n,t){const{x:e,y:i,w:r,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Tr,Tr,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Tr,_o,!0),n.lineTo(e+r-l.bottomRight,i+a),n.arc(e+r-l.bottomRight,i+a-l.bottomRight,l.bottomRight,_o,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-_o,!0),n.lineTo(e+l.topLeft,i)}const GD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function YD(n,t){const e=(""+n).match(GD);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const $D=n=>+n||0;function fE(n,t){const e={},i=vn(t),r=i?Object.keys(t):t,a=vn(n)?i?l=>nn(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=$D(a(l));return e}function dE(n){return fE(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bf(n){return fE(n,["topLeft","topRight","bottomLeft","bottomRight"])}function za(n){const t=dE(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function cs(n,t){n=n||{},t=t||Mi.font;let e=nn(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=nn(n.style,t.style);i&&!(""+i).match(WD)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:nn(n.family,t.family),lineHeight:YD(nn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:nn(n.weight,t.weight),string:""};return r.string=BD(r),r}function Bg(n,t,e,i){let r,a,l;for(r=0,a=n.length;r<a;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function KD(n,t,e){const{min:i,max:r}=n,a=oD(t,(r-i)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(r,a)}}function wh(n,t){return Object.assign(Object.create(n),t)}function Oy(n,t=[""],e,i,r=()=>n[0]){const a=e||n;typeof i>"u"&&(i=vE("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:u=>Oy([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return gE(u,h,()=>iM(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return Dx(u).includes(h)},ownKeys(u){return Dx(u)},set(u,h,f){const p=u._storage||(u._storage=r());return u[h]=p[h]=f,delete u._keys,!0}})}function Lf(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:pE(n,i),setContext:a=>Lf(n,a,e,i),override:a=>Lf(n.override(a),t,e,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return gE(a,l,()=>QD(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function pE(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Tc(e)?e:()=>e,isIndexable:Tc(i)?i:()=>i}}const XD=(n,t)=>n?n+Iy(t):t,Dy=(n,t)=>vn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function gE(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function QD(n,t,e){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=n;let u=i[t];return Tc(u)&&l.isScriptable(t)&&(u=JD(t,u,n,e)),Qi(u)&&u.length&&(u=ZD(t,u,n,l.isIndexable)),Dy(t,u)&&(u=Lf(u,r,a&&a[t],l)),u}function JD(n,t,e,i){const{_proxy:r,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(a,l||i);return u.delete(n),Dy(n,h)&&(h=My(r._scopes,r,n,h)),h}function ZD(n,t,e,i){const{_proxy:r,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(vn(t[0])){const h=t,f=r._scopes.filter(p=>p!==h);t=[];for(const p of h){const m=My(f,r,n,p);t.push(Lf(m,a,l&&l[n],u))}}return t}function mE(n,t,e){return Tc(n)?n(t,e):n}const tM=(n,t)=>n===!0?t:typeof n=="string"?If(t,n):void 0;function eM(n,t,e,i,r){for(const a of t){const l=tM(e,a);if(l){n.add(l);const u=mE(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function My(n,t,e,i){const r=t._rootScopes,a=mE(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let h=Ox(u,l,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=Ox(u,l,a,h,i),h===null)?!1:Oy(Array.from(u),[""],r,a,()=>nM(t,e,i))}function Ox(n,t,e,i,r){for(;e;)e=eM(n,t,e,i,r);return e}function nM(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Qi(r)&&vn(e)?e:r||{}}function iM(n,t,e,i){let r;for(const a of t)if(r=vE(XD(a,n),e),typeof r<"u")return Dy(n,r)?My(e,i,n,r):r}function vE(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Dx(n){let t=n._keys;return t||(t=n._keys=rM(n._scopes)),t}function rM(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const sM=Number.EPSILON||1e-14,Pf=(n,t)=>t<n.length&&!n[t].skip&&n[t],yE=n=>n==="x"?"y":"x";function aM(n,t,e,i){const r=n.skip?t:n,a=t,l=e.skip?t:e,u=fv(a,r),h=fv(l,a);let f=u/(u+h),p=h/(u+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const m=i*f,_=i*p;return{previous:{x:a.x-m*(l.x-r.x),y:a.y-m*(l.y-r.y)},next:{x:a.x+_*(l.x-r.x),y:a.y+_*(l.y-r.y)}}}function oM(n,t,e){const i=n.length;let r,a,l,u,h,f=Pf(n,0);for(let p=0;p<i-1;++p)if(h=f,f=Pf(n,p+1),!(!h||!f)){if(Qd(t[p],0,sM)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],a=e[p+1]/t[p],u=Math.pow(r,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=r*l*t[p],e[p+1]=a*l*t[p])}}function lM(n,t,e="x"){const i=yE(e),r=n.length;let a,l,u,h=Pf(n,0);for(let f=0;f<r;++f){if(l=u,u=h,h=Pf(n,f+1),!u)continue;const p=u[e],m=u[i];l&&(a=(p-l[e])/3,u[`cp1${e}`]=p-a,u[`cp1${i}`]=m-a*t[f]),h&&(a=(h[e]-p)/3,u[`cp2${e}`]=p+a,u[`cp2${i}`]=m+a*t[f])}}function uM(n,t="x"){const e=yE(t),i=n.length,r=Array(i).fill(0),a=Array(i);let l,u,h,f=Pf(n,0);for(l=0;l<i;++l)if(u=h,h=f,f=Pf(n,l+1),!!h){if(f){const p=f[t]-h[t];r[l]=p!==0?(f[e]-h[e])/p:0}a[l]=u?f?bl(r[l-1])!==bl(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}oM(n,r,a),lM(n,a,t)}function Vg(n,t,e){return Math.max(Math.min(n,e),t)}function cM(n,t){let e,i,r,a,l,u=vp(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=u,u=e<i-1&&vp(n[e+1],t),a&&(r=n[e],l&&(r.cp1x=Vg(r.cp1x,t.left,t.right),r.cp1y=Vg(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=Vg(r.cp2x,t.left,t.right),r.cp2y=Vg(r.cp2y,t.top,t.bottom)))}function hM(n,t,e,i,r){let a,l,u,h;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")uM(n,r);else{let f=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],h=aM(f,u,n[Math.min(a+1,l-(i?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}t.capBezierPoints&&cM(n,e)}function jy(){return typeof window<"u"&&typeof document<"u"}function Fy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bm(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const _0=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function fM(n,t){return _0(n).getPropertyValue(t)}const dM=["top","right","bottom","left"];function oh(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const a=dM[r];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const pM=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function gM(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:a}=i;let l=!1,u,h;if(pM(r,a,n.target))u=r,h=a;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function $c(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=_0(e),a=r.boxSizing==="border-box",l=oh(r,"padding"),u=oh(r,"border","width"),{x:h,y:f,box:p}=gM(n,e),m=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:y,height:S}=t;return a&&(y-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-m)/y*e.width/i),y:Math.round((f-_)/S*e.height/i)}}function mM(n,t,e){let i,r;if(t===void 0||e===void 0){const a=n&&Fy(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=_0(a),h=oh(u,"border","width"),f=oh(u,"padding");t=l.width-f.width-h.width,e=l.height-f.height-h.height,i=Bm(u.maxWidth,a,"clientWidth"),r=Bm(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||jm,maxHeight:r||jm}}const ac=n=>Math.round(n*10)/10;function vM(n,t,e,i){const r=_0(n),a=oh(r,"margin"),l=Bm(r.maxWidth,n,"clientWidth")||jm,u=Bm(r.maxHeight,n,"clientHeight")||jm,h=mM(n,t,e);let{width:f,height:p}=h;if(r.boxSizing==="content-box"){const _=oh(r,"border","width"),y=oh(r,"padding");f-=y.width+_.width,p-=y.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=ac(Math.min(f,l,h.maxWidth)),p=ac(Math.min(p,u,h.maxHeight)),f&&!p&&(p=ac(f/2)),(t!==void 0||e!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=ac(Math.floor(p*i))),{width:f,height:p}}function Mx(n,t,e){const i=t||1,r=ac(n.height*i),a=ac(n.width*i);n.height=ac(n.height),n.width=ac(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==a?(n.currentDevicePixelRatio=i,l.height=r,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const yM=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};jy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function jx(n,t){const e=fM(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Kc(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function bM(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function _M(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Kc(n,r,e),u=Kc(r,a,e),h=Kc(a,t,e),f=Kc(l,u,e),p=Kc(u,h,e);return Kc(f,p,e)}const wM=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},xM=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function _f(n,t,e){return n?wM(t,e):xM()}function bE(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function _E(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function wE(n){return n==="angle"?{between:rE,compare:wD,normalize:cl}:{between:sc,compare:(t,e)=>t-e,normalize:t=>t}}function Fx({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function SM(n,t,e){const{property:i,start:r,end:a}=e,{between:l,normalize:u}=wE(i),h=t.length;let{start:f,end:p,loop:m}=n,_,y;if(m){for(f+=h,p+=h,_=0,y=h;_<y&&l(u(t[f%h][i]),r,a);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:m,style:n.style}}function xE(n,t,e){if(!e)return[n];const{property:i,start:r,end:a}=e,l=t.length,{compare:u,between:h,normalize:f}=wE(i),{start:p,end:m,loop:_,style:y}=SM(n,t,e),S=[];let T=!1,C=null,E,D,j;const H=()=>h(r,j,E)&&u(r,j)!==0,K=()=>u(a,E)===0||h(a,j,E),Z=()=>T||H(),k=()=>!T||K();for(let I=p,B=p;I<=m;++I)D=t[I%l],!D.skip&&(E=f(D[i]),E!==j&&(T=h(E,r,a),C===null&&Z()&&(C=u(E,r)===0?I:B),C!==null&&k()&&(S.push(Fx({start:C,end:I,loop:_,count:l,style:y})),C=null),B=I,j=E));return C!==null&&S.push(Fx({start:C,end:m,loop:_,count:l,style:y})),S}function SE(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const a=xE(i[r],n.points,t);a.length&&e.push(...a)}return e}function AM(n,t,e,i){let r=0,a=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(a+=r);a>r&&n[a%t].skip;)a--;return a%=t,{start:r,end:a}}function EM(n,t,e,i){const r=n.length,a=[];let l=t,u=n[t],h;for(h=t+1;h<=e;++h){const f=n[h%r];f.skip||f.stop?u.skip||(i=!1,a.push({start:t%r,end:(h-1)%r,loop:i}),t=l=f.stop?h:null):(l=h,u.skip&&(t=h)),u=f}return l!==null&&a.push({start:t%r,end:l%r,loop:i}),a}function TM(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const a=!!n._loop,{start:l,end:u}=AM(e,r,a,i);if(i===!0)return Bx(n,[{start:l,end:u,loop:a}],e,t);const h=u<l?u+r:u,f=!!n._fullLoop&&l===0&&u===r-1;return Bx(n,EM(e,l,h,f),e,t)}function Bx(n,t,e,i){return!i||!i.setContext||!e?t:NM(n,t,e,i)}function NM(n,t,e,i){const r=n._chart.getContext(),a=Vx(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=e.length,f=[];let p=a,m=t[0].start,_=m;function y(S,T,C,E){const D=u?-1:1;if(S!==T){for(S+=h;e[S%h].skip;)S-=D;for(;e[T%h].skip;)T+=D;S%h!==T%h&&(f.push({start:S%h,end:T%h,loop:C,style:E}),p=E,m=T%h)}}for(const S of t){m=u?m:S.start;let T=e[m%h],C;for(_=m+1;_<=S.end;_++){const E=e[_%h];C=Vx(i.setContext(wh(r,{type:"segment",p0:T,p1:E,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),CM(C,p)&&y(m,_-1,S.loop,p),T=E,p=C}m<_-1&&y(m,_-1,S.loop,p)}return f}function Vx(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function CM(n,t){if(!t)return!1;const e=[],i=function(r,a){return ky(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function zg(n,t,e){return n.options.clip?n[e]:t[e]}function RM(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:zg(e,t,"left"),right:zg(e,t,"right"),top:zg(i,t,"top"),bottom:zg(i,t,"bottom")}:t}function AE(n,t){const e=t._clip;if(e.disabled)return!1;const i=RM(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class IM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.listeners[r],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=oE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),a.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Zl=new IM;const zx="transparent",LM={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Ix(n||zx),r=i.valid&&Ix(t||zx);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class PM{constructor(t,e,i,r){const a=e[i];r=Bg([t.to,r,a,t.from]);const l=Bg([t.from,a,r]);this._active=!0,this._fn=t.fn||LM[t.type||typeof l],this._easing=Jd[t.easing]||Jd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Bg([t.to,e,r,t.from]),this._from=Bg([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=a;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(a,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class EE{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!vn(t))return;const e=Object.keys(Mi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const a=t[r];if(!vn(a))return;const l={};for(const u of e)l[u]=a[u];(Qi(a.properties)&&a.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=OM(t,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&kM(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,r=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let m=a[f];const _=i.get(f);if(m)if(_&&m.active()){m.update(_,p,u);continue}else m.cancel();if(!_||!_.duration){t[f]=p;continue}a[f]=m=new PM(_,t,f,p),r.push(m)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Zl.add(this._chart,i),!0}}function kM(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function OM(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ux(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:r,end:i?r:a}}function DM(n,t,e){if(e===!1)return!1;const i=Ux(n,e),r=Ux(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function MM(n){let t,e,i,r;return vn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function TE(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)e.push(i[r].index);return e}function qx(n,t,e,i={}){const r=n.keys,a=i.mode==="single";let l,u,h,f;if(t===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(h=+r[l],h===e){if(p=!0,i.all)continue;break}f=n.values[h],fs(f)&&(a||t===0||bl(t)===bl(f))&&(t+=f)}return!p&&!i.all?0:t}function jM(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[r]:p,[a]:n[p]};return u}function p2(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function FM(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function BM(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function VM(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Hx(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(e&&a>0||!e&&a<0)return r.index}return null}function Gx(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,p=FM(a,l,i),m=t.length;let _;for(let y=0;y<m;++y){const S=t[y],{[h]:T,[f]:C}=S,E=S._stacks||(S._stacks={});_=E[f]=VM(r,p,T),_[u]=C,_._top=Hx(_,l,!0,i.type),_._bottom=Hx(_,l,!1,i.type);const D=_._visualValues||(_._visualValues={});D[u]=C}}function g2(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function zM(n,t){return wh(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function UM(n,t,e){return wh(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Cd(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const a=r._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const m2=n=>n==="reset"||n==="none",Wx=(n,t)=>t?n:Object.assign({},n),qM=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:TE(e,!0),values:null};class wf{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=p2(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Cd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(m,_,y,S)=>m==="x"?_:m==="r"?S:y,a=e.xAxisID=nn(i.xAxisID,g2(t,"x")),l=e.yAxisID=nn(i.yAxisID,g2(t,"y")),u=e.rAxisID=nn(i.rAxisID,g2(t,"r")),h=e.indexAxis,f=e.iAxisID=r(h,a,l,u),p=e.vAxisID=r(h,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Nx(this._data,this),t._stacked&&Cd(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(vn(e)){const r=this._cachedMeta;this._data=jM(e,r)}else if(i!==e){if(i){Nx(i,this);const r=this._cachedMeta;Cd(r),r._parsed=[]}e&&Object.isExtensible(e)&&ED(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=e._stacked;e._stacked=p2(e.vScale,e),e.stack!==i.stack&&(r=!0,Cd(e),e.stack=i.stack),this._resyncElements(t),(r||a!==e._stacked)&&(Gx(this,e._parsed),e._stacked=p2(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,m,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{Qi(r[t])?_=this.parseArrayData(i,r,t,e):vn(r[t])?_=this.parseObjectData(i,r,t,e):_=this.parsePrimitiveData(i,r,t,e);const y=()=>m[u]===null||f&&m[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=m=_[p],h&&(y()&&(h=!1),f=m);i._sorted=h}l&&Gx(this,_)}parsePrimitiveData(t,e,i,r){const{iScale:a,vScale:l}=t,u=a.axis,h=l.axis,f=a.getLabels(),p=a===l,m=new Array(r);let _,y,S;for(_=0,y=r;_<y;++_)S=_+i,m[_]={[u]:p||a.parse(f[S],S),[h]:l.parse(e[S],S)};return m}parseArrayData(t,e,i,r){const{xScale:a,yScale:l}=t,u=new Array(r);let h,f,p,m;for(h=0,f=r;h<f;++h)p=h+i,m=e[p],u[h]={x:a.parse(m[0],p),y:l.parse(m[1],p)};return u}parseObjectData(t,e,i,r){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let p,m,_,y;for(p=0,m=r;p<m;++p)_=p+i,y=e[_],f[p]={x:a.parse(If(y,u),_),y:l.parse(If(y,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:TE(r,!0),values:e._stacks[t.axis]._visualValues};return qx(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const a=i[e.axis];let l=a===null?NaN:a;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=qx(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),h=qM(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=BM(u);let _,y;function S(){y=r[_];const T=y[u.axis];return!fs(y[t.axis])||p>T||m<T}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(f,t,y,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(f,t,y,h);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,a,l;for(r=0,a=e.length;r<a;++r)l=e[r][t.axis],fs(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=MM(nn(this.options.clip,DM(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,u,h),p=u;p<u+h;++p){const m=r[p];m.hidden||(m.active&&f?l.push(m):m.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=UM(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=zM(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],h=this.enableOptionSharing&&gp(i);if(u)return Wx(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),m=r?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),y=Object.keys(Mi.elements[t]),S=()=>this.getContext(i,r,e),T=f.resolveNamedOptions(_,y,S,m);return T.$shared&&(T.$shared=h,a[l]=Object.freeze(Wx(T,h))),T}_resolveAnimations(t,e,i){const r=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let h;if(r.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,e),_=p.getOptionScopes(this.getDataset(),m);h=p.createResolver(_,this.getContext(t,i,e))}const f=new EE(r,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||m2(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==r;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,r){m2(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!m2(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const a=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const r=i.length,a=e.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,e,i=!0){const r=this._cachedMeta,a=r.data,l=t+e;let u;const h=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(h(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Cd(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Be(wf,"defaults",{}),Be(wf,"datasetElementType",null),Be(wf,"dataElementType",null);function HM(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,a=e.length;r<a;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=aE(i.sort((r,a)=>r-a))}return n._cache.$bar}function GM(n){const t=n.iScale,e=HM(t,n.type);let i=t._length,r,a,l,u;const h=()=>{l===32767||l===-32768||(gp(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,a=e.length;r<a;++r)l=t.getPixelForValue(e[r]),h();for(u=void 0,r=0,a=t.ticks.length;r<a;++r)l=t.getPixelForTick(r),h();return i}function WM(n,t,e,i){const r=e.barThickness;let a,l;return kn(r)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=r*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function YM(n,t,e,i){const r=t.pixels,a=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;l===null&&(l=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-l);const f=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:e.barPercentage,start:f}}function $M(n,t,e,i){const r=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(r,a),u=Math.max(r,a);let h=l,f=u;Math.abs(l)>Math.abs(u)&&(h=u,f=l),t[e.axis]=f,t._custom={barStart:h,barEnd:f,start:r,end:a,min:l,max:u}}function NE(n,t,e,i){return Qi(n)?$M(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Yx(n,t,e,i){const r=n.iScale,a=n.vScale,l=r.getLabels(),u=r===a,h=[];let f,p,m,_;for(f=e,p=e+i;f<p;++f)_=t[f],m={},m[r.axis]=u||r.parse(l[f],f),h.push(NE(_,m,a,f));return h}function v2(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function KM(n,t,e){return n!==0?bl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function XM(n){let t,e,i,r,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:e,end:i,reverse:t,top:r,bottom:a}}function QM(n,t,e,i){let r=t.borderSkipped;const a={};if(!r){n.borderSkipped=a;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:f,bottom:p}=XM(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=p:(a[$x(p,l,u,h)]=!0,r=f)),a[$x(r,l,u,h)]=!0,n.borderSkipped=a}function $x(n,t,e,i){return i?(n=JM(n,t,e),n=Kx(n,e,t)):n=Kx(n,t,e),n}function JM(n,t,e){return n===t?e:n===e?t:n}function Kx(n,t,e){return n==="start"?t:n==="end"?e:n}function ZM(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class lm extends wf{parsePrimitiveData(t,e,i,r){return Yx(t,e,i,r)}parseArrayData(t,e,i,r){return Yx(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:a,vScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?u:h,p=l.axis==="x"?u:h,m=[];let _,y,S,T;for(_=i,y=i+r;_<y;++_)T=e[_],S={},S[a.axis]=a.parse(If(T,f),_),m.push(NE(If(T,p),S,l,_));return m}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,a=this.getParsed(t),l=a._custom,u=v2(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const a=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,r);for(let y=e;y<e+i;y++){const S=this.getParsed(y),T=a||kn(S[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,p),E=(S._stacks||{})[u.axis],D={horizontal:f,base:T.base,enableBorderRadius:!E||v2(S._custom)||l===E._top||l===E._bottom,x:f?T.head:C.center,y:f?C.center:T.head,height:f?C.size:Math.abs(T.size),width:f?Math.abs(T.size):C.size};_&&(D.options=m||this.resolveDataElementOptions(y,t[y].active?"active":r));const j=D.options||t[y].options;QM(D,j,E,l),ZM(D,j,p.ratio),this.updateElement(t[y],y,D,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],f=p=>{const m=p._parsed.find(y=>y[i.axis]===h),_=m&&m[p.vScale.axis];if(kn(_)||isNaN(_))return!0};for(const p of r)if(!(e!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[nn(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),a=e!==void 0?r.indexOf(e):-1;return a===-1?r.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let a,l;for(a=0,l=e.data.length;a<l;++a)r.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=t.barThickness;return{min:u||GM(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(t),f=h._custom,p=v2(f);let m=h[e.axis],_=0,y=i?this.applyStack(e,h,i):m,S,T;y!==m&&(_=y-m,y=m),p&&(m=f.barStart,y=f.barEnd-f.barStart,m!==0&&bl(m)!==bl(f.barEnd)&&(_=0),_+=m);const C=!kn(a)&&!p?a:_;let E=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(_+y):S=E,T=S-E,Math.abs(T)<l){T=KM(T,e,u)*l,m===u&&(E-=T/2);const D=e.getPixelForDecimal(0),j=e.getPixelForDecimal(1),H=Math.min(D,j),K=Math.max(D,j);E=Math.max(Math.min(E,K),H),S=E+T,i&&!p&&(h._stacks[e.axis]._visualValues[r]=e.getValueForPixel(S)-e.getValueForPixel(E))}if(E===e.getPixelForValue(u)){const D=bl(T)*e.getLineWidthForValue(u)/2;E+=D,T-=D}return{size:T,base:E,head:S,center:S+T/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,a=r.skipNull,l=nn(r.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(e.grouped){const p=a?this._getStackCount(t):e.stackCount,m=r.barThickness==="flex"?YM(t,e,r,p*f):WM(t,e,r,p*f),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(nn(_,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+y;u=m.start+m.chunk*S+m.chunk/2,h=Math.min(l,m.chunk*m.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let a=0;for(;a<r;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Be(lm,"id","bar"),Be(lm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Be(lm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class um extends wf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:h}=CD(e,r,l);this._drawStart=u,this._drawCount=h,RD(e)&&(u=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(r,u,h,t)}updateElements(t,e,i,r){const a=r==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(e,r),_=l.axis,y=u.axis,{spanGaps:S,segment:T}=this.options,C=mp(S)?S:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||a||r==="none",D=e+i,j=t.length;let H=e>0&&this.getParsed(e-1);for(let K=0;K<j;++K){const Z=t[K],k=E?Z:{};if(K<e||K>=D){k.skip=!0;continue}const I=this.getParsed(K),B=kn(I[y]),q=k[_]=l.getPixelForValue(I[_],K),L=k[y]=a||B?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,I,h):I[y],K);k.skip=isNaN(q)||isNaN(L)||B,k.stop=K>0&&Math.abs(I[_]-H[_])>C,T&&(k.parsed=I,k.raw=f.data[K]),m&&(k.options=p||this.resolveDataElementOptions(K,Z.active?"active":r)),E||this.updateElement(Z,K,k,r),H=I}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const a=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Be(um,"id","line"),Be(um,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Be(um,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Gc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class By{constructor(t){Be(this,"options");this.options=t||{}}static override(t){Object.assign(By.prototype,t)}init(){}formats(){return Gc()}parse(){return Gc()}format(){return Gc()}add(){return Gc()}diff(){return Gc()}startOf(){return Gc()}endOf(){return Gc()}}var tj={_date:By};function ej(n,t,e,i){const{controller:r,data:a,_sorted:l}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const f=u._reversePixels?SD:th;if(i){if(r._sharedOptions){const p=a[0],m=typeof p.getRange=="function"&&p.getRange(t);if(m){const _=f(a,t,e-m),y=f(a,t,e+m);return{lo:_.lo,hi:y.hi}}}}else{const p=f(a,t,e);if(h){const{vScale:m}=r._cachedMeta,{_parsed:_}=n,y=_.slice(0,p.lo+1).reverse().findIndex(T=>!kn(T[m.axis]));p.lo-=Math.max(0,y);const S=_.slice(p.hi).findIndex(T=>!kn(T[m.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:a.length-1}}function w0(n,t,e,i,r){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=a.length;u<h;++u){const{index:f,data:p}=a[u],{lo:m,hi:_}=ej(a[u],t,l,r);for(let y=m;y<=_;++y){const S=p[y];S.skip||i(S,f,y)}}}function nj(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const a=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function y2(n,t,e,i,r){const a=[];return!r&&!n.isPointInArea(t)||w0(n,e,t,function(u,h,f){!r&&!vp(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function ij(n,t,e,i){let r=[];function a(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:m}=_D(l,{x:t.x,y:t.y});rE(m,f,p)&&r.push({element:l,datasetIndex:u,index:h})}return w0(n,e,t,a),r}function rj(n,t,e,i,r,a){let l=[];const u=nj(e);let h=Number.POSITIVE_INFINITY;function f(p,m,_){const y=p.inRange(t.x,t.y,r);if(i&&!y)return;const S=p.getCenterPoint(r);if(!(!!a||n.isPointInArea(S))&&!y)return;const C=u(t,S);C<h?(l=[{element:p,datasetIndex:m,index:_}],h=C):C===h&&l.push({element:p,datasetIndex:m,index:_})}return w0(n,e,t,f),l}function b2(n,t,e,i,r,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?ij(n,t,e,r):rj(n,t,e,i,r,a)}function Xx(n,t,e,i,r){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return w0(n,e,t,(h,f,p)=>{h[l]&&h[l](t[e],r)&&(a.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(t.x,t.y,r))}),i&&!u?[]:a}var sj={modes:{index(n,t,e,i){const r=$c(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?y2(n,r,a,i,l):b2(n,r,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,m=f.data[p];m&&!m.skip&&h.push({element:m,datasetIndex:f.index,index:p})}),h):[]},dataset(n,t,e,i){const r=$c(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?y2(n,r,a,i,l):b2(n,r,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(n,t,e,i){const r=$c(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return y2(n,r,a,i,l)},nearest(n,t,e,i){const r=$c(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return b2(n,r,a,e.intersect,i,l)},x(n,t,e,i){const r=$c(t,n);return Xx(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=$c(t,n);return Xx(n,r,"y",e.intersect,i)}}};const CE=["left","top","right","bottom"];function Rd(n,t){return n.filter(e=>e.pos===t)}function Qx(n,t){return n.filter(e=>CE.indexOf(e.pos)===-1&&e.box.axis===t)}function Id(n,t){return n.sort((e,i)=>{const r=t?i:e,a=t?e:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function aj(n){const t=[];let e,i,r,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:u});return t}function oj(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:a}=e;if(!i||!CE.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function lj(n,t){const e=oj(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:h&&t.availableHeight)}return e}function uj(n){const t=aj(n),e=Id(t.filter(f=>f.box.fullSize),!0),i=Id(Rd(t,"left"),!0),r=Id(Rd(t,"right")),a=Id(Rd(t,"top"),!0),l=Id(Rd(t,"bottom")),u=Qx(t,"x"),h=Qx(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:r.concat(h).concat(l).concat(u),chartArea:Rd(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:a.concat(l).concat(u)}}function Jx(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function RE(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function cj(n,t,e,i){const{pos:r,box:a}=e,l=n.maxPadding;if(!vn(r)){e.size&&(n[r]-=e.size);const m=i[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?a.height:a.width),e.size=m.size/m.count,n[r]+=e.size}a.getPadding&&RE(l,a.getPadding());const u=Math.max(0,t.outerWidth-Jx(l,n,"left","right")),h=Math.max(0,t.outerHeight-Jx(l,n,"top","bottom")),f=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:f,other:p}:{same:p,other:f}}function hj(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function fj(n,t){const e=t.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function jd(n,t,e,i){const r=[];let a,l,u,h,f,p;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||t.w,u.height||t.h,fj(u.horizontal,t));const{same:m,other:_}=cj(t,e,u,i);f|=m&&r.length,p=p||_,h.fullSize||r.push(u)}return f&&jd(r,t,e,i)||p}function Ug(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Zx(n,t,e,i){const r=e.padding;let{x:a,y:l}=t;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const m=t.w*p,_=f.size||h.height;gp(f.start)&&(l=f.start),h.fullSize?Ug(h,r.left,l,e.outerWidth-r.right-r.left,_):Ug(h,t.left+f.placed,l,m,_),f.start=l,f.placed+=m,l=h.bottom}else{const m=t.h*p,_=f.size||h.width;gp(f.start)&&(a=f.start),h.fullSize?Ug(h,a,r.top,_,e.outerHeight-r.bottom-r.top):Ug(h,a,t.top+f.placed,_,m),f.start=a,f.placed+=m,a=h.right}}t.x=a,t.y=l}var Ba={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=za(n.options.layout.padding),a=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=uj(n.boxes),h=u.vertical,f=u.horizontal;Vn(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const p=h.reduce((T,C)=>C.box.options&&C.box.options.display===!1?T:T+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},r);RE(_,za(i));const y=Object.assign({maxPadding:_,w:a,h:l,x:r.left,y:r.top},r),S=lj(h.concat(f),m);jd(u.fullSize,y,m,S),jd(h,y,m,S),jd(f,y,m,S)&&jd(h,y,m,S),hj(y),Zx(u.leftAndTop,y,m,S),y.x+=y.w,y.y+=y.h,Zx(u.rightAndBottom,y,m,S),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Vn(u.chartArea,T=>{const C=T.box;Object.assign(C,n.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class IE{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class dj extends IE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const cm="$chartjs",pj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tS=n=>n===null||n==="";function gj(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[cm]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",tS(r)){const a=jx(n,"width");a!==void 0&&(n.width=a)}if(tS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=jx(n,"height");a!==void 0&&(n.height=a)}return n}const LE=yM?{passive:!0}:!1;function mj(n,t,e){n&&n.addEventListener(t,e,LE)}function vj(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,LE)}function yj(n,t){const e=pj[n.type]||n.type,{x:i,y:r}=$c(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Vm(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function bj(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Vm(u.addedNodes,i),l=l&&!Vm(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function _j(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Vm(u.removedNodes,i),l=l&&!Vm(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const bp=new Map;let eS=0;function PE(){const n=window.devicePixelRatio;n!==eS&&(eS=n,bp.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function wj(n,t){bp.size||window.addEventListener("resize",PE),bp.set(n,t)}function xj(n){bp.delete(n),bp.size||window.removeEventListener("resize",PE)}function Sj(n,t,e){const i=n.canvas,r=i&&Fy(i);if(!r)return;const a=lE((u,h)=>{const f=r.clientWidth;e(u,h),f<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(r),wj(n,a),l}function _2(n,t,e){e&&e.disconnect(),t==="resize"&&xj(n)}function Aj(n,t,e){const i=n.canvas,r=lE(a=>{n.ctx!==null&&e(yj(a,n))},n);return mj(i,t,r),r}class Ej extends IE{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(gj(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[cm])return!1;const i=e[cm].initial;["height","width"].forEach(a=>{const l=i[a];kn(l)?e.removeAttribute(a):e.setAttribute(a,l)});const r=i.style||{};return Object.keys(r).forEach(a=>{e.style[a]=r[a]}),e.width=e.width,delete e[cm],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:bj,detach:_j,resize:Sj}[e]||Aj;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:_2,detach:_2,resize:_2}[e]||vj)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return vM(t,e,i,r)}isAttached(t){const e=t&&Fy(t);return!!(e&&e.isConnected)}}function Tj(n){return!jy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?dj:Ej}class xl{constructor(){Be(this,"x");Be(this,"y");Be(this,"active",!1);Be(this,"options");Be(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return mp(this.x)&&mp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}Be(xl,"defaults",{}),Be(xl,"defaultRoutes");function Nj(n,t){const e=n.options.ticks,i=Cj(n),r=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?Ij(t):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>r)return Lj(t,f,a,l/r),f;const p=Rj(a,t,r);if(l>0){let m,_;const y=l>1?Math.round((h-u)/(l-1)):null;for(qg(t,f,p,kn(y)?0:u-y,u),m=0,_=l-1;m<_;m++)qg(t,f,p,a[m],a[m+1]);return qg(t,f,p,h,kn(y)?t.length:h+y),f}return qg(t,f,p),f}function Cj(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function Rj(n,t,e){const i=Pj(n),r=t.length/e;if(!i)return Math.max(r,1);const a=gD(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>r)return h}return Math.max(r,1)}function Ij(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Lj(n,t,e,i){let r=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),r++,a=e[r*i])}function qg(n,t,e,i,r){const a=nn(i,0),l=Math.min(nn(r,n.length),n.length);let u=0,h,f,p;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),p=a;p<0;)u++,p=Math.round(a+u*e);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(n[f]),u++,p=Math.round(a+u*e))}function Pj(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const kj=n=>n==="left"?"right":n==="right"?"left":n,nS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,iS=(n,t)=>Math.min(t||n,n);function rS(n,t){const e=[],i=n.length/t,r=n.length;let a=0;for(;a<r;a+=i)e.push(n[Math.floor(a)]);return e}function Oj(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(h-a,l-h):t===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<t?f:-f,h<a-u||h>l+u)))return h}function Dj(n,t){Vn(n,e=>{const i=e.gc,r=i.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[i[a]];i.splice(0,r)}})}function Ld(n){return n.drawTicks?n.tickLength:0}function sS(n,t){if(!n.display)return 0;const e=cs(n.font,t),i=za(n.padding);return(Qi(n.text)?n.text.length:1)*e.lineHeight+i.height}function Mj(n,t){return wh(n,{scale:t,type:"scale"})}function jj(n,t,e){return wh(n,{tick:e,index:t,type:"tick"})}function Fj(n,t,e){let i=Py(n);return(e&&t!=="right"||!e&&t==="right")&&(i=kj(i)),i}function Bj(n,t,e,i){const{top:r,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:p}=h;let m=0,_,y,S;const T=l-r,C=u-a;if(n.isHorizontal()){if(y=as(i,a,u),vn(e)){const E=Object.keys(e)[0],D=e[E];S=p[E].getPixelForValue(D)+T-t}else e==="center"?S=(f.bottom+f.top)/2+T-t:S=nS(n,e,t);_=u-a}else{if(vn(e)){const E=Object.keys(e)[0],D=e[E];y=p[E].getPixelForValue(D)-C+t}else e==="center"?y=(f.left+f.right)/2-C+t:y=nS(n,e,t);S=as(i,l,r),m=e==="left"?-_o:_o}return{titleX:y,titleY:S,maxWidth:_,rotation:m}}class Hf extends xl{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=sl(t,Number.POSITIVE_INFINITY),e=sl(e,Number.NEGATIVE_INFINITY),i=sl(i,Number.POSITIVE_INFINITY),r=sl(r,Number.NEGATIVE_INFINITY),{min:sl(t,i),max:sl(e,r),minDefined:fs(t),maxDefined:fs(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=r&&e>i?e:i,{min:sl(e,sl(i,e)),max:sl(i,sl(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ai(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=KD(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?rS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Nj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ai(this.options.afterUpdate,[this])}beforeSetDimensions(){ai(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ai(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ai(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ai(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i],a.label=ai(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){ai(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ai(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=iS(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,a=e.maxRotation;let l=r,u,h,f;if(!this._isVisible()||!e.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),m=p.widest.width,_=p.highest.height,y=ga(this.chart.width-m,0,this.maxWidth);u=t.offset?this.maxWidth/i:y/(i-1),m+6>u&&(u=y/(i-(t.offset?.5:1)),h=this.maxHeight-Ld(t.grid)-e.padding-sS(t.title,this.chart.options.font),f=Math.sqrt(m*m+_*_),l=bD(Math.min(Math.asin(ga((p.highest.height+6)/u,-1,1)),Math.asin(ga(h/f,-1,1))-Math.asin(ga(_/f,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ai(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ai(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=sS(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Ld(a)+h):(t.height=this.maxHeight,t.width=Ld(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:m,highest:_}=this._getLabelSizes(),y=i.padding*2,S=Zc(this.labelRotation),T=Math.cos(S),C=Math.sin(S);if(u){const E=i.mirror?0:C*m.width+T*_.height;t.height=Math.min(this.maxHeight,t.height+E+y)}else{const E=i.mirror?0:T*m.width+C*_.height;t.width=Math.min(this.maxWidth,t.width+E+y)}this._calculatePadding(f,p,C,T)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,y=0;h?f?(_=r*t.width,y=i*e.height):(_=i*t.height,y=r*e.width):a==="start"?y=e.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,y=e.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-m+l)*this.width/(this.width-m),0)}else{let p=e.height/2,m=t.height/2;a==="start"?(p=0,m=t.height):a==="end"&&(p=e.height,m=0),this.paddingTop=p+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ai(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)kn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=rS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(e/iS(e,i));let f=0,p=0,m,_,y,S,T,C,E,D,j,H,K;for(m=0;m<e;m+=h){if(S=t[m].label,T=this._resolveTickFontOptions(m),r.font=C=T.string,E=a[C]=a[C]||{data:{},gc:[]},D=T.lineHeight,j=H=0,!kn(S)&&!Qi(S))j=Px(r,E.data,E.gc,j,S),H=D;else if(Qi(S))for(_=0,y=S.length;_<y;++_)K=S[_],!kn(K)&&!Qi(K)&&(j=Px(r,E.data,E.gc,j,K),H+=D);l.push(j),u.push(H),f=Math.max(j,f),p=Math.max(H,p)}Dj(a,e);const Z=l.indexOf(f),k=u.indexOf(p),I=B=>({width:l[B]||0,height:u[B]||0});return{first:I(0),last:I(e-1),widest:I(Z),highest:I(k),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return xD(this._alignToPixels?Hc(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=jj(this.getContext(),t,i))}return this.$context||(this.$context=Mj(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Zc(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:a,position:l,border:u}=r,h=a.offset,f=this.isHorizontal(),m=this.ticks.length+(h?1:0),_=Ld(a),y=[],S=u.setContext(this.getContext()),T=S.display?S.width:0,C=T/2,E=function($){return Hc(i,$,T)};let D,j,H,K,Z,k,I,B,q,L,P,z;if(l==="top")D=E(this.bottom),k=this.bottom-_,B=D-C,L=E(t.top)+C,z=t.bottom;else if(l==="bottom")D=E(this.top),L=t.top,z=E(t.bottom)-C,k=D+C,B=this.top+_;else if(l==="left")D=E(this.right),Z=this.right-_,I=D-C,q=E(t.left)+C,P=t.right;else if(l==="right")D=E(this.left),q=t.left,P=E(t.right)-C,Z=D+C,I=this.left+_;else if(e==="x"){if(l==="center")D=E((t.top+t.bottom)/2+.5);else if(vn(l)){const $=Object.keys(l)[0],J=l[$];D=E(this.chart.scales[$].getPixelForValue(J))}L=t.top,z=t.bottom,k=D+C,B=k+_}else if(e==="y"){if(l==="center")D=E((t.left+t.right)/2);else if(vn(l)){const $=Object.keys(l)[0],J=l[$];D=E(this.chart.scales[$].getPixelForValue(J))}Z=D-C,I=Z-_,q=t.left,P=t.right}const ot=nn(r.ticks.maxTicksLimit,m),mt=Math.max(1,Math.ceil(m/ot));for(j=0;j<m;j+=mt){const $=this.getContext(j),J=a.setContext($),et=u.setContext($),ut=J.lineWidth,pt=J.color,tt=et.dash||[],M=et.dashOffset,Y=J.tickWidth,nt=J.tickColor,lt=J.tickBorderDash||[],ht=J.tickBorderDashOffset;H=Oj(this,j,h),H!==void 0&&(K=Hc(i,H,ut),f?Z=I=q=P=K:k=B=L=z=K,y.push({tx1:Z,ty1:k,tx2:I,ty2:B,x1:q,y1:L,x2:P,y2:z,width:ut,color:pt,borderDash:tt,borderDashOffset:M,tickWidth:Y,tickColor:nt,tickBorderDash:lt,tickBorderDashOffset:ht}))}return this._ticksLength=m,this._borderValue=D,y}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:m}=a,_=Ld(i.grid),y=_+p,S=m?-p:y,T=-Zc(this.labelRotation),C=[];let E,D,j,H,K,Z,k,I,B,q,L,P,z="middle";if(r==="top")Z=this.bottom-S,k=this._getXAxisLabelAlignment();else if(r==="bottom")Z=this.top+S,k=this._getXAxisLabelAlignment();else if(r==="left"){const mt=this._getYAxisLabelAlignment(_);k=mt.textAlign,K=mt.x}else if(r==="right"){const mt=this._getYAxisLabelAlignment(_);k=mt.textAlign,K=mt.x}else if(e==="x"){if(r==="center")Z=(t.top+t.bottom)/2+y;else if(vn(r)){const mt=Object.keys(r)[0],$=r[mt];Z=this.chart.scales[mt].getPixelForValue($)+y}k=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")K=(t.left+t.right)/2-y;else if(vn(r)){const mt=Object.keys(r)[0],$=r[mt];K=this.chart.scales[mt].getPixelForValue($)}k=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(h==="start"?z="top":h==="end"&&(z="bottom"));const ot=this._getLabelSizes();for(E=0,D=u.length;E<D;++E){j=u[E],H=j.label;const mt=a.setContext(this.getContext(E));I=this.getPixelForTick(E)+a.labelOffset,B=this._resolveTickFontOptions(E),q=B.lineHeight,L=Qi(H)?H.length:1;const $=L/2,J=mt.color,et=mt.textStrokeColor,ut=mt.textStrokeWidth;let pt=k;l?(K=I,k==="inner"&&(E===D-1?pt=this.options.reverse?"left":"right":E===0?pt=this.options.reverse?"right":"left":pt="center"),r==="top"?f==="near"||T!==0?P=-L*q+q/2:f==="center"?P=-ot.highest.height/2-$*q+q:P=-ot.highest.height+q/2:f==="near"||T!==0?P=q/2:f==="center"?P=ot.highest.height/2-$*q:P=ot.highest.height-L*q,m&&(P*=-1),T!==0&&!mt.showLabelBackdrop&&(K+=q/2*Math.sin(T))):(Z=I,P=(1-L)*q/2);let tt;if(mt.showLabelBackdrop){const M=za(mt.backdropPadding),Y=ot.heights[E],nt=ot.widths[E];let lt=P-M.top,ht=0-M.left;switch(z){case"middle":lt-=Y/2;break;case"bottom":lt-=Y;break}switch(k){case"center":ht-=nt/2;break;case"right":ht-=nt;break;case"inner":E===D-1?ht-=nt:E>0&&(ht-=nt/2);break}tt={left:ht,top:lt,width:nt+M.width,height:Y+M.height,color:mt.backdropColor}}C.push({label:H,font:B,textOffset:P,options:{rotation:T,color:J,strokeColor:et,strokeWidth:ut,textAlign:pt,textBaseline:z,translation:[K,Z],backdrop:tt}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Zc(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,h=l.widest.width;let f,p;return e==="left"?r?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=r.length;a<l;++a){const h=r[a];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,m,_;this.isHorizontal()?(f=Hc(t,this.left,l)-l/2,p=Hc(t,this.right,u)+u/2,m=_=h):(m=Hc(t,this.top,l)-l/2,_=Hc(t,this.bottom,u)+u/2,f=p=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(f,m),e.lineTo(p,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&y0(i,r);const a=this.getLabelItems(t);for(const l of a){const u=l.options,h=l.font,f=l.label,p=l.textOffset;yp(i,f,0,p,h,u)}r&&b0(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const a=cs(i.font),l=za(i.padding),u=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||vn(e)?(h+=l.bottom,Qi(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:m,rotation:_}=Bj(this,h,e,u);yp(t,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:_,textAlign:Fj(u,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=nn(t.grid&&t.grid.z,-1),r=nn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Hf.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return cs(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hg{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Uj(e)&&(i=this.register(e));const r=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,Vj(t,l,i),this.override&&Mi.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Mi[r]&&(delete Mi[r][i],this.override&&delete dh[i])}}function Vj(n,t,e){const i=pp(Object.create(null),[e?Mi.get(e):{},Mi.get(t),n.defaults]);Mi.set(t,i),n.defaultRoutes&&zj(t,n.defaultRoutes),n.descriptors&&Mi.describe(t,n.descriptors)}function zj(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");Mi.route(a,r,h,u)})}function Uj(n){return"id"in n&&"defaults"in n}class qj{constructor(){this.controllers=new Hg(wf,"datasets",!0),this.elements=new Hg(xl,"elements"),this.plugins=new Hg(Object,"plugins"),this.scales=new Hg(Hf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):Vn(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=Iy(t);ai(i["before"+r],[],i),e[t](i),ai(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var ll=new qj;class Hj{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const a of t){const l=a.plugin,u=l[i],h=[e,r,a.options];if(ai(u,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){kn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=nn(i.options&&i.options.plugins,{}),a=Gj(i);return r===!1&&!e?[]:Yj(t,a,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Gj(n){const t={},e=[],i=Object.keys(ll.plugins.items);for(let a=0;a<i.length;a++)e.push(ll.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function Wj(n,t){return!t&&n===!1?null:n===!0?{}:n}function Yj(n,{plugins:t,localIds:e},i,r){const a=[],l=n.getContext();for(const u of t){const h=u.id,f=Wj(i[h],r);f!==null&&a.push({plugin:u,options:$j(n.config,{plugin:u,local:e[h]},f,l)})}return a}function $j(n,{plugin:t,local:e},i,r){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gv(n,t){const e=Mi.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Kj(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Xj(n,t){return n===t?"_index_":"_value_"}function aS(n){if(n==="x"||n==="y"||n==="r")return n}function Qj(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function mv(n,...t){if(aS(n))return n;for(const e of t){const i=e.axis||Qj(e.position)||n.length>1&&aS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function oS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Jj(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return oS(n,"x",e[0])||oS(n,"y",e[0])}return{}}function Zj(n,t){const e=dh[n.type]||{scales:{}},i=t.scales||{},r=gv(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!vn(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=mv(l,u,Jj(l,n),Mi.scales[u.type]),f=Xj(h,r),p=e.scales||{};a[l]=Xd(Object.create(null),[{axis:h},u,p[h],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||gv(u,t),p=(dh[u]||{}).scales||{};Object.keys(p).forEach(m=>{const _=Kj(m,h),y=l[_+"AxisID"]||_;a[y]=a[y]||Object.create(null),Xd(a[y],[{axis:_},i[y],p[m]])})}),Object.keys(a).forEach(l=>{const u=a[l];Xd(u,[Mi.scales[u.type],Mi.scale])}),a}function kE(n){const t=n.options||(n.options={});t.plugins=nn(t.plugins,{}),t.scales=Zj(n,t)}function OE(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function t9(n){return n=n||{},n.data=OE(n.data),kE(n),n}const lS=new Map,DE=new Set;function Gg(n,t){let e=lS.get(n);return e||(e=t(),lS.set(n,e),DE.add(e)),e}const Pd=(n,t,e)=>{const i=If(t,e);i!==void 0&&n.add(i)};class e9{constructor(t){this._config=t9(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=OE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),kE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Gg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Gg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Gg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const h=new Set;e.forEach(p=>{t&&(h.add(t),p.forEach(m=>Pd(h,t,m))),p.forEach(m=>Pd(h,r,m)),p.forEach(m=>Pd(h,dh[a]||{},m)),p.forEach(m=>Pd(h,Mi,m)),p.forEach(m=>Pd(h,dv,m))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),DE.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,dh[e]||{},Mi.datasets[e]||{},{type:e},Mi,dv]}resolveNamedOptions(t,e,i,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=uS(this._resolverCache,t,r);let h=l;if(i9(l,e)){a.$shared=!1,i=Tc(i)?i():i;const f=this.createResolver(t,i,u);h=Lf(l,i,f)}for(const f of e)a[f]=h[f];return a}createResolver(t,e,i=[""],r){const{resolver:a}=uS(this._resolverCache,t,i);return vn(e)?Lf(a,e,void 0,r):a}}function uS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let a=i.get(r);return a||(a={resolver:Oy(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,a)),a}const n9=n=>vn(n)&&Object.getOwnPropertyNames(n).some(t=>Tc(n[t]));function i9(n,t){const{isScriptable:e,isIndexable:i}=pE(n);for(const r of t){const a=e(r),l=i(r),u=(l||a)&&n[r];if(a&&(Tc(u)||n9(u))||l&&Qi(u))return!0}return!1}var r9="4.5.1";const s9=["top","bottom","left","right","chartArea"];function cS(n,t){return n==="top"||n==="bottom"||s9.indexOf(n)===-1&&t==="x"}function hS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function fS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ai(e&&e.onComplete,[n],t)}function a9(n){const t=n.chart,e=t.options.animation;ai(e&&e.onProgress,[n],t)}function ME(n){return jy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const hm={},dS=n=>{const t=ME(n);return Object.values(hm).filter(e=>e.canvas===t).pop()};function o9(n,t,e){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=t){const l=n[r];delete n[r],(e>0||a>t)&&(n[a+e]=l)}}}function l9(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var Xu;let kp=(Xu=class{static register(...t){ll.add(...t),pS()}static unregister(...t){ll.remove(...t),pS()}constructor(t,e){const i=this.config=new e9(e),r=ME(t),a=dS(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Tj(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=aD(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Hj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TD(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],hm[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Zl.listen(this,"complete",fS),Zl.listen(this,"progress",a9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:a}=this;return kn(t)?e&&a?a:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ll}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Mx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kx(this.canvas,this.ctx),this}stop(){return Zl.stop(this),this}resize(t,e){Zl.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Mx(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ai(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Vn(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],h=mv(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Vn(a,l=>{const u=l.options,h=u.id,f=mv(h,u),p=nn(u.type,l.dtype);(u.position===void 0||cS(u.position,f)!==cS(l.dposition))&&(u.position=l.dposition),r[h]=!0;let m=null;if(h in i&&i[h].type===p)m=i[h];else{const _=ll.getScale(p);m=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(u,t)}),Vn(r,(l,u)=>{l||delete i[u]}),Vn(i,l=>{Ba.configure(this,l,l.options),Ba.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,a)=>r.index-a.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(hS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||gv(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=ll.getController(u),{datasetElementType:f,dataElementType:p}=Mi.datasets[u];Object.assign(h,{dataElementType:ll.getElement(p),datasetElementType:f&&ll.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Vn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:m}=this.getDatasetMeta(f),_=!r&&a.indexOf(m)===-1;m.buildOrUpdateElements(_),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||Vn(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(hS("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Vn(this.scales,t=>{Ba.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Sx(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of e){const l=i==="_removeElements"?-a:a;o9(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let a=1;a<e;a++)if(!Sx(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ba.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Vn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Tc(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zl.has(this)?this.attached&&!Zl.running(this)&&Zl.start(this):(this.draw(),fS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,a;for(r=0,a=e.length;r<a;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=AE(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&y0(e,r),t.controller.draw(),r&&b0(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return vp(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const a=sj.modes[e];return typeof a=="function"?a(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(a=>a&&a._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=wh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,r);gp(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Zl.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),kx(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete hm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},r=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Vn(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,f)=>{e.addEventListener(this,h,f),t[h]=f},r=(h,f)=>{t[h]&&(e.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Vn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Vn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let a,l,u,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Dm(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:a}=this,l=e,u=this._getActiveElements(t,r,i,l),h=fD(t),f=l9(t,this._lastEvent,i,h);i&&(this._lastEvent=null,ai(a.onHover,[t,u,this],this),h&&ai(a.onClick,[t,u,this],this));const p=!Dm(u,r);return(p||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}},Be(Xu,"defaults",Mi),Be(Xu,"instances",hm),Be(Xu,"overrides",dh),Be(Xu,"registry",ll),Be(Xu,"version",r9),Be(Xu,"getChart",dS),Xu);function pS(){return Vn(kp.instances,n=>n._plugins.invalidate())}function jE(n,t,e=t){n.lineCap=nn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(nn(e.borderDash,t.borderDash)),n.lineDashOffset=nn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=nn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=nn(e.borderWidth,t.borderWidth),n.strokeStyle=nn(e.borderColor,t.borderColor)}function u9(n,t,e){n.lineTo(e.x,e.y)}function c9(n){return n.stepped?VD:n.tension||n.cubicInterpolationMode==="monotone"?zD:u9}function FE(n,t,e={}){const i=n.length,{start:r=0,end:a=i-1}=e,{start:l,end:u}=t,h=Math.max(r,l),f=Math.min(a,u),p=r<l&&a<l||r>u&&a>u;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function h9(n,t,e,i){const{points:r,options:a}=t,{count:l,start:u,loop:h,ilen:f}=FE(r,e,i),p=c9(a);let{move:m=!0,reverse:_}=i||{},y,S,T;for(y=0;y<=f;++y)S=r[(u+(_?f-y:y))%l],!S.skip&&(m?(n.moveTo(S.x,S.y),m=!1):p(n,T,S,_,a.stepped),T=S);return h&&(S=r[(u+(_?f:0))%l],p(n,T,S,_,a.stepped)),!!h}function f9(n,t,e,i){const r=t.points,{count:a,start:l,ilen:u}=FE(r,e,i),{move:h=!0,reverse:f}=i||{};let p=0,m=0,_,y,S,T,C,E;const D=H=>(l+(f?u-H:H))%a,j=()=>{T!==C&&(n.lineTo(p,C),n.lineTo(p,T),n.lineTo(p,E))};for(h&&(y=r[D(0)],n.moveTo(y.x,y.y)),_=0;_<=u;++_){if(y=r[D(_)],y.skip)continue;const H=y.x,K=y.y,Z=H|0;Z===S?(K<T?T=K:K>C&&(C=K),p=(m*p+H)/++m):(j(),n.lineTo(H,K),S=Z,m=0,T=C=K),E=K}j()}function vv(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?f9:h9}function d9(n){return n.stepped?bM:n.tension||n.cubicInterpolationMode==="monotone"?_M:Kc}function p9(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),jE(n,t.options),n.stroke(r)}function g9(n,t,e,i){const{segments:r,options:a}=t,l=vv(t);for(const u of r)jE(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const m9=typeof Path2D=="function";function v9(n,t,e,i){m9&&!t.options.segment?p9(n,t,e,i):g9(n,t,e,i)}class oc extends xl{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;hM(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=TM(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],a=this.points,l=SE(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],h=d9(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:m,end:_}=l[f],y=a[m],S=a[_];if(y===S){u.push(y);continue}const T=Math.abs((r-y[e])/(S[e]-y[e])),C=h(y,S,T,i.stepped);C[e]=t[e],u.push(C)}return u.length===1?u[0]:u}pathSegment(t,e,i){return vv(this)(t,this,e,i)}path(t,e,i){const r=this.segments,a=vv(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=a(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),v9(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Be(oc,"id","line"),Be(oc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Be(oc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Be(oc,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function gS(n,t,e,i){const r=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<r.radius+r.hitRadius}class fm extends xl{constructor(e){super();Be(this,"parsed");Be(this,"skip");Be(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const a=this.options,{x:l,y:u}=this.getProps(["x","y"],r);return Math.pow(e-l,2)+Math.pow(i-u,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return gS(this,e,"x",i)}inYRange(e,i){return gS(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!vp(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,pv(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Be(fm,"id","point"),Be(fm,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Be(fm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function BE(n,t){const{x:e,y:i,base:r,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let u,h,f,p,m;return n.horizontal?(m=l/2,u=Math.min(e,r),h=Math.max(e,r),f=i-m,p=i+m):(m=a/2,u=e-m,h=e+m,f=Math.min(i,r),p=Math.max(i,r)),{left:u,top:f,right:h,bottom:p}}function lc(n,t,e,i){return n?0:ga(t,e,i)}function y9(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,a=dE(i);return{t:lc(r.top,a.top,0,e),r:lc(r.right,a.right,0,t),b:lc(r.bottom,a.bottom,0,e),l:lc(r.left,a.left,0,t)}}function b9(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,a=bf(r),l=Math.min(t,e),u=n.borderSkipped,h=i||vn(r);return{topLeft:lc(!h||u.top||u.left,a.topLeft,0,l),topRight:lc(!h||u.top||u.right,a.topRight,0,l),bottomLeft:lc(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:lc(!h||u.bottom||u.right,a.bottomRight,0,l)}}function _9(n){const t=BE(n),e=t.right-t.left,i=t.bottom-t.top,r=y9(n,e/2,i/2),a=b9(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function w2(n,t,e,i){const r=t===null,a=e===null,u=n&&!(r&&a)&&BE(n,i);return u&&(r||sc(t,u.left,u.right))&&(a||sc(e,u.top,u.bottom))}function w9(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function x9(n,t){n.rect(t.x,t.y,t.w,t.h)}function x2(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+a,h:n.h+l,radius:n.radius}}class dm extends xl{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:a,outer:l}=_9(this),u=w9(l.radius)?Fm:x9;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),u(t,x2(l,e,a)),t.clip(),u(t,x2(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,x2(a,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return w2(this,t,e,i)}inXRange(t,e){return w2(this,t,null,e)}inYRange(t,e){return w2(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+r)/2:e,y:a?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Be(dm,"id","bar"),Be(dm,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Be(dm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function S9(n,t,e){const i=n.segments,r=n.points,a=t.points,l=[];for(const u of i){let{start:h,end:f}=u;f=x0(h,f,r);const p=yv(e,r[h],r[f],u.loop);if(!t.segments){l.push({source:u,target:p,start:r[h],end:r[f]});continue}const m=SE(t,p);for(const _ of m){const y=yv(e,a[_.start],a[_.end],_.loop),S=xE(u,r,y);for(const T of S)l.push({source:T,target:_,start:{[e]:mS(p,y,"start",Math.max)},end:{[e]:mS(p,y,"end",Math.min)}})}}return l}function yv(n,t,e,i){if(i)return;let r=t[n],a=e[n];return n==="angle"&&(r=cl(r),a=cl(a)),{property:n,start:r,end:a}}function A9(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,a=[];return t.segments.forEach(({start:l,end:u})=>{u=x0(l,u,r);const h=r[l],f=r[u];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:f.y}))}),a}function x0(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function mS(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function VE(n,t){let e=[],i=!1;return Qi(n)?(i=!0,e=n):e=A9(n,t),e.length?new oc({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function vS(n){return n&&n.fill!==!1}function E9(n,t,e){let r=n[t].fill;const a=[t];let l;if(!e)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!fs(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;a.push(r),r=l.fill}return!1}function T9(n,t,e){const i=I9(n);if(vn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return fs(r)&&Math.floor(r)===r?N9(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function N9(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function C9(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:vn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function R9(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:vn(n)?i=n.value:i=t.getBaseValue(),i}function I9(n){const t=n.options,e=t.fill;let i=nn(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function L9(n){const{scale:t,index:e,line:i}=n,r=[],a=i.segments,l=i.points,u=P9(t,e);u.push(VE({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let p=f.start;p<=f.end;p++)k9(r,l[p],u)}return new oc({points:r,options:{}})}function P9(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const a=i[r];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function k9(n,t,e){const i=[];for(let r=0;r<e.length;r++){const a=e[r],{first:l,last:u,point:h}=O9(a,t,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function O9(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],a=n.segments,l=n.points;let u=!1,h=!1;for(let f=0;f<a.length;f++){const p=a[f],m=l[p.start][e],_=l[p.end][e];if(sc(r,m,_)){u=r===m,h=r===_;break}}return{first:u,last:h,point:i}}class zE{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:a,radius:l}=this;return e=e||{start:0,end:xo},t.arc(r,a,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,a=t.angle;return{x:e+Math.cos(a)*r,y:i+Math.sin(a)*r,angle:a}}}function D9(n){const{chart:t,fill:e,line:i}=n;if(fs(e))return M9(t,e);if(e==="stack")return L9(n);if(e==="shape")return!0;const r=j9(n);return r instanceof zE?r:VE(r,i)}function M9(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function j9(n){return(n.scale||{}).getPointPositionForValue?B9(n):F9(n)}function F9(n){const{scale:t={},fill:e}=n,i=C9(e,t);if(fs(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function B9(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,a=i.reverse?t.max:t.min,l=R9(e,t,a),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new zE({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<r;++h)u.push(t.getPointPositionForValue(h,l));return u}function S2(n,t,e){const i=D9(t),{chart:r,index:a,line:l,scale:u,axis:h}=t,f=l.options,p=f.fill,m=f.backgroundColor,{above:_=m,below:y=m}=p||{},S=r.getDatasetMeta(a),T=AE(r,S);i&&l.points.length&&(y0(n,e),V9(n,{line:l,target:i,above:_,below:y,area:e,scale:u,axis:h,clip:T}),b0(n))}function V9(n,t){const{line:e,target:i,above:r,below:a,area:l,scale:u,clip:h}=t,f=e._loop?"angle":t.axis;n.save();let p=a;a!==r&&(f==="x"?(yS(n,i,l.top),A2(n,{line:e,target:i,color:r,scale:u,property:f,clip:h}),n.restore(),n.save(),yS(n,i,l.bottom)):f==="y"&&(bS(n,i,l.left),A2(n,{line:e,target:i,color:a,scale:u,property:f,clip:h}),n.restore(),n.save(),bS(n,i,l.right),p=r)),A2(n,{line:e,target:i,color:p,scale:u,property:f,clip:h}),n.restore()}function yS(n,t,e){const{segments:i,points:r}=t;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,p=r[h],m=r[x0(h,f,r)];a?(n.moveTo(p.x,p.y),a=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(m.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function bS(n,t,e){const{segments:i,points:r}=t;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,p=r[h],m=r[x0(h,f,r)];a?(n.moveTo(p.x,p.y),a=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,m.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function A2(n,t){const{line:e,target:i,property:r,color:a,scale:l,clip:u}=t,h=S9(e,i,r);for(const{source:f,target:p,start:m,end:_}of h){const{style:{backgroundColor:y=a}={}}=f,S=i!==!0;n.save(),n.fillStyle=y,z9(n,l,u,S&&yv(r,m,_)),n.beginPath();const T=!!e.pathSegment(n,f);let C;if(S){T?n.closePath():_S(n,i,_,r);const E=!!i.pathSegment(n,p,{move:T,reverse:!0});C=T&&E,C||_S(n,i,m,r)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function z9(n,t,e,i){const r=t.chart.chartArea,{property:a,start:l,end:u}=i||{};if(a==="x"||a==="y"){let h,f,p,m;a==="x"?(h=l,f=r.top,p=u,m=r.bottom):(h=r.left,f=l,p=r.right,m=u),n.beginPath(),e&&(h=Math.max(h,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),m=Math.min(m,e.bottom)),n.rect(h,f,p-h,m-f),n.clip()}}function _S(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var U9={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let a,l,u,h;for(l=0;l<i;++l)a=n.getDatasetMeta(l),u=a.dataset,h=null,u&&u.options&&u instanceof oc&&(h={visible:n.isDatasetVisible(l),index:l,fill:T9(u,l,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=h,r.push(h);for(l=0;l<i;++l)h=r[l],!(!h||h.fill===!1)&&(h.fill=E9(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),i&&u.fill&&S2(n.ctx,u,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;vS(a)&&S2(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!vS(i)||e.drawTime!=="beforeDatasetDraw"||S2(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},q9=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class xS extends xl{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ai(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=cs(i.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=wS(i,a);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let m=t;a.textAlign="left",a.textBaseline="middle";let _=-1,y=-p;return this.legendItems.forEach((S,T)=>{const C=i+e/2+a.measureText(S.text).width;(T===0||f[f.length-1]+C+2*u>l)&&(m+=p,f[f.length-(T>0?0:1)]=0,y+=p,_++),h[T]={left:0,top:y,row:_,width:C,height:r},f[f.length-1]+=C+u}),m}_fitCols(t,e,i,r){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let m=u,_=0,y=0,S=0,T=0;return this.legendItems.forEach((C,E)=>{const{itemWidth:D,itemHeight:j}=H9(i,e,a,C,r);E>0&&y+j+2*u>p&&(m+=_+u,f.push({width:_,height:y}),S+=_+u,T++,_=y=0),h[E]={left:S,top:y,col:T,width:D,height:j},_=Math.max(_,D),y+=j+u}),m+=_,f.push({width:_,height:y}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:a}}=this,l=_f(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=as(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,h=as(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+r}else{let u=0,h=as(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,h=as(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;y0(t,this),this._draw(),b0(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:a,labels:l}=t,u=Mi.color,h=_f(t.rtl,this.left,this.width),f=cs(l.font),{padding:p}=l,m=f.size,_=m/2;let y;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:T,itemHeight:C}=wS(l,m),E=function(Z,k,I){if(isNaN(S)||S<=0||isNaN(T)||T<0)return;r.save();const B=nn(I.lineWidth,1);if(r.fillStyle=nn(I.fillStyle,u),r.lineCap=nn(I.lineCap,"butt"),r.lineDashOffset=nn(I.lineDashOffset,0),r.lineJoin=nn(I.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=nn(I.strokeStyle,u),r.setLineDash(nn(I.lineDash,[])),l.usePointStyle){const q={radius:T*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:B},L=h.xPlus(Z,S/2),P=k+_;hE(r,q,L,P,l.pointStyleWidth&&S)}else{const q=k+Math.max((m-T)/2,0),L=h.leftForLtr(Z,S),P=bf(I.borderRadius);r.beginPath(),Object.values(P).some(z=>z!==0)?Fm(r,{x:L,y:q,w:S,h:T,radius:P}):r.rect(L,q,S,T),r.fill(),B!==0&&r.stroke()}r.restore()},D=function(Z,k,I){yp(r,I.text,Z,k+C/2,f,{strikethrough:I.hidden,textAlign:h.textAlign(I.textAlign)})},j=this.isHorizontal(),H=this._computeTitleHeight();j?y={x:as(a,this.left+p,this.right-i[0]),y:this.top+p+H,line:0}:y={x:this.left+p,y:as(a,this.top+H+p,this.bottom-e[0].height),line:0},bE(this.ctx,t.textDirection);const K=C+p;this.legendItems.forEach((Z,k)=>{r.strokeStyle=Z.fontColor,r.fillStyle=Z.fontColor;const I=r.measureText(Z.text).width,B=h.textAlign(Z.textAlign||(Z.textAlign=l.textAlign)),q=S+_+I;let L=y.x,P=y.y;h.setWidth(this.width),j?k>0&&L+q+p>this.right&&(P=y.y+=K,y.line++,L=y.x=as(a,this.left+p,this.right-i[y.line])):k>0&&P+K>this.bottom&&(L=y.x=L+e[y.line].width+p,y.line++,P=y.y=as(a,this.top+H+p,this.bottom-e[y.line].height));const z=h.x(L);if(E(z,P,Z),L=ND(B,L+S+_,j?L+q:this.right,t.rtl),D(h.x(L),P,Z),j)y.x+=q+p;else if(typeof Z.text!="string"){const ot=f.lineHeight;y.y+=UE(Z,ot)+p}else y.y+=K}),_E(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=cs(e.font),r=za(e.padding);if(!e.display)return;const a=_f(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=i.size/2,f=r.top+h;let p,m=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,m=as(t.align,m,this.right-_);else{const S=this.columnSizes.reduce((T,C)=>Math.max(T,C.height),0);p=f+as(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const y=as(u,m,m+_);l.textAlign=a.textAlign(Py(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,yp(l,e.text,y,p,i)}_computeTitleHeight(){const t=this.options.title,e=cs(t.font),i=za(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,a;if(sc(t,this.left,this.right)&&sc(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],sc(t,r.left,r.left+r.width)&&sc(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!Y9(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,a=q9(r,i);r&&!a&&ai(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!a&&ai(e.onHover,[t,i,this],this)}else i&&ai(e.onClick,[t,i,this],this)}}function H9(n,t,e,i,r){const a=G9(i,n,t,e),l=W9(r,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function G9(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(r).width}function W9(n,t,e){let i=n;return typeof t.text!="string"&&(i=UE(t,e)),i}function UE(n,t){const e=n.text?n.text.length:0;return t*e}function Y9(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var qE={id:"legend",_element:xS,start(n,t,e){const i=n.legend=new xS({ctx:n.ctx,options:e,chart:n});Ba.configure(n,i,e),Ba.addBox(n,i)},stop(n){Ba.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ba.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(e?0:void 0),p=za(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class HE extends xl{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Qi(i.text)?i.text.length:1;this._padding=za(i.padding);const a=r*cs(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:a,options:l}=this,u=l.align;let h=0,f,p,m;return this.isHorizontal()?(p=as(u,i,a),m=e+t,f=a-i):(l.position==="left"?(p=i+t,m=as(u,r,e),h=Tr*-.5):(p=a-t,m=as(u,e,r),h=Tr*.5),f=r-e),{titleX:p,titleY:m,maxWidth:f,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=cs(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(a);yp(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:f,textAlign:Py(e.align),textBaseline:"middle",translation:[l,u]})}}function $9(n,t){const e=new HE({ctx:n.ctx,options:t,chart:n});Ba.configure(n,e,t),Ba.addBox(n,e),n.titleBlock=e}var GE={id:"title",_element:HE,start(n,t,e){$9(n,e)},stop(n){const t=n.titleBlock;Ba.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ba.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fd={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=fv(t,f);p<r&&(r=p,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function ol(n,t){return t&&(Qi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function tu(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function K9(n,t){const{element:e,datasetIndex:i,index:r}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(r);return{chart:n,label:l,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function SS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:l,boxHeight:u}=t,h=cs(t.bodyFont),f=cs(t.titleFont),p=cs(t.footerFont),m=a.length,_=r.length,y=i.length,S=za(t.padding);let T=S.height,C=0,E=i.reduce((H,K)=>H+K.before.length+K.lines.length+K.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,m&&(T+=m*f.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),E){const H=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;T+=y*H+(E-y)*h.lineHeight+(E-1)*t.bodySpacing}_&&(T+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let D=0;const j=function(H){C=Math.max(C,e.measureText(H).width+D)};return e.save(),e.font=f.string,Vn(n.title,j),e.font=h.string,Vn(n.beforeBody.concat(n.afterBody),j),D=t.displayColors?l+2+t.boxPadding:0,Vn(i,H=>{Vn(H.before,j),Vn(H.lines,j),Vn(H.after,j)}),D=0,e.font=p.string,Vn(n.footer,j),e.restore(),C+=S.width,{width:C,height:T}}function X9(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Q9(n,t,e,i){const{x:r,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+a+l>t.width||n==="right"&&r-a-l<0)return!0}function J9(n,t,e,i){const{x:r,width:a}=e,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=r<=(u+h)/2?"left":"right":r<=a/2?f="left":r>=l-a/2&&(f="right"),Q9(f,n,t,e)&&(f="center"),f}function AS(n,t,e){const i=e.yAlign||t.yAlign||X9(n,e);return{xAlign:e.xAlign||t.xAlign||J9(n,t,e,i),yAlign:i}}function Z9(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function tF(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function ES(n,t,e,i){const{caretSize:r,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,f=r+a,{topLeft:p,topRight:m,bottomLeft:_,bottomRight:y}=bf(l);let S=Z9(t,u);const T=tF(t,h,f);return h==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,_)+r:u==="right"&&(S+=Math.max(m,y)+r),{x:ga(S,0,i.width-t.width),y:ga(T,0,i.height-t.height)}}function Wg(n,t,e){const i=za(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function TS(n){return ol([],tu(n))}function eF(n,t,e){return wh(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function NS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const WE={beforeTitle:Jl,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Jl,beforeBody:Jl,beforeLabel:Jl,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return kn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Jl,afterBody:Jl,beforeFooter:Jl,footer:Jl,afterFooter:Jl};function qs(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?WE[t].call(e,i):r}class bv extends xl{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,a=new EE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=eF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=qs(i,"beforeTitle",this,t),a=qs(i,"title",this,t),l=qs(i,"afterTitle",this,t);let u=[];return u=ol(u,tu(r)),u=ol(u,tu(a)),u=ol(u,tu(l)),u}getBeforeBody(t,e){return TS(qs(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Vn(t,a=>{const l={before:[],lines:[],after:[]},u=NS(i,a);ol(l.before,tu(qs(u,"beforeLabel",this,a))),ol(l.lines,qs(u,"label",this,a)),ol(l.after,tu(qs(u,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(t,e){return TS(qs(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=qs(i,"beforeFooter",this,t),a=qs(i,"footer",this,t),l=qs(i,"afterFooter",this,t);let u=[];return u=ol(u,tu(r)),u=ol(u,tu(a)),u=ol(u,tu(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],a=[],l=[];let u=[],h,f;for(h=0,f=e.length;h<f;++h)u.push(K9(this.chart,e[h]));return t.filter&&(u=u.filter((p,m,_)=>t.filter(p,m,_,i))),t.itemSort&&(u=u.sort((p,m)=>t.itemSort(p,m,i))),Vn(u,p=>{const m=NS(t.callbacks,p);r.push(qs(m,"labelColor",this,p)),a.push(qs(m,"labelPointStyle",this,p)),l.push(qs(m,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const u=Fd[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=SS(this,i),f=Object.assign({},u,h),p=AS(this.chart,i,f),m=ES(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:m.x,y:m.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const a=this.getCaretPosition(t,i,r);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=bf(u),{x:_,y}=t,{width:S,height:T}=e;let C,E,D,j,H,K;return a==="center"?(H=y+T/2,r==="left"?(C=_,E=C-l,j=H+l,K=H-l):(C=_+S,E=C+l,j=H-l,K=H+l),D=C):(r==="left"?E=_+Math.max(h,p)+l:r==="right"?E=_+S-Math.max(f,m)-l:E=this.caretX,a==="top"?(j=y,H=j-l,C=E-l,D=E+l):(j=y+T,H=j+l,C=E+l,D=E-l),K=j),{x1:C,x2:E,x3:D,y1:j,y2:H,y3:K}}drawTitle(t,e,i){const r=this.title,a=r.length;let l,u,h;if(a){const f=_f(i.rtl,this.x,this.width);for(t.x=Wg(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=cs(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(r[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=cs(a.bodyFont),m=Wg(this,"left",a),_=r.x(m),y=h<p.lineHeight?(p.lineHeight-h)/2:0,S=e.y+y;if(a.usePointStyle){const T={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=r.leftForLtr(_,f)+f/2,E=S+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,pv(t,T,C,E),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,pv(t,T,C,E)}else{t.lineWidth=vn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const T=r.leftForLtr(_,f),C=r.leftForLtr(r.xPlus(_,1),f-2),E=bf(l.borderRadius);Object.values(E).some(D=>D!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Fm(t,{x:T,y:S,w:f,h,radius:E}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Fm(t,{x:C,y:S+1,w:f-2,h:h-2,radius:E}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(T,S,f,h),t.strokeRect(T,S,f,h),t.fillStyle=l.backgroundColor,t.fillRect(C,S+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,m=cs(i.bodyFont);let _=m.lineHeight,y=0;const S=_f(i.rtl,this.x,this.width),T=function(I){e.fillText(I,S.x(t.x+y),t.y+_/2),t.y+=_+a},C=S.textAlign(l);let E,D,j,H,K,Z,k;for(e.textAlign=l,e.textBaseline="middle",e.font=m.string,t.x=Wg(this,C,i),e.fillStyle=i.bodyColor,Vn(this.beforeBody,T),y=u&&C!=="right"?l==="center"?f/2+p:f+2+p:0,H=0,Z=r.length;H<Z;++H){for(E=r[H],D=this.labelTextColors[H],e.fillStyle=D,Vn(E.before,T),j=E.lines,u&&j.length&&(this._drawColorBox(e,t,H,S,i),_=Math.max(m.lineHeight,h)),K=0,k=j.length;K<k;++K)T(j[K]),_=m.lineHeight;Vn(E.after,T)}y=0,_=m.lineHeight,Vn(this.afterBody,T),t.y-=a}drawFooter(t,e,i){const r=this.footer,a=r.length;let l,u;if(a){const h=_f(i.rtl,this.x,this.width);for(t.x=Wg(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=cs(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(r[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=t,{width:f,height:p}=i,{topLeft:m,topRight:_,bottomLeft:y,bottomRight:S}=bf(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+m,h),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-_,h),e.quadraticCurveTo(u+f,h,u+f,h+_),l==="center"&&a==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,h+p-S),e.quadraticCurveTo(u+f,h+p,u+f-S,h+p),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+y,h+p),e.quadraticCurveTo(u,h+p,u,h+p-y),l==="center"&&a==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,h+m),e.quadraticCurveTo(u,h,u+m,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const l=Fd[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=SS(this,t),h=Object.assign({},l,this._size),f=AS(e,t,h),p=ES(t,h,f,e);(r._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=za(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,r,e),bE(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),_E(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Dm(i,r),l=this._positionChanged(r,e);(a||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),h=e||!Dm(l,a)||u;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const a=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:a}=this,l=Fd[a.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}Be(bv,"positioners",Fd);var YE={id:"tooltip",_element:bv,positioners:Fd,afterInit(n,t,e){e&&(n.tooltip=new bv({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:WE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const nF=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function iF(n,t,e,i){const r=n.indexOf(t);if(r===-1)return nF(n,t,e,i);const a=n.lastIndexOf(t);return r!==a?e:r}const rF=(n,t)=>n===null?null:ga(Math.round(n),0,t);function CS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class zm extends Hf{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:a}of e)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(kn(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:iF(i,t,nn(e,t),this._addedLabels),rF(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return CS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Be(zm,"id","category"),Be(zm,"defaults",{ticks:{callback:CS}});function sF(n,t){const e=[],{bounds:r,step:a,min:l,max:u,precision:h,count:f,maxTicks:p,maxDigits:m,includeBounds:_}=n,y=a||1,S=p-1,{min:T,max:C}=t,E=!kn(l),D=!kn(u),j=!kn(f),H=(C-T)/(m+1);let K=Ex((C-T)/S/y)*y,Z,k,I,B;if(K<1e-14&&!E&&!D)return[{value:T},{value:C}];B=Math.ceil(C/K)-Math.floor(T/K),B>S&&(K=Ex(B*K/S/y)*y),kn(h)||(Z=Math.pow(10,h),K=Math.ceil(K*Z)/Z),r==="ticks"?(k=Math.floor(T/K)*K,I=Math.ceil(C/K)*K):(k=T,I=C),E&&D&&a&&vD((u-l)/a,K/1e3)?(B=Math.round(Math.min((u-l)/K,p)),K=(u-l)/B,k=l,I=u):j?(k=E?l:k,I=D?u:I,B=f-1,K=(I-k)/B):(B=(I-k)/K,Qd(B,Math.round(B),K/1e3)?B=Math.round(B):B=Math.ceil(B));const q=Math.max(Tx(K),Tx(k));Z=Math.pow(10,kn(h)?q:h),k=Math.round(k*Z)/Z,I=Math.round(I*Z)/Z;let L=0;for(E&&(_&&k!==l?(e.push({value:l}),k<l&&L++,Qd(Math.round((k+L*K)*Z)/Z,l,RS(l,H,n))&&L++):k<l&&L++);L<B;++L){const P=Math.round((k+L*K)*Z)/Z;if(D&&P>u)break;e.push({value:P})}return D&&_&&I!==u?e.length&&Qd(e[e.length-1].value,u,RS(u,H,n))?e[e.length-1].value=u:e.push({value:u}):(!D||I===u)&&e.push({value:I}),e}function RS(n,t,{horizontal:e,minRotation:i}){const r=Zc(i),a=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class aF extends Hf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return kn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const l=h=>r=e?r:h,u=h=>a=i?a:h;if(t){const h=bl(r),f=bl(a);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(r===a){let h=a===0?1:Math.abs(a*.05);u(a+h),t||l(r-h)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=sF(r,a);return t.bounds==="ticks"&&yD(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return uE(t,this.chart.options.locale,this.options.ticks.format)}}class Um extends aF{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=fs(t)?t:0,this.max=fs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Zc(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Be(Um,"id","linear"),Be(Um,"defaults",{ticks:{callback:cE.formatters.numeric}});const S0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gs=Object.keys(S0);function IS(n,t){return n-t}function LS(n,t){if(kn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),fs(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(mp(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,r)),+l)}function PS(n,t,e,i){const r=Gs.length;for(let a=Gs.indexOf(n);a<r-1;++a){const l=S0[Gs[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Gs[a]}return Gs[r-1]}function oF(n,t,e,i,r){for(let a=Gs.length-1;a>=Gs.indexOf(e);a--){const l=Gs[a];if(S0[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Gs[e?Gs.indexOf(e):0]}function lF(n){for(let t=Gs.indexOf(n)+1,e=Gs.length;t<e;++t)if(S0[Gs[t]].common)return Gs[t]}function kS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Ly(e,t),a=e[i]>=t?e[i]:e[r];n[a]=!0}}function uF(n,t,e,i){const r=n._adapter,a=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=a;u<=l;u=+r.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function OS(n,t,e){const i=[],r={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return a===0||!e?i:uF(n,i,r,e)}class qm extends Hf{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new tj._date(t.adapters.date);r.init(e),Xd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:LS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=fs(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),a=fs(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,u=AD(r,a,l);return this._unit=e.unit||(i.autoSkip?PS(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):oF(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:lF(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),OS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=ga(e,0,l),i=ga(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,a=r.time,l=a.unit||PS(a.minUnit,e,i,this._getLabelCapacity(e)),u=nn(r.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=mp(h)||h===!0,p={};let m=e,_,y;if(f&&(m=+t.startOf(m,"isoWeek",h)),m=+t.startOf(m,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(_=m,y=0;_<i;_=+t.add(_,u,l),y++)kS(p,_,S);return(_===i||r.bounds==="ticks"||y===1)&&kS(p,_,S),Object.keys(p).sort(IS).map(T=>+T)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,a=this._unit,l=e||r[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const a=this.options,l=a.ticks.callback;if(l)return ai(l,[t,e,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],m=f&&u[f],_=i[e],y=f&&m&&_&&_.major;return this._adapter.format(t,r||(y?m:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Zc(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,OS(this,[t],this._majorUnit),r),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(LS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return aE(t.sort(IS))}}Be(qm,"id","time"),Be(qm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yg(n,t,e){let i=0,r=n.length-1,a,l,u,h;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=th(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=th(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[r]);const f=l-a;return f?u+(h-u)*(t-a)/f:u}class DS extends qm{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Yg(e,this.min),this._tableRange=Yg(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],a=[];let l,u,h,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],h=r[l-1],f=r[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Yg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Yg(this._table,i*this._tableRange+this._minPos,!0)}}Be(DS,"id","timeseries"),Be(DS,"defaults",qm.defaults);const $E="label";function MS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function cF(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function KE(n,t){n.labels=t}function XE(n,t,e=$E){const i=[];n.datasets=t.map(r=>{const a=n.datasets.find(l=>l[e]===r[e]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function hF(n,t=$E){const e={labels:[],datasets:[]};return KE(e,n.labels),XE(e,n.datasets,t),e}function fF(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:m,..._}=n,y=Tt.useRef(null),S=Tt.useRef(null),T=()=>{y.current&&(S.current=new kp(y.current,{type:l,data:hF(u,a),options:h&&{...h},plugins:f}),MS(t,S.current))},C=()=>{MS(t,null),S.current&&(S.current.destroy(),S.current=null)};return Tt.useEffect(()=>{!r&&S.current&&h&&cF(S.current,h)},[r,h]),Tt.useEffect(()=>{!r&&S.current&&KE(S.current.config.data,u.labels)},[r,u.labels]),Tt.useEffect(()=>{!r&&S.current&&u.datasets&&XE(S.current.config.data,u.datasets,a)},[r,u.datasets]),Tt.useEffect(()=>{S.current&&(r?(C(),setTimeout(T)):S.current.update(m))},[r,h,u.labels,u.datasets,m]),Tt.useEffect(()=>{S.current&&(C(),setTimeout(T))},[l]),Tt.useEffect(()=>(T(),()=>C()),[]),O.jsx("canvas",{ref:y,role:"img",height:e,width:i,..._,children:p})}const dF=Tt.forwardRef(fF);function QE(n,t){return kp.register(t),Tt.forwardRef((e,i)=>O.jsx(dF,{...e,ref:i,type:n}))}const pF=QE("line",um),jS=QE("bar",lm);kp.register(zm,Um,fm,oc,GE,YE,qE,U9);function JE({data:n=[],title:t="Evoluie punctaj"}){if(!n||n.length===0)return O.jsx("div",{className:"empty-state",style:{padding:"var(--space-xl)"},children:O.jsx("p",{className:"text-muted",children:"Nu exist date suficiente pentru grafic."})});const e=n.map(u=>u.date||u.data||""),i=n.map(u=>u.score||u.punctaj||0),r=i.reduce((u,h)=>u+h,0)/i.length,a={labels:e,datasets:[{label:"Punctaj",data:i,borderColor:"#3F51B5",backgroundColor:"rgba(63, 81, 181, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#3F51B5",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:5,pointHoverRadius:7},{label:"Media",data:Array(i.length).fill(Math.round(r)),borderColor:"#FF9800",borderDash:[6,4],pointRadius:0,borderWidth:2,fill:!1}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{family:"Inter",size:12},usePointStyle:!0,padding:20}},title:{display:!0,text:t,font:{family:"Inter",size:16,weight:600},color:"#1A237E",padding:{bottom:16}},tooltip:{backgroundColor:"rgba(26, 35, 126, 0.9)",titleFont:{family:"Inter"},bodyFont:{family:"Inter"},cornerRadius:8,padding:12}},scales:{y:{beginAtZero:!0,max:100,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter",size:11},callback:u=>u+"%"}},x:{grid:{display:!1},ticks:{font:{family:"Inter",size:11}}}}};return O.jsx("div",{className:"chart-container",children:O.jsx(pF,{data:a,options:l})})}function gF(){const{user:n}=qf(),[t,e]=Tt.useState([]),[i,r]=Tt.useState(!0),[a,l]=Tt.useState(""),[u,h]=Tt.useState(""),[f,p]=Tt.useState(null),[m,_]=Tt.useState([]);Tt.useEffect(()=>{y()},[]);const y=async()=>{try{let E=[];try{E=await d0()}catch(j){console.log("Sheets nu este configurat, se folosesc datele demo:",j.message),E=S()}e(E);const D=[...new Set(E.map(j=>j.clasa).filter(Boolean))];_(D)}catch(E){console.error("Eroare ncrcare date:",E),e(S())}finally{r(!1)}},S=()=>[{id:"1",numeElev:"Maria Ionescu",clasa:"V A",data:"2026-02-28",textOcr:"Text exemplu scris de elev cu unele greseli de ortografie si gramatica.",greseliJson:[{tip:"ortografie",textGresit:"greseli",textCorect:"greeli",explicatie:"Se scrie cu , nu cu s."},{tip:"gramatica",textGresit:"si",textCorect:"i",explicatie:'Conjuncia i" se scrie cu  din i.'}],punctaj:78},{id:"2",numeElev:"Andrei Popa",clasa:"V A",data:"2026-02-28",textOcr:"Exercitiul de matematica a fost rezolvat corect.",greseliJson:[{tip:"ortografie",textGresit:"Exercitiul",textCorect:"Exerciiul",explicatie:"Se scrie cu ."}],punctaj:92},{id:"3",numeElev:"Maria Ionescu",clasa:"V A",data:"2026-02-27",textOcr:"Compunerea mea despre natura.",greseliJson:[],punctaj:85},{id:"4",numeElev:"Elena Dumitrescu",clasa:"V B",data:"2026-02-27",textOcr:"Testul de limba romana a fost greu.",greseliJson:[{tip:"ortografie",textGresit:"romana",textCorect:"romn",explicatie:"Se scrie cu ."},{tip:"gramatica",textGresit:"a fost greu",textCorect:"a fost grea",explicatie:"Adjectivul trebuie acordat cu substantivul."}],punctaj:65},{id:"5",numeElev:"Andrei Popa",clasa:"V A",data:"2026-02-26",textOcr:"Rezolvarea problemelor de algebr.",greseliJson:[],punctaj:88}],T={};t.forEach(E=>{const D=E.numeElev;if(!D)return;T[D]||(T[D]={name:D,class:E.clasa,corrections:[],totalErrors:0,avgScore:0}),T[D].corrections.push(E);const j=E.greseliJson||[];T[D].totalErrors+=j.length}),Object.values(T).forEach(E=>{const D=E.corrections.filter(j=>j.punctaj>0).map(j=>j.punctaj);E.avgScore=D.length>0?Math.round(D.reduce((j,H)=>j+H,0)/D.length):0});const C=Object.values(T).filter(E=>{const D=E.name.toLowerCase().includes(a.toLowerCase()),j=!u||E.class===u;return D&&j});if(i)return O.jsxs("div",{className:"loading-container",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Se ncarc datele elevilor..."})]});if(f){const E=T[f];if(!E)return null;const D=E.corrections.map(Z=>({date:Z.data,score:Z.punctaj})).reverse(),j=E.corrections.flatMap(Z=>Z.greseliJson||[]),H={};j.forEach(Z=>{const k=Z.textGresit;H[k]||(H[k]={...Z,count:0}),H[k].count++});const K=Object.values(H).sort((Z,k)=>k.count-Z.count).slice(0,5);return O.jsxs("div",{children:[O.jsx("button",{className:"btn btn-ghost",onClick:()=>p(null),style:{marginBottom:"var(--space-lg)"},children:" napoi la lista elevilor"}),O.jsxs("div",{className:"page-header",children:[O.jsxs("h1",{children:[" ",E.name]}),O.jsxs("p",{children:["Clasa ",E.class,"  ",E.corrections.length," corectri  Media: ",E.avgScore,"%"]})]}),O.jsxs("div",{className:"stats-grid",children:[O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon blue",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:E.corrections.length}),O.jsx("p",{children:"Total corectri"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon green",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsxs("h3",{children:[E.avgScore,"%"]}),O.jsx("p",{children:"Punctaj mediu"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon orange",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:E.totalErrors}),O.jsx("p",{children:"Total greeli"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon red",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:K.length>0?K[0].tip:"-"}),O.jsx("p",{children:"Tip frecvent"})]})]})]}),O.jsx("div",{className:"card",style:{marginBottom:"var(--space-xl)"},children:O.jsx(JE,{data:D,title:`Evoluie punctaj  ${E.name}`})}),K.length>0&&O.jsxs("div",{className:"card",style:{marginBottom:"var(--space-xl)"},children:[O.jsx("div",{className:"card-header",children:O.jsx("h2",{children:" Greeli frecvente"})}),O.jsx("div",{className:"table-container",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Greeal"}),O.jsx("th",{children:"Corect"}),O.jsx("th",{children:"Tip"}),O.jsx("th",{children:"Frecven"})]})}),O.jsx("tbody",{children:K.map((Z,k)=>O.jsxs("tr",{children:[O.jsx("td",{className:"error-wrong",children:Z.textGresit}),O.jsx("td",{className:"error-correct",children:Z.textCorect}),O.jsx("td",{children:O.jsx("span",{className:`badge badge-${Z.tip==="ortografie"?"ortografie":Z.tip==="gramatica"?"gramatica":"continut"}`,children:Z.tip})}),O.jsxs("td",{style:{fontWeight:700},children:[Z.count,""]})]},k))})]})})]}),O.jsxs("div",{className:"card",style:{marginBottom:"var(--space-xl)"},children:[O.jsx("div",{className:"card-header",children:O.jsx("h2",{children:" Istoric corectri"})}),O.jsx("div",{className:"table-container",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Data"}),O.jsx("th",{children:"Punctaj"}),O.jsx("th",{children:"Greeli"}),O.jsx("th",{children:"Status"})]})}),O.jsx("tbody",{children:E.corrections.map((Z,k)=>O.jsxs("tr",{children:[O.jsx("td",{children:Z.data}),O.jsxs("td",{style:{fontWeight:700,color:Z.punctaj>=70?"var(--success-700)":Z.punctaj>=50?"var(--warning-700)":"var(--error-700)"},children:[Z.punctaj,"%"]}),O.jsx("td",{children:(Z.greseliJson||[]).length}),O.jsx("td",{children:O.jsx("span",{className:`badge ${Z.punctaj>=50?"badge-success":"badge-ortografie"}`,children:Z.punctaj>=50?" Promovat":" Nepromovat"})})]},k))})]})})]}),j.length>0&&O.jsx(L3,{errors:j.slice(0,5)})]})}return O.jsxs("div",{children:[O.jsxs("div",{className:"page-header",children:[O.jsx("h1",{children:" Istoric elevi"}),O.jsx("p",{children:"Vezi toate corectrile i progresul elevilor ti."})]}),O.jsxs("div",{className:"filter-bar",children:[O.jsx("input",{type:"text",className:"input",placeholder:" Caut elev...",value:a,onChange:E=>l(E.target.value)}),O.jsxs("select",{className:"input select",value:u,onChange:E=>h(E.target.value),children:[O.jsx("option",{value:"",children:"Toate clasele"}),m.map(E=>O.jsx("option",{value:E,children:E},E))]})]}),C.length===0?O.jsxs("div",{className:"empty-state card",children:[O.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[O.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),O.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),O.jsx("h3",{children:"Niciun elev gsit"}),O.jsx("p",{children:"Modific filtrele sau ncarc o corectare nou."})]}):O.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"var(--space-md)"},children:C.map((E,D)=>O.jsxs("div",{className:"card",style:{cursor:"pointer"},onClick:()=>p(E.name),children:[O.jsxs("div",{className:"flex items-center gap-md",style:{marginBottom:"var(--space-md)"},children:[O.jsx("div",{style:{width:48,height:48,borderRadius:"var(--radius-full)",background:"linear-gradient(135deg, var(--primary-100), var(--primary-200))",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,color:"var(--primary-800)",fontSize:"1.1rem"},children:E.name.split(" ").map(j=>j[0]).join("").slice(0,2)}),O.jsxs("div",{children:[O.jsx("h3",{style:{fontSize:"1rem",marginBottom:2},children:E.name}),O.jsxs("span",{className:"text-sm text-muted",children:["Clasa ",E.class]})]})]}),O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsxs("div",{className:"text-sm",children:[O.jsxs("span",{className:"text-muted",children:[E.corrections.length," corectri"]}),O.jsx("span",{style:{margin:"0 8px",color:"var(--gray-300)"},children:""}),O.jsxs("span",{className:"text-muted",children:[E.totalErrors," greeli"]})]}),O.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:800,color:E.avgScore>=70?"var(--success-700)":E.avgScore>=50?"var(--warning-700)":"var(--error-700)"},children:[E.avgScore,"%"]})]}),O.jsx("div",{style:{marginTop:"var(--space-sm)",height:4,borderRadius:2,background:"var(--gray-200)"},children:O.jsx("div",{style:{height:"100%",borderRadius:2,width:`${E.avgScore}%`,background:E.avgScore>=70?"var(--success-500)":E.avgScore>=50?"var(--warning-500)":"var(--error-500)",transition:"width 0.5s ease"}})})]},D))})]})}kp.register(zm,Um,dm,GE,YE,qE);function mF(){const[n,t]=Tt.useState([]),[e,i]=Tt.useState(!0);Tt.useEffect(()=>{r()},[]);const r=async()=>{try{let S=[];try{S=await d0()}catch{S=a()}t(S)}catch{t(a())}finally{i(!1)}},a=()=>[{numeElev:"Maria Ionescu",clasa:"V A",data:"2026-02-20",greseliJson:[{tip:"ortografie"},{tip:"gramatica"}],punctaj:72},{numeElev:"Andrei Popa",clasa:"V A",data:"2026-02-21",greseliJson:[{tip:"ortografie"}],punctaj:88},{numeElev:"Maria Ionescu",clasa:"V A",data:"2026-02-22",greseliJson:[{tip:"gramatica"}],punctaj:85},{numeElev:"Elena Dumitrescu",clasa:"V B",data:"2026-02-23",greseliJson:[{tip:"ortografie"},{tip:"continut"}],punctaj:65},{numeElev:"Andrei Popa",clasa:"V A",data:"2026-02-24",greseliJson:[],punctaj:92},{numeElev:"Maria Ionescu",clasa:"V A",data:"2026-02-25",greseliJson:[],punctaj:90},{numeElev:"Elena Dumitrescu",clasa:"V B",data:"2026-02-26",greseliJson:[{tip:"gramatica"}],punctaj:74},{numeElev:"Ion Marin",clasa:"V B",data:"2026-02-27",greseliJson:[{tip:"ortografie"},{tip:"ortografie"},{tip:"gramatica"}],punctaj:58},{numeElev:"Andrei Popa",clasa:"V A",data:"2026-02-28",greseliJson:[],punctaj:95}],l=n.flatMap(S=>S.greseliJson||[]),u={ortografie:l.filter(S=>S.tip==="ortografie").length,gramatica:l.filter(S=>S.tip==="gramatica").length,continut:l.filter(S=>S.tip==="continut").length},h={};n.forEach(S=>{!S.data||!S.punctaj||(h[S.data]||(h[S.data]=[]),h[S.data].push(S.punctaj))});const f=Object.entries(h).sort(([S],[T])=>S.localeCompare(T)).map(([S,T])=>({date:S,score:Math.round(T.reduce((C,E)=>C+E,0)/T.length)})),p={};n.forEach(S=>{!S.clasa||!S.punctaj||(p[S.clasa]||(p[S.clasa]=[]),p[S.clasa].push(S.punctaj))});const m={labels:Object.keys(p),datasets:[{label:"Punctaj mediu",data:Object.values(p).map(S=>Math.round(S.reduce((T,C)=>T+C,0)/S.length)),backgroundColor:["rgba(63, 81, 181, 0.7)","rgba(76, 175, 80, 0.7)","rgba(255, 152, 0, 0.7)","rgba(244, 67, 54, 0.7)"],borderColor:["#3F51B5","#4CAF50","#FF9800","#F44336"],borderWidth:2,borderRadius:8}]},_={labels:["Ortografie","Gramatic","Coninut"],datasets:[{label:"Numr greeli",data:[u.ortografie,u.gramatica,u.continut],backgroundColor:["rgba(198, 40, 40, 0.7)","rgba(230, 81, 0, 0.7)","rgba(21, 101, 192, 0.7)"],borderColor:["#C62828","#E65100","#1565C0"],borderWidth:2,borderRadius:8}]},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(26, 35, 126, 0.9)",cornerRadius:8,padding:12}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter",weight:600}}}}};return e?O.jsxs("div",{className:"loading-container",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Se ncarc statisticile..."})]}):O.jsxs("div",{children:[O.jsxs("div",{className:"page-header",children:[O.jsx("h1",{children:" Statistici"}),O.jsx("p",{children:"Analiz general a performanei elevilor."})]}),O.jsxs("div",{className:"stats-grid",children:[O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon blue",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:n.length}),O.jsx("p",{children:"Total corectri"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon red",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:u.ortografie}),O.jsx("p",{children:"Greeli ortografie"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon orange",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:u.gramatica}),O.jsx("p",{children:"Greeli gramatic"})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon blue",children:""}),O.jsxs("div",{className:"stat-info",children:[O.jsx("h3",{children:u.continut}),O.jsx("p",{children:"Greeli coninut"})]})]})]}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"var(--space-lg)"},children:[O.jsx("div",{className:"card",children:O.jsx(JE,{data:f,title:"Evoluie punctaj mediu general"})}),O.jsxs("div",{className:"card",children:[O.jsx("h3",{style:{marginBottom:"var(--space-md)",color:"var(--primary-900)"},children:"Distribuie greeli pe categorii"}),O.jsx("div",{className:"chart-container",children:O.jsx(jS,{data:_,options:y})})]}),Object.keys(p).length>1&&O.jsxs("div",{className:"card",children:[O.jsx("h3",{style:{marginBottom:"var(--space-md)",color:"var(--primary-900)"},children:"Punctaj mediu per clas"}),O.jsx("div",{className:"chart-container",children:O.jsx(jS,{data:m,options:y})})]})]})]})}function vF(){const[n,t]=Tt.useState(Sy()),[e,i]=Tt.useState(!1),[r,a]=Tt.useState(!1),[l,u]=Tt.useState(null),[h,f]=Tt.useState(C3()),p=()=>{$w(n.trim()),f(!!n.trim()),i(!0),u(null),setTimeout(()=>i(!1),3e3)},m=async()=>{var _;if(!n.trim()){u({ok:!1,message:"Introdu o cheie API mai nti."});return}a(!0),u(null);try{const y=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${n.trim()}`,S=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:'Spune "OK" i nimic altceva.'}]}],generationConfig:{maxOutputTokens:10}})});if(S.ok)u({ok:!0,message:" Cheia API funcioneaz corect!"}),$w(n.trim()),f(!0),i(!0),setTimeout(()=>i(!1),3e3);else{const T=await S.json().catch(()=>null),C=((_=T==null?void 0:T.error)==null?void 0:_.message)||`Eroare HTTP ${S.status}`;u({ok:!1,message:` ${C}`})}}catch(y){u({ok:!1,message:` Eroare de conexiune: ${y.message}`})}finally{a(!1)}};return O.jsxs("div",{className:"settings-page",children:[O.jsxs("div",{className:"page-header",children:[O.jsx("h1",{children:" Setri"}),O.jsx("p",{children:"Configureaz cheile API necesare pentru funcionarea aplicaiei."})]}),O.jsxs("div",{className:"card",style:{marginBottom:"var(--space-xl)"},children:[O.jsxs("div",{className:"card-header",children:[O.jsx("h2",{children:" Cheie API Gemini"}),h&&O.jsx("span",{className:"badge badge-success",children:" Configurat"})]}),O.jsxs("div",{style:{padding:"var(--space-md)",background:"var(--primary-50, #e8eaf6)",border:"1px solid var(--primary-200, #9fa8da)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-lg)",fontSize:"0.85rem",color:"var(--primary-800, #283593)"},children:[O.jsx("strong",{children:" De ce este nevoie de aceast setare?"}),O.jsx("br",{}),"Cheia API Gemini este necesar pentru analiza textelor i imaginilor. Se stocheaz ",O.jsx("strong",{children:"doar local n browserul tu"}),"  nu ajunge pe niciun server.",O.jsx("br",{}),O.jsx("br",{}),O.jsx("strong",{children:"Cum obii o cheie:"})," Mergi la"," ",O.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary-700)",fontWeight:600},children:"Google AI Studio  Get API Key"})," ","i creeaz una nou."]}),O.jsxs("div",{className:"input-group",style:{marginBottom:"var(--space-lg)"},children:[O.jsx("label",{children:"Cheie API Gemini"}),O.jsx("input",{type:"password",className:"input",placeholder:"AIzaSy...",value:n,onChange:_=>{t(_.target.value),i(!1),u(null)},style:{fontFamily:"monospace"}})]}),O.jsxs("div",{className:"flex gap-md",style:{flexWrap:"wrap"},children:[O.jsxs("button",{className:"btn btn-primary",onClick:p,disabled:!n.trim(),children:[O.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[O.jsx("path",{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}),O.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),O.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Salveaz"]}),O.jsx("button",{className:"btn btn-secondary",onClick:m,disabled:r||!n.trim(),children:r?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"spinner",style:{width:16,height:16,borderWidth:2}}),"Se testeaz..."]}):O.jsxs(O.Fragment,{children:[O.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:O.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Testeaz cheia"]})})]}),e&&O.jsx("div",{style:{marginTop:"var(--space-md)",padding:"var(--space-sm) var(--space-md)",background:"var(--success-50, #e8f5e9)",border:"1px solid var(--success-200, #a5d6a7)",borderRadius:"var(--radius-md)",color:"var(--success-800, #2e7d32)",fontSize:"0.85rem"},children:" Cheia a fost salvat local n browser."}),l&&O.jsx("div",{style:{marginTop:"var(--space-md)",padding:"var(--space-sm) var(--space-md)",background:l.ok?"var(--success-50, #e8f5e9)":"var(--error-50, #ffebee)",border:`1px solid ${l.ok?"var(--success-200, #a5d6a7)":"var(--error-200, #ef9a9a)"}`,borderRadius:"var(--radius-md)",color:l.ok?"var(--success-800, #2e7d32)":"var(--error-800, #c62828)",fontSize:"0.85rem"},children:l.message})]}),O.jsxs("div",{className:"card",children:[O.jsx("div",{className:"card-header",children:O.jsx("h2",{children:" Alte configurri"})}),O.jsx("div",{className:"table-container",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Serviciu"}),O.jsx("th",{children:"Status"}),O.jsx("th",{children:"Detalii"})]})}),O.jsxs("tbody",{children:[O.jsxs("tr",{children:[O.jsx("td",{style:{fontWeight:600},children:"Gemini API"}),O.jsx("td",{children:O.jsx("span",{className:`badge ${h?"badge-success":"badge-ortografie"}`,children:h?" Configurat":" Neconfigurat"})}),O.jsx("td",{className:"text-muted",children:"Analiz text + imagine"})]}),O.jsxs("tr",{children:[O.jsx("td",{style:{fontWeight:600},children:"Google Sheets"}),O.jsx("td",{children:O.jsx("span",{className:"badge badge-success",children:" Configurat"})}),O.jsx("td",{className:"text-muted",children:"Citire date OCR"})]}),O.jsxs("tr",{children:[O.jsx("td",{style:{fontWeight:600},children:"Google Drive"}),O.jsx("td",{children:O.jsx("span",{className:"badge badge-gramatica",children:" Opional"})}),O.jsx("td",{className:"text-muted",children:"Upload imagini (necesit Google Auth)"})]})]})]})})]})]})}function yF(){return O.jsx(u7,{children:O.jsx(qN,{children:O.jsxs(bN,{children:[O.jsx(Qu,{path:"/login",element:O.jsx(p7,{})}),O.jsxs(Qu,{path:"/",element:O.jsx(c7,{children:O.jsx(d7,{})}),children:[O.jsx(Qu,{index:!0,element:O.jsx(_7,{})}),O.jsx(Qu,{path:"corectare",element:O.jsx(jO,{})}),O.jsx(Qu,{path:"istoric",element:O.jsx(gF,{})}),O.jsx(Qu,{path:"statistici",element:O.jsx(mF,{})}),O.jsx(Qu,{path:"setari",element:O.jsx(vF,{})})]})]})})})}b6.createRoot(document.getElementById("root")).render(O.jsx(Tt.StrictMode,{children:O.jsx(yF,{})}));export{zn as _,l6 as c,_F as g};
